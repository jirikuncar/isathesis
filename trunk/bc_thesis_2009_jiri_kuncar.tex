%% LyX 1.6.2 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[12pt,czech,notitlepage]{report}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\pagestyle{plain}
\setcounter{secnumdepth}{1}
\setcounter{tocdepth}{1}
\usepackage{babel}

\usepackage{varioref}
\usepackage{url}
\usepackage{graphicx}
\usepackage[unicode=true, pdfusetitle,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=false,pdfborder={0 0 1},backref=false,colorlinks=false]
 {hyperref}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
\newcommand{\noun}[1]{\textsc{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usepackage{a4wide}
\usepackage[left=4cm]{geometry}

\begin{document}
\begin{titlepage}\vspace{15mm}


\begin{center}
{\large Univerzita Karlova v Praze}\\
{\large Matematicko-fyzikální fakulta\vspace{5mm}
}
\par\end{center}{\large \par}

\begin{center}
\textbf{\Large BAKALÁŘSKÁ PRÁCE\vspace{10mm}
}
\par\end{center}{\Large \par}

\begin{center}
\includegraphics[scale=0.3]{logo}\vspace{15mm}

\par\end{center}

\begin{center}
{\Large Jiří Kunčar \vspace{5mm}
}
\par\end{center}{\Large \par}

\begin{center}
\textbf{\Large Informační systém pro jazykovou agenturu\vspace{5mm}
}
\par\end{center}{\Large \par}

\begin{center}
\textbf{\large Ústav formální a aplikované lingvistiky\vspace{15mm}
}
\par\end{center}{\large \par}

\noindent \begin{center}
{\large Vedoucí bakalářské práce: RNDr. Miroslav Spousta \vspace{1mm}
}
\par\end{center}{\large \par}

\noindent \begin{center}
{\large Studijní program: informatika, správa počítačových systémů\vspace{20mm}
}
\par\end{center}{\large \par}

\begin{center}
{\large 2009}
\par\end{center}{\large \par}

\end{titlepage}\setcounter{page}{2}

\vspace{10mm}


\noindent Děkuji panu RNDr. Miroslavu Spoustovi za pomoc, připomínky,
cenné rady a za odborné vedení bakalářské práce. Dále bych rád poděkoval
firmě Primalingua s.r.o. za poskytnutí prostředků na vývoj aplikace.
Speciální poděkování patří především paní majitelce Mgr. Miluši Psotové
a paní RNDr. Jitce Kunčarové, která vývoj informačního systému iniciovala.

\vfill{}


\noindent Prohlašuji, že jsem svou bakalářskou práci napsal samostatně
a výhradně s použitím citovaných pramenů. Souhlasím se zapůjčováním
práce a jejím zveřejňováním.\bigskip{}


\noindent V Praze dne 6.8.2009 \hfill{}Jiří Kunčar

\tableofcontents{}

\newpage{}

\noindent Název práce: Informační systém pro jazykovou agenturu\\
Autor: Jiří Kunčar\\
Katedra (ústav): Ústav formální a aplikované lingvistiky\\
Vedoucí bakalářské práce: RNDr. Miroslav Spousta\\
e-mail vedoucího: Miroslav.Spousta@mff.cuni.cz\\


\noindent Abstrakt: Cílem práce je navrhnout a implementovat modulární
informační systém pro firmu zabývající se výukou jazyků.

\noindent Součástí informačního systému bude zejména:

\noindent - modul pro nabídku a prodej kurzů pro veřejnost, individuální
výuku, jazykovou výuku pro podniky, překlady a tlumočení 

\noindent - modul produkty (výuka, překlady, tlumočení), výuka (individuální
výuka, kurzy pro veřejnost, jazyková výuka pro podniky) 

\noindent - modul pro News (hromadné rozesílání mailem), rozvrh výuky,
třídní knihy, studijní materiály 

\noindent - modul dodavatelé (smlouvy s lektory, překladateli, tlumočníky,
měsíční výkazy odpracovaných hodin, měsíční přehledy nákladů na lektory,
překladatele, tlumočníky) 

\noindent - modul odběratelé (zápisy do kurzů pro veřejnost, objednávky,
smlouvy, přílohy faktur za období od-do) 

\noindent - modul pro testování znalostí (jednoduché testovací prostředí) 

\noindent - modul pro správu IS (uživatelé, jejich práva, přehled
změn).\\


\noindent Klíčová slova: informační systém, PHP, MySQL 

\vspace{10mm}


\noindent Title: Information system of a language school\\
Author: Jiří Kunčar\\
Department: Institute of Formal and Applied Linguistics\\
Supervisor: RNDr. Miroslav Spousta

\noindent Supervisor's e-mail address: Miroslav.Spousta@mff.cuni.cz\\


\noindent Abstract: The goal of the thesis is to design and implement
a modular information system for a company involved in teaching of
foreign languages.

\noindent The main parts of the information system will include, particularly: 

\noindent - a module for offer and sale of courses to the public and
individuals, language training for businesses, translation and interpretation 

\noindent - a module of products (teaching, translation and interpretation),
training (individual training courses for the public, language classes
for businesses) 

\noindent - a module for News (sending bulk mail), the schedule of
teaching, class books, study material 

\noindent - a module of suppliers (contracts with teachers, translators,
interpreters, monthly class-sheets, monthly reports on the cost of
staff translators and interpreters) 

\noindent - a module of customers (registration in courses, orders,
contracts, supplements to invoices for \textquotedbl{}from-to\textquotedbl{}
periods) 

\noindent - a module for testing of knowledge levels (a simple testing
environment) 

\noindent - a module for managing the IS (users, their rights and
a summary of changes)\\


\noindent Keywords: information system, PHP, MySQL

\newpage{}


\chapter*{Úvod}

Informační systémy hrají v rychle se rozvíjejícím prostředí svou nepostradatelou
roli a Internet, který se stal dostupným pro širokou veřejnost, jim
poskytl výbornou platformu úmožňující další rozvoj v dříve nepříliš
využívaném virtuálním prostředí. Úmožňují snadné a rychlé zpracování,
vyhledávání a publikovaní informací, které se díky němu stávají dostupné
pro širší spektrum zákazníků, dodavatelů i samotných zaměstanců. 

S využíváním Internetu zároveň rostou nároky na funkce, bezpečnost
a dostupnost uložených informací, které jsou pro chod firem životně
důležité a bývají jejich nejcenějším majetkem. Toto zvyšuje požadavky
na robustnost řešení včetně nároků na nástroje použité při implementaci
systému, kdy malá chyba může zapříčinit únik citlivých dat a jejich
zneužití.

Před zavádění informačního systému je nutné stanovit, čeho chce firma
s jeho využitím v~daném čase dosáhnout. Tomu by měla pomoci důkladná
analýza firemních procesů a~jejich optimalizace.

\begin{center}
\textit{,,Kdo nepozná vlastní firemní procesy, nemůže je zlepšovat.''}\textit{\emph{\cite{informační systémy}}}
\par\end{center}

Změna zavedených procesů bývá náročná, jak z finančního hlediska,
tak z hledika její vlastní realizace. , která se nemusí dotknout jen
... 

Z původních jednoduchých aplikací na 

Informačný systém, Client/Server. 


\section*{Cíle práce}

Cílem práce je návrh a implementace informačního systému usnadňující
činnost a spolupráci více subjektů za použití vhodných opensource
technologií a frameworků v použitých programovacích jazycích.

Cílem práce není vytvořit, vzhledem k náročným právním úpravám a častým
změnám, komplexní účetní program, ale pouze systém úmožnící vytvořit
přehledy pro účetní evidenci, které mohou být zavedeny do některého
již existujícího programu.


\section*{Obsah práce}
\begin{itemize}
\item Analýza úlohy
\item Požadavky
\item Existujicí implementace - IS na míru vs. hotová řešení
\item Návrh vlastní implementace

\begin{itemize}
\item bezpečnost: Sanitize, 

\begin{itemize}
\item SQL Injection, Cross Site Scripting
\end{itemize}
\item výkonnost (použití cache)
\item optimalizace GET/POST požadavků na stránku
\end{itemize}
\item Programátorská dokumentace
\item Uživatelská dokumentace
\end{itemize}
Poznamky k prepsani....

Ve druhé kapitole této práce je provedena analýza úlohy s ohledem
na několik motivačních praktických příkladů. V této kapitole jsou
mimo jiné stanoveny požadavky na řešení a je uveden přehled obdobných
existujících implementací.

Ve třetí kapitole jsou stručně popsány technologie dále používané
v této práci a je ukázáno jejich použití.

Čtvrtá kapitola popisuje návrh vlastní implementace s ohledem na požadavky
stanovené v kapitole druhé. Jsou zde základní návrhová rozhodnutí
a důvody pro volbu konkrétních řešení.

Pátá kapitola obsahuje programátorskou dokumentaci. Je zde popsáno
technické řešení implementace a jsou nastíněny některé problémy, které
bylo při implementaci nutné řešit.

Uživatelská dokumentace je obsažena v šesté kapitole. Popisuje uživatelské
rozhraní vytvořených aplikací a ukazuje jejich použití na konkrétních
příkladech.

V závěru jsou přehledně shrnuty výsledky, kterých bylo při vývoji
systému dosaženo, a jsou naznačeny možnosti dalšího rozšíření.


\chapter{Existující implementace}

Existujicí aplikace lze rozdělit na několik skupin, kde ovšem žádná
nepokrývá veškeré požadavky v plném rozsahu. První se více zaměřuje
na správu webového obsahu. Označované anglickou zkratkou CMS%
\footnote{\href{http://wdw}{wdw}%
} nebo WCMS%
\footnote{df%
} označující webové systémy. Tyto systémy lze rozdělit do podskupin
podle způsobu, jakým prezentují uložená data.
\begin{description}
\item [{Offline~zpracování}] Server vygeneruje statické HTML před samotnou
publikací, proto takové systémy nepořebují, aby server aplikoval šablony
na data při každém požadavku. Výhody jsou zjevné pro vytížené CMS
používané převážně pro čtení dat. Naopak při častých změnách dat můžou
být tyto systémy pomalé nebo neaktuální, proto je nutné si jejich
nasazení řádně rozmyslet. Příkladem takového systému je například
Vignette CMS%
\footnote{\url{http://www.vignette.com/}%
}.
\item [{Online~zpracování}] Server generuje prezentační data až na základě
požadavků klienta. Pro keše ... Pokročilé systémy úmožňují i úpravy
základních šablon, bez zásahu do zdrojových kódu http://tangocms.org/
joomla drupal ...\\
http://php.opensourcecms.com/
\item [{Hybridní}] ...
\item [{E-learning}] ... Moodle
\item [{ciele:}]~
\item [{{*}}] strategické (plánovanie investícií…) {*} taktické (vedenie,
kontrola rozpočtu…) {*} operatívne (každodenná rutina)
\item [{Dôležité}] sú tiež úlohy IS:
\item [{{*}}] manažérske (EIS - Executive IS) {*} taktické (DSS - Decision
Support System) {*} vedenie (MIS - Management IS) {*} expertné (KWS
- Knowledge Work System) {*} kancelárske (OIS - Office IS) {*} operatívne
o TPS - transakčné (banky, ...) o CRM - vzťahy so zákazníkmi o RIS
- rezervačné systémy o CAM - konštrukčné (CAD, ...) o GIS - geografické
systémy
\end{description}

\chapter{Analýza úlohy\label{cha:Anal=0000FDza-=0000FAlohy}}

Základním úkolem jazykové agentury je zajišťovat služby v oblasti
jazykového vzdělání, překladů a tlumočení pro široké spektrum firemních
i individuálních zákazníků.

Podniky posílají poptávky bez ohledu na nabídku konkrétních kurzů.
Manažer vyřizuje zakázku elektronickou poštou, telefonicky nebo osobně.
Všechny získané informace musí být schopen zaznamenat pro pozdější
zajišťování vhodných dodavatelů . 

Veřejnost posílá zápisové listy s ohledem na nabídku kurzů pro veřejnost.
Manažer sestavuje skupiny podle zápisových listů a potvrzuje místo,
termíny a cenu výuky. Současně probíhá zajišťování lektorů.

Dále jsou v kapitole popsány specifické požadavky na systém a návrhy
jejich možného řešení.


\section{Požadavky klienta\label{sec:Po=00017Eadavky-klienta}}

Na začátku stála žádost manažerky agentury zjednodušit proces zpracování
měsíčních výkazů lektorů, překladatelů a tlumočníků tvořících podklady
pro mzdy a fakturaci služeb. Tyto měsíční výkazy neměly jednotný vzor
a ani nebylo jednoduše možné, bez znalostí místních poměrů přiřadit
vykázanou činnost k jednotlivým překladům, tlumočení a výuce%
\footnote{Na překlady, tlumočení a výuku je jednotně nahlíženo jako na výsledek
lidské práce dále označovanou jako \emph{produkt}.%
}.


\subsection{Zavedení jednotných identifikátorů}

Kvůli výše uvedným problémům se začalo s postupným zaváděním jednotných
identifikátorů závazných pro všechny zúčastněné strany. Tento nepopulární
krok byl ze začátku velmi těžce příjmán a trvalo několik měsíců, než
se proces tvorby ustálil a začal být všemi akceptován.
\begin{itemize}
\item Z identikátoru musí být zřejmé o jakou kategorii produktu se jedná,
pro koho je určen a kdy byl zaveden, aby se předešlo kolizím jmen
v budoucnu.
\item V~průběhu měsíce vkládá administrátor zadané překlady a nově zahájené
kurzy.
\item U produktu vloží poskytovatele, přiřadí zákazníka, studenty, lektora
nebo překladatele a dále cenu za jednotku. 
\item U lektora či překladatele vloží jeho sazbu za jednotku. 
\item U kurzů vloží předpokládaný rozvh, kde jsou uvedeny dny, čas, lektor
a učebna. Tento rozvrh slouží zároveň jako pomůcka pro stanovení předběžných
nákladů v budoucích měsících. 
\end{itemize}

\subsection{Měsíční výkazy}

Po zavedení identifikátorů bylo potřeba sjednotit formuláře měsíčních
výkazů a připravit dodavatele na možnost jejich elektronického vyplňování.
Papírové formuláře budou do systému vkládány administrativním pracovníkem
a elektronické budou potvrzeny a uzamčeny.
\begin{itemize}
\item Každý měsíc si administrátor může z výkazů odpracovaných jednotek
lektora, překladatele a tlumočníka zobrazit a vytiskout přehled, kde
je souhrn toho, kolik jednotek opracoval v jednotlivých dnech a celkem
u jednotlivých produktů. 
\item Systém musí zobrazit varování při překročení stanoveného počtu vykázaných
odpracovaných hodin nebo přeložených normostran.
\item Podle potřeby potřebuje administrátor rychle řešit suplování a změny
lektorů, k~tomu potřebuje aktuální stav. Příležitostně je třeba zjistit
vytížení překladatelů.
\item Na začátku týdne tiskne administrátor podle potřeby aktuální rozvrhy
učeben a informuje zúčastněné strany o změnách. Časy individuální
výuky jsou pohyblivé, lektoři musí vědět, kdy je v učebnách volno.
\end{itemize}

\subsection{Podklady pro fakturaci}

Se vzrůstajícím objemem překladů a odučených hodin přestávalo být
únosné ruční vytváření měsíčních přehledů pro zákazníky. Ti si přáli
být informování nejen o počtu odučených hodit, ale i o všech změnách
zavedeném měsíčním rozvrhu a případném suplování. Zárověn musely být
v systému zachyceny vazby mezi produktem, zákazníkem a vlastními účastníky
tak, aby bylo možné stanovit výslednou cenu zakázky, která může být
závislá nejen od počtu odučených hodin či přeložených stran, ale i
od počtu účastníků.
\begin{itemize}
\item Před fakturací pro klienta si administrátor může sestavit seznam položek
k fakturaci. 
\item Příloha za překlady a výuku se liší. U překladů není uvedeno jméno
překladatele.
\end{itemize}

\subsection{Správa lektorů a překladatelů}

Práce agentury spočívá mimo jiné i ve shromažďování kontaktů na osoby
zabývající se výukou, překlady a tlumočením. Musí být úmožněno rychlé
vyhledání a jednoduchá editace.
\begin{itemize}
\item V~průběhu měsíce průběžně administrátor vkládá nové dodavatele tj.
zájemce o spolupráci a aktualizuje změny u stávajících.
\item Jedenkrát měsíčně odesílá administrátor minibuletin ,,News'' vybraným
lektorům a překladatelům. 
\item ,,News'' by měly být v systému přístupné pro lektory i překladatele,
protože obsahují přílohy platné pro celý rok.
\end{itemize}

\subsection{Oddělení správy dat více agentur}

Vzhledem ke složitým poměrům v agentuře bylo potřeba oddělit evidenci
zakázek vyřizovaných manažerem pro různé agentury a fyzické osoby,
jenž s agenturami úzce spolupracují. 
\begin{itemize}
\item Při vytváření produktu manažer zvolí poskytovatele služeb podle potřeb
zákazníka.
\end{itemize}

\subsection{Vícejazyková podpora}

Systém je určen primárně pro jazykové agentury, kde se počítá s komunikací
se zákazníky i v jiném než českém jazyce. K tomu bylo potřeba přizpůsobit
systém již od počátku.
\begin{itemize}
\item Uživatelé by měli mít možnost si jednoduše vybrat mezi několika jazykovými
variantami.
\end{itemize}

\subsection{Úzká provázanost s webem}

Na webových stránkách se zobrazuje aktuální rozvh veřejných kurzů,
jenž je i jinak dostupný na dveřích učeben. Ostatní rozvh individuální
výuky bude dostupný po přihlášení do systému.


\section{Definice a upřesnění pojmů}


\subsection{Agentura}


\subsection*{Infomační systém}

Informační systém (IS) je systém pro sběr, udržování, zpracování a
poskytování informací a dat\cite{wikipedia}.


\subsection{Produkt}


\subsection{Zakázka}


\subsection{CSS}


\chapter{Návrh řešení}


\section{Návrh databáze}

Pro ukládání dat bude realizováno v relační databázi. Ta poskytuje
funkce pro vytvoření, čtení, změnu a smazání uložených informací%
\footnote{Někdy je používaní zkratka \emph{CRUD} z anglických slov \emph{create},
\emph{read}, \emph{update}, \emph{delete}.%
} a v tomto případě se jeví jako nejlepší ze způsobů ukládání dat.

V rámci testování byl rovněž vytvořen návrh zjednodušené verze XML%
\footnote{eXtesible Mar Language @todo%
} databáze {[}@todo priloha{]} uchovávané v souboru a zpracovávanho
pomocí jazyka XPath, XQuery či XSLT{[}@todo popis{]}. Výsledky byly
dobré při zpracování omezého množství dat a jednouživatelském přístupu
k datům. Se vzrůstajícím objemem uložených dat začala projevovat prostorová
náročnost použitého značkovacího jazyka a býlo nutné použít kompresi
a rozdělení dat do více souborů. Druhou možnou variantou bylo použití
něktré specializované XML databáze nebo relační databáze s podporou
XML (@todo Oracle, MySQL). Toto řešení, ale nakonec nebylo implementováno
ani v rámci testování.

@todo XML databáze jsou sice již na velmi dobré úrovni v komerčních
produktech, ale jejich implementace ve volně dostupných aplikacích
mírně zaostává.%
\footnote{\href{http://www-01.ibm.com/software/data/db2/express/}{http://www-01.ibm.com/software/data/db2/express/}%
}

Návrh dobře strukturované relační databáze vyžaduje předevších pochopení
vztahů a~procesů fungování firmy, která ji bude využívat. Problémem
s optimalizací navrženého modelu pomáhají řešit algoritmy logického
návrhu relační databáze%
\footnote{@todo vyjmenovat a nejake strucne popsat%
}, které se snaží zajistit, aby navžená databáze byla prostorově efektivní,
eliminovala vznik anomálií a zároveň úmožňovala rychlé zpracování
uživatelských požadavků. Proces návrhu můžeme rozdělit na čtyři základní
fáze\cite{soukupova 2004}: analýza požadavků a specifikace, konceptuální
návrh, logický návrh a fyzický návrh.


\subsection{Analýza požadavků }

Analýza požadavků vycházi z informací popsaných \vpageref{cha:Anal=0000FDza-=0000FAlohy}
a snaží se je co nepřesněji interpretovat pro použití v dalších fázích
návrhu.


\subsection{Konceptuální návrh}


\subsubsection{Produkty }

Ne všechny specifické informace o daných produktech je potřeba udržovat
jako speciální atributy. Zvítězila proto varianta jedné tabulky s
minimem položek pro produkt. V budoucí rozšiřovaní by mělo být realizováno
pomocí tabulek se specifikými informacemi.
\begin{itemize}
\item \emph{Identifikátor} obsahuje infomace o jazycích, typu produktu a
stručný jednoznačný popisek.
\item \emph{Kategorie} určuje zařazení produktu do skupin. Některé skupiny
produktů mohou být veřejnosti online nabízeny na webových stránkách.
\item \emph{Poskytovatel} produktu je subjekt, který se stará o jeho realizaci.
Hledá dodavatele i odběratele a jsou na něj vydávany faktury.
\item \emph{Časové informace} jsou používány dle potřeb pro určení doby
konání kurzů, tlumočení nebo upřesnění požadavků na vyhotovení překladu.
\item \emph{Popis} je veřejná informace k produktu pro všechny zúčastněné
strany.
\item \emph{Nastavení způsobu účtování} pro správné stanovení ceny produktu
(započítat množství, započítat počet účastníků na přihlášce).
\item \emph{Jednotka} a \emph{jednotková cena}
\end{itemize}

\subsubsection{Smlouvy}

V návrhu se počítá s kontrolou maximálního počtu odpracovaných jednotek.
Některé možnosti nastavení jsou pevně zakomponované a půjde je změnit
pouze zásahem do zdrojových kódů nebo databáze.
\begin{itemize}
\item \emph{Dodavatel} je smluvním partnerem jazykové agentury - \emph{poskytovatele
}jazykových služeb
\item \emph{Maximální počet jednotek}, které může na smlouvu vykonat.
\item \emph{Sazba, jednotka, způsob platby }a\emph{ typ smlouvy} úmožňují
generování účetních přehledů.
\end{itemize}

\subsubsection{Výkazy}

Tabulka výkazů se nedrží papírové podoby, která je pro ukládání v
databázi nevhodná z důvodu malé hustoty záznamů (obvykle 5-10 záznamů
za měsíc na jeden produkt). Jednotlivé záznamy budou ukládány v oddělené
tabulce s dalšími upřesňujícími informacemi.

Z požadavků rovněž vyplívá potřeba uzamykání výkazu k danému datu.
Jelikož se jedná o velmi důležitá data, měla by jejich kontrola prováděna
i na databázové úrovni pomocí triggeru, pokud to bude daná databáze
bude podporovat.
\begin{itemize}
\item \emph{Produkt}, ke kterému se výkaz vztahuje.
\item \emph{Sazba za jednotku} a \emph{jednotka}, jenž náleží dodavateli,
jako odměna.
\item \emph{Smlouva} na níž je prováděna daná činnost.
\item \emph{Datum} před kterým již není možné přidávat, editovat nebo mazat
odpracované jednotky.
\end{itemize}

\subsubsection{Události}

Seznam událostí je přiřazen k výkazu a každá událost je doplněna o
upřesňující informace.
\begin{itemize}
\item \emph{Výkaz}, ke kterému se událost vztahuje.
\item \emph{Počet jednotek} typu uvedeného v přiřazeném výkazu.
\item \emph{Datum} a \emph{čas}, kdy byla práce vykonávána. Slouži rovněž
jako rozvrh hodin.
\item \emph{Místo} vybrané z číselníku.
\end{itemize}

\subsubsection{Přihlášky (objednávky)}

Tabulka slouží k evidenci zákazníků a produktů, jenž si objednali.
\begin{itemize}
\item \emph{Produkt,} ke kterému se přihláška vztahuje.
\item \emph{Zákazník} vybraný z tabulky uživatelů.
\end{itemize}

\subsubsection{Účastníci}

Účastníci jsou přiřazeni k danému produktu, přes přihlášku, kde je
definován plátce.
\begin{itemize}
\item \emph{Přihláška}
\item \emph{Účastník} vybraný z tabulky uživatelů.
\end{itemize}

\subsubsection{Uživatelé}

O všech uživatelích systému je potřeba vést obdobné informace. Proto
jsou uloženi v jedné tabulce a o jejich specifikaci je rozhodnuto
až přiřazením do skupiny. Každý uživatel může být ve více skupinách.
\begin{itemize}
\item \emph{Osobní údaje} - jméno, příjmení, titul a zobrazované jméno
\item \emph{Přihlašovací údaje} - přihlašovací jméno, heslo a stav účtu
\item \emph{Doručovací a fakturační adresa}
\item Ostatní nečleněné informace
\end{itemize}

\subsubsection{Číselníky}

Byly navrhnuty zjednodušení práce s vyplňováním formulářů a odstranění
duplicit v tabulkách.
\begin{itemize}
\item \emph{Místa}
\item \emph{Kategorie}
\item \emph{Jednotky}
\end{itemize}
Uvedené informace jsou zpracovány do zjednodušeného ER diagramu v
příloze {[}@todo zjednodušený ER{]}


\subsection{Logický návrh}

@todo


\subsection{Fyzický návrh}

@todo

@notes V uvedeném návrhu je potřeba zajistit integritu dat a optimalizace
pro rychlejší přístup k datům. K tomu nám 

Oracle XML DB http://www.oracle.com/technology/tech/xml/xmldb/index.html

Evidence produktů

Jedna z hlavních výhod XML, která ovšem není v tomto případě využívána,
je snadná výměna dat mezi aplikacemi.

Návrh dobře strukturované relační databáze je nejnáročnějším prvkem
celé práce. Vyžaduje jak 

Podklady pro fakturaci dodavatelům a mzdy

Finanční vyrovnání subjektů v IS


\chapter{Použité technologie a frameworky}

Použité technologie byly částečně determinovány požadavy klienta\ref{sec:Po=00017Eadavky-klienta}.
Tím, že se mělo jednat o systém využívající výhradně open-souce technologie
tak, aby nebyly zvyšovány náklady na nákup licencí.


\section{Server}

Tento webový informační systém využívá technologi PHP (jazyk, interpret
a knihovny), která vychází se skriptovacího víceúčelového jazyka,
jenž byl původně vyvinut pro tvorbu dynamických webových stránek.
Z tohoto využití vznikla i zkatka z anglických slov \emph{Personal
Home Page}, které byly nahrazeny slovy \emph{PHP: Hypertext Preprocessor}
dající vznik rekurzivní zkratce%
\footnote{http://cs.wikipedia.org/wiki/Rekurzivní\_zkratka%
}.

Výhodou použití PHP je existence interpretu pro různé operační systémy
a podobnost jeho syntaxe s C, Javou.

Nevýhodou, která brzdí dalšímu rozvoji a rozšíření, je absence normy
(k datu vydání BP). Jazyk je tak de facto standardizovaný interpretem
a množstvím lidí%
\footnote{dle statistiky na http://www.php.net/usage.php%
}, kteří jej využívají. I když existují mnohé polemiky a živé diskuze
mezi jeho zastánci a odpůrci o jeho výkonnosti, bezpečnosti a vhodnosti
pro velké projekty, existují vyjímky%
\footnote{Facebook, YouTube, Wikipedia (MediaWiki) a další%
}, které tyto názory vyvrací a zároveň se podílejí na vývoji, a tak
se snaží přispět k jeho větší výkonnosti a bezpečnosti.

Vývoj jazyka sebou nese i stinné stránky. Mezi ty nejpodstatnější
patří úpravy API%
\footnote{anglická zkratka \emph{Application Programming Interface}, označuje
sadu funkcí, procedur či tříd programu či knihovny, jenž mohou být
využívány programátorem %
} některých vestavěných funkcí a změna syntaxe. To může zapříčinit,
že po aktualizaci interpretu jazyka, přestanou fungovat některé části
nebo celá aplikace. Řešením ovšem není zůstávat na několik let staré
verzi, ve které mohly být objeveny chyby. 

Pokud programátor nechce nebo nemůže přepisovat kód může využít služeb
něktrého z frameworků nad daným jazykem, který se snaží tyto rozdíly
ve verzích zakrýt. Další nespornou výhodou používání frameworků spočívá
jednodušším vývoji aplikací a minimalizací rizika chyb v jinak ručně
psaném jádru aplikace. Toto je zajištěno pouze pokud má kvalitní a
úplnou dokumentaci a je zastřešen silnou komunitou nebo společností
zajištující jeho vývoj.

Při výběru byl proto důraz kladen hlavně na kvalitní dokumentaci,
rozšířitelnost a možnost práce s různými relačními databázemi. Frameworky,
které splňují vetšinu požadavků jsou Zend%
\footnote{\href{http://framework.zend.com/}{http://framework.zend.com/}%
}, Symfony a CakePHP.%
\begin{table}


\caption{Srovnání vybraných PHP frameworků}



\end{table}



\subsection{CakePHP}

CakePHP je open source{[}@todo{]}, rapid developent{[}@todo{]} framework\cite{CakePHP},
který dává příležitost věnovat se návrhu schématu a logiky aplikace.
\begin{description}
\item [{MVC}] \emph{Model-View-Controller} (Model-Pohled-Řadič) - softwarová
architektura oddělující data, uživatelské rozhraní a logiku aplikace\cite{MVC}.
Výsledný kód aplikace se stává přehlednějším a úmožňuje změnu libovolné
komponenty s minimálními dopady na ostatní části aplikace (např. změna
databáze, výstup v XML či jiném formátu, ovládání přes webové rozhraní
nebo konzoli).%
\begin{figure}
\begin{description}
\item [{\includegraphics[width=1\textwidth]{basic_mvc}}]~
\end{description}
\centering{}\caption{\label{fig:Diagram-MVC-dotazu}Diagram MVC dotazu\cite{MVC}}

\end{figure}
\\
Obrázek\ref{fig:Diagram-MVC-dotazu}zobrazuje základní schéma procesu
zpracování požadavku klienta na URL%
\footnote{\emph{Uniform Resource Locator}\cite{RFC1738}(jednotný lokátor zdrojů)
popisuje sémantiku a syntaxi řetězce znaků sloužící k přesné specifikaci
zdroje informací v prostředí Internetu.%
}. Klient pošle (1) požadavek na URL, které je plánovačem (\emph{Dispatcher})
zkontrolováno a předáno (2) správnému přepínači (\emph{Controller}).
Ten se na základě parametrů, které obdrží od plánovače, rozhodne o
spuštění správné akce a předání parametrů. V plánovači je obsažena
vlastní aplikační logika (včetně např. kontroly přihlášení uživatele),
která může využívat modely pro přístup k uloženým datům a jejich modifikaci
(3 a 4). Až plánovač získá všechna potřebná data předá (5) je zbývající
vrstvě - pohledu (\emph{View}). V té jsou data zformátována do požadované
podoby a poslány (6) klientovi.
\item [{ORM}] \emph{Object-relational mapping} (objektově relační mapování)
- programátorská technika určená pro konverzi dat mezi nekompatibilními
systémy určenými pro ukládání dat a objektově orientovanými jazyky\cite{ORM}.
Největší výhoda tedy spočívá v odstínění způsobu práce s odlišnými
zdroji dat. Ať už se jde o různé relačními databáze (MySQL, PostgreSQL,
Oracle, MSSQL) nebo dokonce vlastní definováné zdroje dat. Může se
jednat formátované soubory např. CSV{[}@todo{]}, XML nebo za pomocí
API ke službám jako LDAP, Twitter, IMAP a další. V CakePHP verze 1.2
jsou data z tabulky mapovány na dvojrozměrné pole.
\end{description}
Mezi další výhody, které CakePHP nabízí, patří SEO optimalizace stránek,
podpora i18n%
\footnote{,,Příprava aplikace na podporu různých kulturních zvyklostí.''\cite{i18n}%
} i l10n%
\footnote{Jedná se o ,,doplnění aplikace o data specifická pro konkrétní národní/regionální
prostředí''\cite{l10n}%
} pro tvorbu vícejazyčných aplikací. Kód je již zapracován do jádra
frameworku a otestován komunitou, díky které není potřeba psát již
jednou napsané části, ale možné šetřit lidské zdroje na vlastní vývoj
aplikační logiky.

@todo DRY - Don't Repeat Yourself

Za největší přínos samotného frameworku v počátku návrhu aplikace
považuji ,,pekárnu'' kódu (\emph{baker}) a podporu ,,lešení''
(\emph{scaffolding}), které úmožňuje pracovat s automaticky generovaným
rozhraním podporujícím CRUD. Pekárna umí vygenerovat modely i s validačními
kritérii, prezentační vrstvu a řadiče. Navíc sama najde relace mezi
tabulkami a přidá tuto informaci do odpovídajícího modelu.

Hledání relací probíhá na základě názvů tabulkek a jejich atributů.
Proto je doporučeno při práci s CakePHP dodržovat tyto konvence, které
nejsou nijak závazné a jdou změnit ve specifikaci každého modelu.
\begin{itemize}
\item názvy tabulek anglicky v množném čísle
\item cizí klíče stejně jako tabulka v jednotném čísle a končí na ,,\_id''
\item primární klíč má název ,,id''
\end{itemize}
Díky těmto úsporám je možné se zaměřit na ergonomii dané aplikace
a její možnou optimalizaci, která je ovšem limitována výkonností použitého
skriptovacího jazyka. Tato omezení lze, minimalizovat kešováním%
\footnote{z anglického slova \emph{cache}, označuje vyrovnávací paměť%
} částí zpracovaného zdrojového kódu v paměti nebo jeho předkompilací
{[}@todo APC, Xcache, File{]}.

Další možnou optimalizací, která sice přímo nesouvisí s CakePHP, ale
je v něm snadno implementovatelná, je snížení počtu požadavků na stránku.
S používáním javascriptových frameworků a knihoven se snadno může
stát, že počet vkládaných odkazů na skripty a kaskádové styly (CSS)
se vyšplhá až k desítkám a začne se neúměrně prodlužovat doba potřebná
na stažení všech potřebných částí. Zvyšuje se tak počet požadavků
na server a díky režii protokolu HTTP%
\footnote{@todo HTTP Transfer Protokol - textově orientovaný%
} je ve výsledku stažen větší objem dat. Tento problém úspěšně řeší
projekty \emph{jsMin}%
\footnote{\href{http://code.google.com/p/jsmin-php/}{http://code.google.com/p/jsmin-php/}%
} a \emph{CSSTidy}%
\footnote{\href{http://csstidy.sourceforge.net/}{http://csstidy.sourceforge.net/}%
}.


\subsection{MySQL}

MySQL je multiplatformní systém pro řízení báze dat (DBMS, zkáceně
databázový systém), který poskytuje všechny potřebné vlastnosti nutné
pro běh tohoto informačního systému:
\begin{itemize}
\item cizí klíče (foreign-keys)
\item poddotazy (subselect)
\item pohledy (views)
\item transakce
\item triggery
\item fultextové vyhledávání
\end{itemize}
Systém byl původně vyvinut Michaelem Wideniusem a Davidem Axmarkem
v roce 1994, kteří se podíleli na založení firmy MySQL AB. Ta byla
až do roku 2008, kdy byla provedena akvizice s firmou Sun Microsystems,
jednou z největších open source společností na světě. MySQL je nabízeno
jak pod bezplatnou licencí, tak pod komerční licencí s plnou technickou
podporou\cite{MySQL}. Těší velké oblibě hlavně mezi vývojáři webových
aplikací, kde je součástí sady nástrojů označované jako \emph{LAMP}.
Tato platforma obsahuje \emph{Linux}, \emph{Apache}, \emph{MySQL}
a \emph{PHP}. Obecně jednotlivé části mohou být zaměněny (např. PHP
za Perl nebo Python, MySQL za Postgres) při zachování zkratky, která
je zaužívaným označením pro operační systém, webový server, databázový
systém a skriptovací jazyk sloužící k provozování webových stránek.


\section{Klient}

Pro vlastní běh aplikační logiky je možné se spolehnout, že serverová
část aplikace bude zpracována jednou verzí PHP interpretu v uzavřeném
a otestovaném prostředí. Naproti tomu klientská část bude prezentována
na odlišných operačních systémech v mnoha prohlížečích nejrůznějších
verzích. Základními požadavky kladené na prohlížeč jsou:
\begin{itemize}
\item XHTML 1.0%
\footnote{\href{http://www.w3.org/TR/xhtml1/}{http://www.w3.org/TR/xhtml1/}%
}
\item CSS 2.1%
\footnote{\href{http://www.w3.org/TR/CSS2/}{http://www.w3.org/TR/CSS2/}%
}
\item JavaScript%
\footnote{JavaScript je dialektem ECMASriptu. Minimálním implementovaným standardem
by měl být ECMA-262, revize 3:\href{http://www.ecma-international.org/publications/standards/Ecma-262.htm}{http://www.ecma-international.org/publications/standards/Ecma-262.htm}.%
}
\end{itemize}
S XHTML a CSS prohlížeče problémy nemívají. Horší je to, ale s implementacemi
Javascriptu. Toto bylo vyřešeno díky provázanosti CakePHP a javascriptového
frameworku Prototype{[}@todo odkaz{]} a jeho rozšíření Script.aculo.us{[}@todo
odkaz{]}, který se snaží zakrýt rozdíly mezi prohlížeči.

Prototype není jediným či nejlepším frameworkem. Existují i jiné,
které mají rozsáhlejší schopnosti v oblasti používaní dotazovacího
jazyka XPath nebo tvorby GUI%
\footnote{z anglických slov \emph{Graphical User Interface}, uživatelské prostředí,
jenž úmožnuje uživateli ovládat aplikaci pomocí grafických ovládacích
prvků%
}. 


\subsection{Prototype a jeho rozšíření}

Prototype úmožnuje 
\begin{itemize}
\item JS - Prototype, Script.aculo.us, Livepipe
\end{itemize}

\chapter{Programátorská dokumentace}

V následující kapitole je popsáno a vysvětleno propojejí databázového
schématu s třídami, základní adresářová struktura projektu a metody
použitých tříd.


\section{Modely (Models)}

Předefinování stránkovače (paginate)


\section{Řadiče (Controllers)}


\section{Doplňky (Pluginy)}


\subsection{Vyhledávací modul}


\subsection{Sprava verzí}


\chapter{Uživatelská dokumentace}

Tato uživatelská dokumentace si klade za cíl stručně přiblížit čtenáři
výhody informačního systému a jeho záklaními způsoby ovládání. V jednotlivých
částech je vysvětleno, jak má správce postupovat od úvodní instalace,
přes inicializaci databáze, uložení informací o uživatelích, přidání
produktů až po tisk účetních podkladů. 

Dodavatelům a zaměstnancům je názorně předvedeno, jak správně a včas
vyplnit měsíční výkazy a jak vést evidenci docházky účastníků kurzů. 

Zákazníkům je vysvětleno, jak jednoduše zjistit, kolik z objednaných
služeb již bylo zaplaceno a zkontrolovat průběh aktuálních kurzů či
počet přeložených stran překladu.

Studenti si mohou zkontrolovat svojí docházku a zobrazit rozvrh hodin
na další týdny.


\section{Instalace serveru}

Pro běh serverové aplikace je nutné mít sprovozněný program, který
úmožnuje zpracování zdrojových kódů a prezentaci výstupu protokolem
HTTP popřípadě HTTPS. Nejznámějším volně dostupným programem je Apache
{[}http://httpd.apache.org/{]}, který úmožnuje pomocí modulů {[}http://httpd.apache.org/modules/{]}
přidat podporu pro jazyk PHP nutný k běhu IS.


\subsection{Stažení a instalace Apache}

Pokud používáte některou z~moderních linuxových distribucí, zkuste
nejdříve projít repozitáře {[}@todo vysvětlit{]}, zda se zde nenachází
již hotový balík upravený pro snadnější instalaci a~konfiguraci.

%
\begin{minipage}[t]{1\columnwidth}%
Debian a jemu podobní (Ubuntu, Kubuntu, ...):

apt-get install apache2

Gentoo

emerge apache2%
\end{minipage}

Pokud jste požadovaný balík nenašli či používáte jiný operační systém,
můžete ze stránek projektu%
\footnote{\href{http://httpd.apache.org/download.cgi}{http://httpd.apache.org/download.cgi}%
} vybrat odkaz vedoucí na požadovaný balík zdrojových kódů nebo předkompilovanou
aplikaci pro Váš operační systém.


\subsection{Konfigurace Apache}

Pro správnou funkci aplikace je potřeba doinstalovat, popřípadě pouze
povolit následující moduly: \textit{mod\_php5}, \textit{mod\_rewrite}
a \textit{mod\_ssl.} Pro správnou funkci zabezpečeného připojení {[}@todo
definovat zabezpečené připojení{]} je nutné vygenerovat certifikáty
a upravit konfiguraci stránek.


\subsection{Stažení a instalace MySQL serveru\label{sub:Sta=00017Een=0000ED-a-instalace}}

uživatelské jméno: isadb\\
heslo: isapass


\section{Umístění aplikace}

Pokud máme server správně nakonfigurovaný, zkopírujeme složku s aplikací
do adresáře určeného konfigurací Apache (obvykle /var/www či C:\textbackslash{}\textbackslash{}Program
Files\textbackslash{}apache2\textbackslash{}www - budeme označovat
\emph{ROOT}). Pro větší bezpečnost je doporučeno změnit ,,webroot''
v konfiguraci apache na složku \emph{ROOT}/app/webroot. Dále je potřeba
nastavit přihlašovací údaje k databázi podle \ref{sub:Sta=00017Een=0000ED-a-instalace}předchozí
části v souboru \emph{ROOT}/app/config/database.php .


\section{Inicializace databáze}

V souboru \emph{ROOT}/app/config/sql/isa\_init.sql se nachází MySQL
5.0+ kompatibilní skript, který vytvoří tabulky a naplní je daty nutnými
k prvnímu přihlášení administrátora.


\section{Upřesňující informace}

Pro další čtení manuálu je potřeba upřesnit několik důležitých pojmů,
které se budou dále vyskytovat.
\begin{description}
\item [{Systémová~skupina}] je nutná pro správné fungování IS.
\end{description}
Tato sekce je rozdělena podle rolí definovaných v IS.
\begin{description}
\item [{Správce:}] pověřený uživatel s plnými právy ke všem modulům systému.
\item [{Editor:}] osoba s omezenými právy k editaci vybraných modulů.
\item [{Dodavatelé:}] zaměstnanec, brigádník či jiný subjekt vykonávající
zadanou práci.
\item [{Odběratelé:}] zákazníci, kteří si objednali libovolný produkt.
\item [{Poskytovatelé:}] subjekty, které jsou vedeny ,,pod jednou střechou''
a sdílí část informací.
\item [{Účastníci:}] studenti jednotlivých kurzu. 
\end{description}
Výše popsané role mohou být změněny či zakázány administrátorem systému.
Čtenáři je doporučeno číst pouze části, jenž se ho týkají.
\begin{description}
\item [{Poznámka:}] Text u odkazu na zobrazení, editaci nebo smazání záznamu
mohou být nahrazeny po řadě obrázky: \includegraphics[scale=0.8]{more},\includegraphics[scale=0.8]{edit}
a \includegraphics[scale=0.8]{delete}.
\end{description}

\section{Správce (hlavní manažer)}

Má standardně nastavena veškerá přístupová práva ke všem modulům systému. 


\subsection{Správa IS}

Tento modul obsahuje moduly pro nastavení jednotlivých částí systému,
správu uživatelů, skupin, práv a ostatních číselníků (daně, místnosti,
kategorie produktů).


\subsubsection{Uživatelé (Users)\label{sub:U=00017Eivatel=0000E9-(Users)}}

Modul \noun{Uživatelé} nabízí veškeré nastavení potřebné pro definování
možností při užívání systému osobami majícími vztah k IS. Dále jsou
zde uchovány veškeré osobní informace důvěrného charakteru.
\begin{description}
\item [{Filtr~seznam~uživatelů~{[}/admin/Users/index{]}:}] V horní části
se nachází odkazy na akce související s uživately. Filtry pro práci
se seznamem uživatelů jsou umístěny nad hlavní tabulkou a v hlavičce
tabulky s funkcí ,,našeptávače'' a jejich zm
\item [{Přidání~uživatele~{[}/admin/Users/add{]}:}] Odkaz na formulář
je hlavním menu a v částech, které na uživatelích závisí. Jedinnou
povinnou položkou je \emph{zobrazovanné jméno}, která slouží jako
popisek ve všech výběrových filtrech. Ostatní položky můžete vyplnit
až při jejich potřebě ve výpisu. Volba \emph{Aktivní} slouží k aktivaci
uživatelského účtu. Uživatel je schopen se přihlásit pouze pokud je
jeho účet aktivní.
\item [{Editace~uživatele:}] Uživatele vyhledejte přes filtr seznamů uživatelů
nebo přes formulář rychlého hledání. V prním případě klikněte na Vyberte
odpovídající skupinu k editaci a pro uložení změn použijte tlačítko
\emph{Uložit}. V případě chybového hlášení zkontrolujte všechny skupiny
údajů.
\item [{Zobrazení~uživatele:}] @todo
\item [{Nastavení~či~změna~hesla:}] V přehledu uživatele klikněte na
odkaz Změnit heslo a vyplňte nové heslo do obou kolonek. Správce může
editovat hesla všem uživatelům a měl by je o této změně informovat
zabezpečeným kanálem{[}@todo definovat zabezpeceny kanal{]}, aby se
předešlo zneužití jejich účtu.
\end{description}

\subsubsection{Skupiny a oprávnění}

V tomto modulu můžete přidávat a mazat uživatelské skupiny a oprávnění.
Pro zachování správného fungování systému nemažte tyto systémové skupiny:
customers, employees, providers, students a admin.

Při implicitní nastavení má každá ze systémových skupin práva definované
a přiřazené oprávnění k prefixovaným akcím jednotlivých modulů. Tyto
oprávnění jsou definovány tímto způsobem: \emph{{*}:customers\_{*},
{*}:employees\_{*}, {*}:providers\_{*}, {*}:students\_{*}, {*}:admin\_{*}}
a říkají, že daná skupina může v libovolném modulu spouštět akce začínajícím
jejich jménem. V příkladu byl použit expanzní znak ,,{*}'', který
je možné používat k nahrazení libovoného počtu libovolných znaků,
a ,,:'', jenž určuje hranici mezi modulem a akcí (např. oprávnění
\emph{Users:{*}\_view} úmožní zobrazit všechny prefixované akce \emph{view}
v modulu \noun{Uživatelé}).

Každá skupina může může mít přiřazeno více definovaných oprávnění
a je na správci, jak s nimi bude zacházet.


\subsubsection{Číselníky}

V této části se seznámíme se všemi číselníky, jejich funkcemi v systému
a možností editace. Všechy dále uvedené moduly obsahují automaticky
generovaný číselný identifikátor (dále jen \emph{id}), který slouží
pro interní potřeby systému a není možné ho změnit. Dále je potřeba
upozornit na fakt, že vytvořené položky v číselníku, které již byly
v systému přizazeny nějakým záznamům, nelze vymazat. Vymazání je umožněno
až když je číselník u daných záznamů změněn.
\begin{description}
\item [{Kategorie\label{kategorie}}] obsahuje název, zkratku, jednoduchý
slovní popis a zašktávací políčko určující, zda se produkty v této
kategorii považují za veřejné a má se zobrazovat jejich rozvh na webových
stránkách. Účel číselníku spočíva v rozčlenění množství produktů do
skupin, podle kterých lze vytvářet tiskové sestavy (přílohy faktur,
rozvrhy, měsíční přehledy nákladů, ...).
\item [{Místa\label{m=0000EDsta}}] obsahují název a adresu. Slouží k odkazu
na místo v událostech.
\item [{Štítky\label{st=0000EDtky}}] obsahují název a odkaz na nadřazený
štítek, pro možnost tvorby hierarchické struktury článků.
\end{description}

\subsection{Produkty}

Modul \noun{Produkty} je závislý na správně rozdělených uživatelích
do systémových skupin. Rovněž je doporučeno předvyplnit číselník kategorií
produktů.


\subsubsection{Vytvoření nového produktu (jednoduchá verze)}

Vyberte kategorii a poskytovatele. Dále vyplňte název produktu a infomaci
o datu zahájení a předpokládaném či žádaném datu ukončení prací. Dále
si řekněme, jak se vypočítá výsledná cena (bez DPH) pro zákazníka.
Od toho se bude odvíjet další vyplňování formuláře.

Stanovte si, jak budete daný produkt nabízet a od čeho se odvíjí náklady.
V~případě, že se náklady odvíjí od počtu participujících osob zašrtněte
možnost \emph{Počítat účastníky}. Pokud nevíte dobředu kolik hodin
bude odučeno či kolik normostran bude účtováno a náklady na ně nejsou
fixní, zaškrtněte možnost \emph{Počítat množství}. Celková cena bude
spočítána takto:
\begin{itemize}
\item jednotková cena je vynásobena počtem účastníků pokud byla odpovídající
volba zaškrtnuta
\item mezisoučet je vynásoben součtem odpracovaných jednotek v událostech
ve výkazech přiřazených v produktu pokud byla volba \emph{počítat
množství} zaškrtnuta
\item @todo možná konverze
\end{itemize}
Teď už zbývá doplnit zbývající povinné položky a to jednotku a jednotkovou
cenu.


\subsection{Výkazy}


\subsubsection{Vytvoření~a~přiřazení~výkazu~k~produktu }

Vytvoření a přiřazení výkazu k produktu provádějte pouze pokud je
produkt, ke kterému chcete přidat výkaz, již vytvořen. 

V menu klikněte na položku \emph{Přidat výkaz} a vyplňte následný
přehledný formulář. U dodavatele se rozlišuje se i typ smlouvy uvedený
v závorce. Sazba a jednotka jsou rovněž povinné položky.

Jinou možností, jak přiřadit nový výkaz, je přes modul \noun{Produkty}
(nebo přes ,,rychlé hledání''), kde lze snadno vyhledat daný produkt.
Zobrazte si detaily nalezeného produktu a ve skupině \emph{Přiřazené
výkazy} klikněte na odkaz \emph{Přidat výkaz}.


\subsubsection{Přidání události k výkazu}


\subsection{Tipy na urychlení práce}

Zvláštní formulář na přidání produktu spolu se zákazníkem i dodavatelem
úmožní rychlejší zadávání většího množství nových produktů.


\section{Dodavatel}

Dodavatel má přístup, ke všem produktům, kde měl přiřazen alespoň
jeden výkaz.

zadávání výkazu,

evidence docházky do kurzů


\chapter*{Závěr}

Zavedení informačního systému je běh na dlouhou trať ... příprava
dodavatelů i odběratelů na změny ve způsobu vykazování práce ...
\begin{thebibliography}{11}
\bibitem{informační systémy}\href{http://www.informacny-system.sk}{http://www.informacny-system.sk}

\bibitem{wikipedia}Wikipedia: \emph{Informační systém}, \\
\href{http://cs.wikipedia.org/wiki/Informační_systém}{http://cs.wikipedia.org/wiki/Informační\_{}systém}

\bibitem{soukupova 2004}Dana Soukupová: \emph{Algoritmy logického
návrhu relační databáze}, 2004

\bibitem{CakePHP}Cake Software Foundation: \emph{The Cookbook}\\
\emph{\href{http://book.cakephp.org/}{http://book.cakephp.org/}}

\bibitem{CakePHP-MVC}Cake Software Foundation: \emph{Porozumění Model-Pohled-Controller}\\
\href{http://book.cakephp.org/cz/view/10/Understanding-Model-View-Controller}{http://book.cakephp.org/cz/view/10/Understanding-Model-View-Controller}

\bibitem{MVC}Wikipedia: \emph{Model-view-controller}\\
\href{http://en.wikipedia.org/wiki/Model-view-controller}{http://en.wikipedia.org/wiki/Model-view-controller}

\bibitem{RFC1738}Berners-Lee, Masinter \& McCahill: Uniform Resource
Locators (URL), \emph{RFC1738}, Prosinec 1994\\
\href{http://www.ietf.org/rfc/rfc1738.txt}{http://www.ietf.org/rfc/rfc1738.txt}

\bibitem{ORM}Wikipedia: \emph{Object-relational mapping}\\
\emph{\href{http://en.wikipedia.org/wiki/O-RM}{http://en.wikipedia.org/wiki/O-RM}}

\bibitem{i18n}\emph{I18n - Internacionalizace}\\
\href{http://kore.fi.muni.cz:5080/wiki/index.php/I18n_-_Internacionalizace}{http://kore.fi.muni.cz:5080/wiki/index.php/I18n\_{}-\_{}Internacionalizace}

\bibitem{l10n}\emph{PV168/Lokalizace a internacionalizace}\\
\href{http://kore.fi.muni.cz:5080/wiki/index.php/PV168/Lokalizace_a_internacionalizace}{http://kore.fi.muni.cz:5080/wiki/index.php/PV168/Lokalizace\_{}a\_{}internacionalizace}

\bibitem{MySQL}\href{http://www.mysql.com/}{http://www.mysql.com/}

\end{thebibliography}
sadsa

dasd

\appendix

\chapter{Ukázka XML databáze}


\section{DTD}

\inputencoding{latin2}
\begin{lstlisting}[basicstyle={\footnotesize\ttfamily},breaklines=true,language=XML,tabsize=2]
<!-- Evidence kurzu --> 
<!ELEMENT courses (course+,user+)>
 <!ELEMENT course (description,teachers,participators,events)>
  <!ATTLIST course id ID #REQUIRED>
 <!ELEMENT teachers (teacher)*>
  <!ELEMENT teacher (price)>
   <!ATTLIST teacher
      id ID #REQUIRED
      uid IDREF #REQUIRED
      master (0|1) "0"
   >
  <!ELEMENT participators (participator)*>
   <!ELEMENT participator (price)>
			<!ATTLIST participator
				id ID #REQUIRED
				uid IDREF #REQUIRED
			>
    <!ELEMENT price (#PCDATA)>
     <!ATTLIST price currency (CZK|EUR|USD) #IMPLIED >
   <!ELEMENT events (event)*>
		<!ATTLIST events
			from CDATA #REQUIRED
			to CDATA #REQUIRED
		>
	<!ELEMENT event (content,attendance*)>
		<!ATTLIST event
			teacher_id IDREF #REQUIRED
			date CDATA #REQUIRED
			time_from CDATA #REQUIRED
			time_to CDATA #IMPLIED
		>
		<!ELEMENT content (#PCDATA|lesson)*>
			<!ELEMENT lesson (#PCDATA|chapter)*>
				<!ELEMENT chapter (#PCDATA)>
		<!ELEMENT attendance EMPTY>
			<!ATTLIST attendance
				participator_id IDREF #REQUIRED
			>
	<!ELEMENT description (#PCDATA)>
 <!ELEMENT user (name, (phone)*, (email)?)>
  <!ATTLIST user id ID #REQUIRED>
  <!ELEMENT name (lastname,firstname)>
   <!ELEMENT firstname (#PCDATA)>
   <!ELEMENT lastname (#PCDATA)>
   <!ELEMENT phone (#PCDATA)>
    <!ATTLIST phone type (wired | mobile) "mobile">         
   <!ELEMENT email (#PCDATA)>
<!-- Definice entity pro zjednoduen prce -->
<!ENTITY at "@">
<!ENTITY pcz "+420">
\end{lstlisting}
\inputencoding{utf8}


\section{XML}


\section{XPath}


\section{XQuery}


\chapter{Obsah přiloženého CD}
\begin{description}
\item [{Bakalářká~práce}] tisknutelný PDF soubor s textem této práce.
\end{description}

\end{document}
