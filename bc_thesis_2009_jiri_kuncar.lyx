#LyX 1.6.2 created this file. For more info see http://www.lyx.org/
\lyxformat 345
\begin_document
\begin_header
\textclass report
\begin_preamble
\usepackage{a4wide}
\usepackage[left=4cm]{geometry}
\end_preamble
\options notitlepage
\use_default_options true
\begin_modules
theorems-ams
\end_modules
\language czech
\inputencoding utf8
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\paperfontsize 12
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks true
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref section
\pdf_pdfusetitle true
\papersize a4paper
\use_geometry false
\use_amsmath 1
\use_esint 1
\cite_engine basic
\use_bibtopic false
\paperorientation portrait
\leftmargin 4cm
\topmargin 3cm
\rightmargin 4mm
\bottommargin 3cm
\secnumdepth 1
\tocdepth 1
\paragraph_separation indent
\defskip medskip
\quotes_language polish
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\author "" 
\author "" 
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{titlepage}
\end_layout

\end_inset


\begin_inset VSpace 15mm
\end_inset


\end_layout

\begin_layout Standard
\align center

\size large
Univerzita Karlova v Praze
\begin_inset Newline newline
\end_inset

Matematicko-fyzikální fakulta
\begin_inset VSpace 5mm
\end_inset


\end_layout

\begin_layout Standard
\align center

\series bold
\size larger
BAKALÁŘSKÁ PRÁCE
\begin_inset VSpace 10mm
\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename logo.eps
	scale 30

\end_inset


\begin_inset VSpace 15mm
\end_inset


\end_layout

\begin_layout Standard
\align center

\size larger
Jiří Kunčar 
\begin_inset VSpace 5mm
\end_inset


\end_layout

\begin_layout Standard
\align center

\series bold
\size larger
Informační systém pro jazykovou agenturu
\begin_inset VSpace 5mm
\end_inset


\end_layout

\begin_layout Standard
\align center

\series bold
\size large
Ústav formální a aplikované lingvistiky
\begin_inset VSpace 15mm
\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center

\size large
Vedoucí bakalářské práce: RNDr.
 Miroslav Spousta 
\begin_inset VSpace 1mm
\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center

\size large
Studijní program: informatika, správa počítačových systémů
\begin_inset VSpace 20mm
\end_inset


\end_layout

\begin_layout Standard
\align center

\size large
2009
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{titlepage}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
setcounter{page}{2}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace 10mm
\end_inset


\end_layout

\begin_layout Standard
\noindent
Děkuji panu RNDr.
 Miroslavu Spoustovi za pomoc, připomínky, cenné rady a za odborné vedení
 bakalářské práce.
 Dále bych rád poděkoval firmě Primalingua s.r.o.
 za poskytnutí prostředků na vývoj aplikace.
 Speciální poděkování patří především paní majitelce Mgr.
 Miluši Psotové a paní RNDr.
 Jitce Kunčarové, která vývoj informačního systému iniciovala.
\end_layout

\begin_layout Standard
\begin_inset VSpace vfill
\end_inset


\end_layout

\begin_layout Standard
\noindent
Prohlašuji, že jsem svou bakalářskou práci napsal samostatně a výhradně
 s použitím citovaných pramenů.
 Souhlasím se zapůjčováním práce a jejím zveřejňováním.
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
\noindent
V Praze dne 6.8.2009 
\begin_inset space \hfill{}
\end_inset

Jiří Kunčar
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\noindent
Název práce: Informační systém pro jazykovou agenturu
\begin_inset Newline newline
\end_inset

Autor: Jiří Kunčar
\begin_inset Newline newline
\end_inset

Katedra (ústav): Ústav formální a aplikované lingvistiky
\begin_inset Newline newline
\end_inset

Vedoucí bakalářské práce: RNDr.
 Miroslav Spousta
\begin_inset Newline newline
\end_inset

e-mail vedoucího: Miroslav.Spousta@mff.cuni.cz
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\noindent
Abstrakt: Cílem práce je navrhnout a implementovat modulární informační
 systém pro firmu zabývající se výukou jazyků.
\end_layout

\begin_layout Standard
\noindent
Součástí informačního systému bude zejména:
\end_layout

\begin_layout Standard
\noindent
- modul pro nabídku a prodej kurzů pro veřejnost, individuální výuku, jazykovou
 výuku pro podniky, překlady a tlumočení 
\end_layout

\begin_layout Standard
\noindent
- modul produkty (výuka, překlady, tlumočení), výuka (individuální výuka,
 kurzy pro veřejnost, jazyková výuka pro podniky) 
\end_layout

\begin_layout Standard
\noindent
- modul pro News (hromadné rozesílání mailem), rozvrh výuky, třídní knihy,
 studijní materiály 
\end_layout

\begin_layout Standard
\noindent
- modul dodavatelé (smlouvy s lektory, překladateli, tlumočníky, měsíční
 výkazy odpracovaných hodin, měsíční přehledy nákladů na lektory, překladatele,
 tlumočníky) 
\end_layout

\begin_layout Standard
\noindent
- modul odběratelé (zápisy do kurzů pro veřejnost, objednávky, smlouvy,
 přílohy faktur za období od-do) 
\end_layout

\begin_layout Standard
\noindent
- modul pro testování znalostí (jednoduché testovací prostředí) 
\end_layout

\begin_layout Standard
\noindent
- modul pro správu IS (uživatelé, jejich práva, přehled změn).
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\noindent
Klíčová slova: informační systém, PHP, MySQL 
\end_layout

\begin_layout Standard
\begin_inset VSpace 10mm
\end_inset


\end_layout

\begin_layout Standard
\noindent
Title: Information system of a language school
\begin_inset Newline newline
\end_inset

Author: Jiří Kunčar
\begin_inset Newline newline
\end_inset

Department: Institute of Formal and Applied Linguistics
\begin_inset Newline newline
\end_inset

Supervisor: RNDr.
 Miroslav Spousta
\end_layout

\begin_layout Standard
\noindent
Supervisor's e-mail address: Miroslav.Spousta@mff.cuni.cz
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\noindent
Abstract: The goal of the thesis is to design and implement a modular informatio
n system for a company involved in teaching of foreign languages.
\end_layout

\begin_layout Standard
\noindent
The main parts of the information system will include, particularly: 
\end_layout

\begin_layout Standard
\noindent
- a module for offer and sale of courses to the public and individuals,
 language training for businesses, translation and interpretation 
\end_layout

\begin_layout Standard
\noindent
- a module of products (teaching, translation and interpretation), training
 (individual training courses for the public, language classes for businesses)
 
\end_layout

\begin_layout Standard
\noindent
- a module for News (sending bulk mail), the schedule of teaching, class
 books, study material 
\end_layout

\begin_layout Standard
\noindent
- a module of suppliers (contracts with teachers, translators, interpreters,
 monthly class-sheets, monthly reports on the cost of staff translators
 and interpreters) 
\end_layout

\begin_layout Standard
\noindent
- a module of customers (registration in courses, orders, contracts, supplements
 to invoices for "from-to" periods) 
\end_layout

\begin_layout Standard
\noindent
- a module for testing of knowledge levels (a simple testing environment)
 
\end_layout

\begin_layout Standard
\noindent
- a module for managing the IS (users, their rights and a summary of changes)
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\noindent
Keywords: information system, PHP, MySQL
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Chapter
Úvod
\end_layout

\begin_layout Standard
Informační systémy hrají v
\begin_inset space ~
\end_inset

rychle se rozvíjejícím prostředí svou nepostradatelou roli.
 Internet, který se stal dostupným pro širokou veřejnost, jim poskytl výbornou
 platformu k dalšímu rozvoji.
 Ve dříve nepříliš využívaném virtuálním prostředí umožňují tyto systémy
 rychlé a snadné zpracování, vyhledávání a publikovaní informací, které
 se tak stávají dostupné pro širší spektrum zákazníků, dodavatelů i samotných
 zaměstanců.
 
\end_layout

\begin_layout Standard
S využíváním Internetu zároveň rostou nároky na bezpečnost a
\begin_inset space ~
\end_inset

dostupnost uložených informací.
 Ty jsou životně důležité pro chod firem a
\begin_inset space ~
\end_inset

bývají jejich nejcenějším majetkem.
 Zvyšují se požadavky kladou tlak na nástroje použité při implementaci systému
 a
\begin_inset space ~
\end_inset

jejich robustnost.
 Jelikož i
\begin_inset space ~
\end_inset

malá chyba může zapříčinit únik citlivých dat a
\begin_inset space ~
\end_inset

jejich zneužití v
\begin_inset space ~
\end_inset

globálním měřítku, které nelze vrátit zpět.
\end_layout

\begin_layout Standard
Před zaváděním informačního systému je nutné stanovit, čeho chce firma s
 jeho využitím v
\begin_inset space ~
\end_inset

daném čase dosáhnout.
 Tomu by měla pomoci důkladná analýza firemních procesů a
\begin_inset space ~
\end_inset

jejich optimalizace.
\end_layout

\begin_layout Standard
\align center

\shape italic
\begin_inset Quotes pld
\end_inset

Kdo nepozná vlastní firemní procesy, nemůže je zlepšovat.
\begin_inset Quotes prd
\end_inset


\emph on

\begin_inset CommandInset citation
LatexCommand cite
key "informační systémy"

\end_inset


\end_layout

\begin_layout Standard
Změna zavedených procesů bývá náročná, jak z finančního hlediska, tak z
 hlediska její vlastní realizace.
 Důležitou roli zde hraje plánování časového hramonogramu a
\begin_inset space ~
\end_inset

jeho dodržování.
\end_layout

\begin_layout Standard
Zlepšení výsledků činnosti firmy se nemusí dostavit okamžitě po spuštění
 nového systému, ale až po adaptaci všech zúčastněných stran.
 Výhodou je, pokud byl daný systém navržen v
\begin_inset space ~
\end_inset

souladu se zaběhnutými a
\begin_inset space ~
\end_inset

fungujícími firemními procesy.
 Proto bude práce věnovaná především jejich důkladnému popisu, na kterém
 bude dále stavět.
\end_layout

\begin_layout Section*
Cíle práce
\end_layout

\begin_layout Standard
Cílem práce je návrh a
\begin_inset space ~
\end_inset

základní implementace webového informačního systému, usnadňující činnost
 a
\begin_inset space ~
\end_inset

spolupráci více nezávislých subjektů.
 Implementace bude provedena pomocí vhodných open source technologií a
\begin_inset space ~
\end_inset

frameworků v
\begin_inset space ~
\end_inset

použitých programovacích jazycích.
 V
\begin_inset space ~
\end_inset

práci budou rozebrány funkce systémů pro správu, udržování a
\begin_inset space ~
\end_inset

sdílení informací v
\begin_inset space ~
\end_inset

prostředí Internetu.
\end_layout

\begin_layout Standard
Implementovaný systém bude mimo jiné obsahovat prostředky pro správu uživatelů,
 evidenci zakázek, výpočet výplat a
\begin_inset space ~
\end_inset

fakturaci služeb.
 Cílem práce není, vzhledem k náročným právním úpravám a
\begin_inset space ~
\end_inset

častým změnám, vytvořit komplexní účetní program, ale pouze systém úmožnící
 tvorbu podkladů pro účetní evidenci, které mohou být v
\begin_inset space ~
\end_inset

budoucnu zavedeny do některého již existujícího účetního programu.
\end_layout

\begin_layout Section*
Obsah práce
\end_layout

\begin_layout Standard
Ve druhé kapitole této práce je provedena analýza úlohy a
\begin_inset space ~
\end_inset

jsou mimo jiné stanoveny požadavky na řešení.
\end_layout

\begin_layout Standard
Třetí kapitola popisuje návrh vlastní implementace s
\begin_inset space ~
\end_inset

ohledem na
\begin_inset space ~
\end_inset

požadavky stanovené v
\begin_inset space ~
\end_inset

kapitole druhé.
 Jsou zde základní návrhová rozhodnutí a
\begin_inset space ~
\end_inset

důvody pro volbu konkrétních řešení.
\end_layout

\begin_layout Standard
Ve čtvrté kapitole jsou stručně popsány technologie dále používané v
\begin_inset space ~
\end_inset

této práci a
\begin_inset space ~
\end_inset

je ukázáno jejich použití.
\end_layout

\begin_layout Standard
Pátá kapitola obsahuje programátorskou dokumentaci.
 Je zde popsáno technické řešení implementace a
\begin_inset space ~
\end_inset

jsou nastíněny některé problémy, které bylo při implementaci nutné řešit.
\end_layout

\begin_layout Standard
Uživatelská dokumentace je obsažena v
\begin_inset space ~
\end_inset

šesté kapitole.
 Popisuje uživatelské rozhraní vytvořených aplikací a
\begin_inset space ~
\end_inset

ukazuje jejich použití na
\begin_inset space ~
\end_inset

konkrétních příkladech.
\end_layout

\begin_layout Standard
Předposlední kapitola se zabývá popisem existujících implementací a
\begin_inset space ~
\end_inset

jejich možným začleněním do informačního systému.
\end_layout

\begin_layout Standard
V závěru jsou přehledně shrnuty výsledky, kterých bylo při vývoji systému
 dosaženo, a
\begin_inset space ~
\end_inset

jsou naznačeny možnosti dalšího rozšíření.
\end_layout

\begin_layout Chapter
Analýza úlohy
\end_layout

\begin_layout Standard
V kapitole budou popsány základní pojmy používané při popisu požadavků klienta,
 specifické požadavky na systém a popis základních firemních procesů.
 Cílem je přiblížit čtenáři problematiku návrhu konkrétního informačního
 systému a možné problémy skrývajíci se ve zdánlivě jednoduchých úkolech.
\end_layout

\begin_layout Standard
Analýza úlohy vychází z informací získaných při rozhovorech s klientem a
 jím dodaných materiálů.
 Snaží se je co nepřesněji interpretovat pro použití v dalších fázích návrhu
 a implementace.
\end_layout

\begin_layout Section
Definice a upřesnění pojmů
\end_layout

\begin_layout Standard
Dále uvedené pojmy mívají v různých odvětvích mírně odlišné významy.
 Zde budou přeneseny a vysvětleny v oblasti firem zabývající se jazykovou
 přípravou, překlady a tlumočením.
\end_layout

\begin_layout Subsection
Agentura
\end_layout

\begin_layout Standard
Pojem agentura se můžeme setkat v oblastech cestovního ruchu, reklamy, personali
stiky, bezpečnosti a jazykových služeb.
 Dále v práci bude pojem agentury používán právě v poslední zmiňované oblasti.
\end_layout

\begin_layout Standard
Jazyková agentura je útvar zajišťující služby spojené s výukou jazyků, tlumočení
m a překlady.
 Je prostředníkem při jejich realizaci, popřípadě usnadňuje zákazníkům orientaci
 na trhu s uvedenými službami.
\end_layout

\begin_layout Subsection
Infomační systém
\end_layout

\begin_layout Standard
Informační systém (IS) je dosti široký pojem, který se postupem let vyvíjí
 a nabírá nové významy.
 Z dřívějších papírových kartoték, telefonních seznamů a další firemní evidence,
 které se velice obtížně sdílely s více subjekty, se vyvinuly systémy, jenž
 poskytují firmám prostředí pro efektivnější práci a komunikaci.
\end_layout

\begin_layout Standard
Informačním systémem rozumíme 
\begin_inset Quotes pld
\end_inset

prostředí pro sběr, udržování, zpracování a
\begin_inset space ~
\end_inset

poskytování informací
\begin_inset Quotes prd
\end_inset

 
\begin_inset CommandInset citation
LatexCommand cite
key "wikipedia"

\end_inset

, ve kterém by měla zůstat zachována důvěrnost a
\begin_inset space ~
\end_inset

integrita uložených dat.
\end_layout

\begin_layout Subsection
Produkt
\end_layout

\begin_layout Standard
Produktem bude rozuměno pořádání jazykové výuky pro danou skupinu lidí,
 dále tlumočení, překlady a překlady s ověřením.
 Jedná se tedy o spojení služeb, jejichž výsledkem je znalost cizího jazyka
 - tedy nehmotný výrobek, a předmětů vzniklých lidskou prací - překladů.
\end_layout

\begin_layout Section
Požadavky klienta
\begin_inset CommandInset label
LatexCommand label
name "sec:Požadavky-klienta"

\end_inset


\end_layout

\begin_layout Standard
Základním úkolem popisované jazykové agentury je zajišťovat služby v
\begin_inset space ~
\end_inset

oblasti jazykového vzdělání, překladů a tlumočení především pro široké spektrum
 firemních i individuálních zákazníků.
\end_layout

\begin_layout Standard
Podniky posílají poptávky bez ohledu na nabídku konkrétních kurzů.
 Manažer vyřizuje zakázku elektronickou poštou, telefonicky nebo osobně.
 Všechny získané informace musí být schopen zaznamenat pro pozdější zajišťování
 vhodných dodavatelů.
 
\end_layout

\begin_layout Standard
Veřejnost posílá zápisové listy s ohledem na nabídku kurzů pro veřejnost.
 Manažer sestavuje skupiny podle zápisových listů a potvrzuje místo, termíny
 a cenu výuky.
 Současně probíhá proces zajišťování lektorů.
\end_layout

\begin_layout Standard
Na začátku vývoje rovněž stála žádost zjednodušit proces zpracování měsíčních
 výkazů lektorů, překladatelů a tlumočníků tvořících podklady pro mzdy a
 fakturaci služeb.
 Tyto měsíční výkazy neměly jednotný vzor a ani nebylo jednoduše možné,
 bez znalostí místních poměrů přiřadit vykázanou činnost k jednotlivým produktům.
 Na základě vytyčených požadavků byl zpracován následující návrh.
\end_layout

\begin_layout Subsection
Zavedení jednotných identifikátorů
\end_layout

\begin_layout Standard
Kvůli výše uvedným problémům se začalo s postupným zaváděním jednotných
 identifikátorů závazných pro všechny zúčastněné strany.
 Tento nepopulární krok byl ze začátku velmi těžce příjmán a trvalo několik
 měsíců, než se proces tvorby ustálil a začal být všemi akceptován.
\end_layout

\begin_layout Itemize
Z identikátoru musí být zřejmé, o jakou kategorii produktu se jedná, pro
 koho je určen a kdy byl zaveden, aby se předešlo kolizím jmen v budoucnu.
\end_layout

\begin_layout Itemize
V
\begin_inset space ~
\end_inset

průběhu měsíce vkládá administrátor zadané překlady a nově zahájené kurzy.
\end_layout

\begin_layout Itemize
U produktu vloží poskytovatele, přiřadí zákazníka, studenty, lektora nebo
 překladatele a dále cenu za jednotku.
 
\end_layout

\begin_layout Itemize
U lektora či překladatele stanoví sazbu za jednotku.
 
\end_layout

\begin_layout Itemize
U kurzů vloží předpokládaný rozvh, kde jsou uvedeny dny, čas, lektor a učebna.
 Tento rozvrh slouží zároveň jako pomůcka pro
\begin_inset space ~
\end_inset

stanovení předběžných nákladů v
\begin_inset space ~
\end_inset

budoucích měsících.
 
\end_layout

\begin_layout Subsection
Měsíční výkazy
\end_layout

\begin_layout Standard
Po zavedení identifikátorů bylo potřeba sjednotit formuláře měsíčních výkazů
 a připravit dodavatele na možnost jejich elektronického vyplňování.
 Papírové formuláře budou do systému vkládány administrativním pracovníkem
 a elektronické budou potvrzeny a uzamčeny.
\end_layout

\begin_layout Itemize
Každý měsíc si administrátor může z výkazů odpracovaných jednotek lektora,
 překladatele a tlumočníka zobrazit a vytiskout přehled, kde je souhrn toho,
 kolik jednotek opracoval v jednotlivých dnech a celkem u jednotlivých produktů.
 
\end_layout

\begin_layout Itemize
Systém musí zobrazit varování při překročení stanoveného počtu vykázaných
 odpracovaných hodin nebo přeložených normostran.
\end_layout

\begin_layout Itemize
Podle potřeby potřebuje administrátor rychle řešit suplování a změny lektorů,
 k
\begin_inset space ~
\end_inset

tomu potřebuje aktuální stav.
 Příležitostně je třeba zjistit vytížení překladatelů.
\end_layout

\begin_layout Itemize
Na začátku týdne tiskne administrátor podle potřeby aktuální rozvrhy učeben
 a informuje zúčastněné strany o změnách.
 Časy individuální výuky jsou pohyblivé, lektoři musí vědět, kdy je v učebnách
 volno.
\end_layout

\begin_layout Subsection
Podklady pro fakturaci
\end_layout

\begin_layout Standard
Se vzrůstajícím objemem překladů a odučených hodin přestávalo být únosné
 ruční vytváření měsíčních přehledů pro zákazníky.
 Ti si přáli být informování nejen o počtu odučených hodin, ale i o všech
 změnách zavedeném měsíčním rozvrhu a případném suplování.
 Zároveň musely být v
\begin_inset space ~
\end_inset

systému zachyceny vazby mezi produktem, zákazníkem a vlastními účastníky
 tak, aby bylo možné stanovit výslednou cenu zakázky, která může být závislá
 jak od počtu odučených hodin či přeložených stran, tak od počtu účastníků.
\end_layout

\begin_layout Itemize
Před fakturací pro klienta si administrátor může sestavit seznam položek
 k fakturaci.
 
\end_layout

\begin_layout Itemize
Příloha za překlady a výuku se liší.
 U překladů není uvedeno jméno překladatele.
\end_layout

\begin_layout Subsection
Správa lektorů a překladatelů
\end_layout

\begin_layout Standard
Práce agentury spočívá mimo jiné i ve shromažďování kontaktů na osoby zabývající
 se výukou, překlady a tlumočením.
 Musí být úmožněno rychlé vyhledání a jednoduchá editace.
\end_layout

\begin_layout Itemize
V
\begin_inset space ~
\end_inset

průběhu měsíce průběžně administrátor vkládá nové dodavatele tj.
 zájemce o spolupráci a aktualizuje změny u stávajících.
\end_layout

\begin_layout Itemize
Jedenkrát měsíčně odesílá administrátor minibuletin 
\begin_inset Quotes pld
\end_inset

News
\begin_inset Quotes prd
\end_inset

 vybraným lektorům a překladatelům.
 
\end_layout

\begin_layout Itemize
\begin_inset Quotes pld
\end_inset

News
\begin_inset Quotes prd
\end_inset

 by měly být v systému přístupné pro lektory i překladatele, protože obsahují
 přílohy platné pro celý rok.
\end_layout

\begin_layout Subsection
Oddělení správy dat více agentur
\end_layout

\begin_layout Standard
Vzhledem ke složitým poměrům v agentuře bylo potřeba oddělit evidenci zakázek
 vyřizovaných manažerem pro různé agentury a fyzické osoby, jenž s agenturami
 úzce spolupracují.
 
\end_layout

\begin_layout Itemize
Při vytváření produktu manažer zvolí poskytovatele služeb podle potřeb zákazníka.
\end_layout

\begin_layout Subsection
Vícejazyková podpora
\end_layout

\begin_layout Standard
Systém je určen primárně pro jazykové agentury, kde se počítá s komunikací
 se zákazníky i v jiném než českém jazyce.
 K tomu bylo potřeba přizpůsobit systém již od počátku.
\end_layout

\begin_layout Itemize
Uživatelé by měli mít možnost si jednoduše vybrat mezi několika jazykovými
 variantami.
\end_layout

\begin_layout Subsection
Úzká provázanost s webem
\end_layout

\begin_layout Standard
Na webových stránkách se zobrazuje aktuální rozvh veřejných kurzů, jenž
 je i
\begin_inset space ~
\end_inset

jinak dostupný na
\begin_inset space ~
\end_inset

dveřích učeben.
 Ostatní rozvh individuální výuky bude dostupný po přihlášení do systému.
\end_layout

\begin_layout Chapter
Návrh řešení
\end_layout

\begin_layout Standard
Na základě požadavků bylo vytvořeno databázové schéma a
\begin_inset space ~
\end_inset

popis jeho napojení na
\begin_inset space ~
\end_inset

existující data ve firmě.
 Ukládání dat bude realizováno v
\begin_inset space ~
\end_inset

relační databázi.
 Ta poskytuje funkce pro vytvoření, čtení, změnu a smazání uložených informací
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Někdy je používaní zkratka 
\emph on
CRUD
\emph default
 z anglických slov 
\emph on
create
\emph default
, 
\emph on
read
\emph default
, 
\emph on
update
\emph default
, 
\emph on
delete
\emph default
.
\end_layout

\end_inset

 a
\begin_inset space ~
\end_inset

v
\begin_inset space ~
\end_inset

tomto případě se jeví jako nejlepší volba z různým variant ukládání dat.
\end_layout

\begin_layout Standard
V rámci vývoje a testování vybrané technologie byl rovněž vytvořen návrh
 zjednodušené verze XML
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
Extensible Markup Language
\emph default
 - standardní formát pro výměnu informací a popis stuktury dokumentu
\end_layout

\end_inset

 databáze uchovávané v souboru a
\begin_inset space ~
\end_inset

zpracovávanho pomocí jazyka XPath, XQuery nebo XSLT.
 Výsledky byly dobré při zpracování omezeného množství dat a
\begin_inset space ~
\end_inset

jednouživatelském přístupu k
\begin_inset space ~
\end_inset

datům.
 Se
\begin_inset space ~
\end_inset

vzrůstajícím objemem uložených dat se začala projevovat prostorová náročnost
 použitého značkovacího jazyka.
 Proto bylo nutné použít kompresi a
\begin_inset space ~
\end_inset

rozdělení dat do
\begin_inset space ~
\end_inset

více souborů.
 Alernativu tvoří některé specializované XML databáze nebo relační databáze
 s
\begin_inset space ~
\end_inset

podporou XML.
 Toto řešení, ale nakonec nebylo implementováno ani v
\begin_inset space ~
\end_inset

rámci testování.
 Protože ačkoliv jsou XML databáze v komerčních produktech na
\begin_inset space ~
\end_inset

velmi dobré úrovni, jejich implementace ve volně dostupných aplikacích mírně
 zaostává.
\end_layout

\begin_layout Standard
Návrh dobře strukturované relační databáze vyžaduje předevších pochopení
 vztahů a
\begin_inset space ~
\end_inset

procesů fungování firmy, která ji bude využívat.
 Problémem s
\begin_inset space ~
\end_inset

optimalizací navrženého modelu pomáhají řešit algoritmy logického návrhu
 relační databáze, které se snaží zajistit, aby navžená databáze byla prostorově
 efektivní, eliminovala vznik anomálií a
\begin_inset space ~
\end_inset

zároveň umožňovala rychlé zpracování uživatelských požadavků.
 Celý proces návrhu můžeme rozdělit na
\begin_inset space ~
\end_inset

čtyři základní fáze
\begin_inset CommandInset citation
LatexCommand cite
key "soukupova 2004"

\end_inset

: analýza požadavků a
\begin_inset space ~
\end_inset

specifikace, konceptuální návrh, logický návrh a
\begin_inset space ~
\end_inset

fyzický návrh.
 Analýza požadavků a
\begin_inset space ~
\end_inset

specifikace byla provedena v předcházející kapitole.
\end_layout

\begin_layout Section
Konceptuální návrh
\end_layout

\begin_layout Standard
Zpracováním požadavků vznikl prvotní model budoucí databáze, který by měl
 pokrývat všechny důležité vazby a
\begin_inset space ~
\end_inset

informace.
\end_layout

\begin_layout Subsection*
Produkty 
\end_layout

\begin_layout Standard
Ne všechny informace o
\begin_inset space ~
\end_inset

daných produktech je potřeba udržovat jako speciální atributy.
 Zvítězila proto varianta jedné tabulky s
\begin_inset space ~
\end_inset

minimem položek pro produkt.
 V budoucí rozšiřovaní by mělo být realizováno pomocí tabulek se specifikými
 informacemi nebo pomocí strukturovaných poznámek.
\end_layout

\begin_layout Itemize

\emph on
Identifikátor
\emph default
 obsahuje infomace o jazycích, typu produktu a stručný jednoznačný popis.
\end_layout

\begin_layout Itemize

\emph on
Kategorie
\emph default
 určuje zařazení produktu do skupin.
 Některé skupiny produktů mohou být veřejnosti online nabízeny na webových
 stránkách.
\end_layout

\begin_layout Itemize

\emph on
Poskytovatel
\emph default
 produktu je subjekt (uživatel), který se stará o jeho realizaci.
 Hledá dodavatele i odběratele a vystavuje faktury.
\end_layout

\begin_layout Itemize

\emph on
Časové informace
\emph default
 jsou používány dle potřeb pro určení doby konání kurzů, tlumočení nebo
 upřesnění požadavků na vyhotovení překladu.
\end_layout

\begin_layout Itemize

\emph on
Popis
\emph default
 je veřejná informace k produktu pro všechny zúčastněné strany.
\end_layout

\begin_layout Itemize

\emph on
Nastavení způsobu účtování
\emph default
 pro správné stanovení ceny produktu (započítat množství odpracovaných jednotek
 nebo počet účastníků na
\begin_inset space ~
\end_inset

přihlášce).
\end_layout

\begin_layout Itemize

\emph on
Jednotka
\emph default
 a 
\emph on
jednotková cena
\end_layout

\begin_layout Subsection*
Smlouvy
\end_layout

\begin_layout Standard
V návrhu se dobudoucna počítá s kontrolou maximálního počtu odpracovaných
 jednotek.
 Některé možnosti nastavení typu smluv jsou pevně zakomponované a
\begin_inset space ~
\end_inset

půjde je změnit pouze zásahem do zdrojových kódů nebo databáze.
\end_layout

\begin_layout Itemize

\emph on
Dodavatel
\emph default
 je smluvním partnerem jazykové agentury - 
\emph on
poskytovatele 
\emph default
jazykových služeb
\end_layout

\begin_layout Itemize

\emph on
Maximální počet jednotek
\emph default
, které může na smlouvu vykonat.
\end_layout

\begin_layout Itemize

\emph on
Způsob platby 
\emph default
a
\emph on
 typ smlouvy
\emph default
 umožňují generování účetních přehledů.
\end_layout

\begin_layout Subsection*
Výkazy
\end_layout

\begin_layout Standard
Tabulka výkazů se nedrží papírové podoby, která je pro ukládání v
\begin_inset space ~
\end_inset

databázi nevhodná z
\begin_inset space ~
\end_inset

důvodu malé hustoty záznamů (obvykle 5-10 záznamů za měsíc na
\begin_inset space ~
\end_inset

jeden produkt).
 Jednotlivé záznamy budou ukládány v
\begin_inset space ~
\end_inset

oddělené tabulce s
\begin_inset space ~
\end_inset

dalšími upřesňujícími informacemi.
\end_layout

\begin_layout Standard
Z
\begin_inset space ~
\end_inset

požadavků rovněž vyplývá potřeba uzamykání výkazu k
\begin_inset space ~
\end_inset

danému datu.
 Jelikož se jedná o
\begin_inset space ~
\end_inset

velmi důležitá data, měla by jejich kontrola prováděna i
\begin_inset space ~
\end_inset

na databázové úrovni pomocí triggeru, pokud to bude daná databáze bude podporova
t.
\end_layout

\begin_layout Itemize

\emph on
Produkt
\emph default
, ke kterému se výkaz vztahuje.
\end_layout

\begin_layout Itemize

\emph on
Sazba za jednotku
\emph default
 a 
\emph on
jednotka
\emph default
, jenž náleží dodavateli, jako odměna.
\end_layout

\begin_layout Itemize

\emph on
Smlouva
\emph default
 na níž je prováděna daná činnost.
\end_layout

\begin_layout Itemize

\emph on
Datum
\emph default
 před kterým již není možné přidávat, editovat nebo mazat odpracované jednotky.
\end_layout

\begin_layout Subsection*
Události
\end_layout

\begin_layout Standard
Seznam událostí je přiřazen k
\begin_inset space ~
\end_inset

výkazu a
\begin_inset space ~
\end_inset

každá událost je doplněna o
\begin_inset space ~
\end_inset

upřesňující informace.
\end_layout

\begin_layout Itemize

\emph on
Výkaz
\emph default
, ke kterému se událost vztahuje.
\end_layout

\begin_layout Itemize

\emph on
Počet jednotek
\emph default
 typu uvedeného v přiřazeném výkazu.
\end_layout

\begin_layout Itemize

\emph on
Datum
\emph default
 a 
\emph on
čas
\emph default
, kdy byla práce vykonávána.
 Slouží rovněž pro tvorbu rozvrhu hodin.
\end_layout

\begin_layout Itemize

\emph on
Místo
\emph default
 vybrané z číselníku.
\end_layout

\begin_layout Subsection*
Přihlášky (objednávky)
\end_layout

\begin_layout Standard
Tabulka slouží k evidenci zákazníků a produktů, které si objednali.
\end_layout

\begin_layout Itemize

\emph on
Produkt,
\emph default
 ke kterému se přihláška vztahuje.
\end_layout

\begin_layout Itemize

\emph on
Zákazník
\emph default
 vybraný z tabulky uživatelů je plátcem produktu.
\end_layout

\begin_layout Itemize
Evidence plateb.
\end_layout

\begin_layout Subsection*
Účastníci
\end_layout

\begin_layout Standard
Účastníci jsou přiřazeni k danému produktu, přes přihlášku, kde je definován
 plátce.
\end_layout

\begin_layout Itemize

\emph on
Přihláška
\end_layout

\begin_layout Itemize

\emph on
Účastník
\emph default
 vybraný z tabulky uživatelů.
\end_layout

\begin_layout Subsection*
Uživatelé
\end_layout

\begin_layout Standard
O všech uživatelích systému je potřeba vést obdobné informace.
 Proto jsou uloženi v
\begin_inset space ~
\end_inset

jedné tabulce a
\begin_inset space ~
\end_inset

o
\begin_inset space ~
\end_inset

jejich specifikaci je rozhodnuto až přiřazením do skupiny.
 Každý uživatel může být ve více skupinách.
\end_layout

\begin_layout Itemize

\emph on
Osobní údaje
\emph default
 - jméno, příjmení, titul a zobrazované jméno
\end_layout

\begin_layout Itemize

\emph on
Přihlašovací údaje
\emph default
 - přihlašovací jméno, heslo a stav účtu
\end_layout

\begin_layout Itemize

\emph on
Doručovací a fakturační adresa
\end_layout

\begin_layout Itemize
Ostatní nečleněné informace
\end_layout

\begin_layout Subsection*
Číselníky
\end_layout

\begin_layout Standard
Byly navrhnuty pro zjednodušení práce s vyplňováním formulářů a odstranění
 duplicit v tabulkách.
\end_layout

\begin_layout Itemize

\emph on
Místa
\end_layout

\begin_layout Itemize

\emph on
Kategorie
\end_layout

\begin_layout Itemize

\emph on
Jednotky
\end_layout

\begin_layout Itemize

\emph on
Daně
\end_layout

\begin_layout Itemize

\emph on
Skupiny
\end_layout

\begin_layout Itemize

\emph on
Oprávnění
\end_layout

\begin_layout Section
Logický návrh
\end_layout

\begin_layout Standard
Celý návrh byl rozdělen do několika menších schémat, ke které byly důkladněji
 propracovány.
 Nejdůležitější část se týká správy uživatelů, kde všechny informace o uživateli
 jsou uloženy v jedné tabulce.
 Dekompozice na adresy a profilové informace je do budoucna možná.
 Pro zachycení kardinality vztahu M:N mezi skupinami a uživateli stejně
 jako mezi skupinami a oprávněními byly vytvořeny vazební tabulky 
\emph on
groups_users
\emph default
 a 
\emph on
groups_permissions
\emph default
.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename uzivatele-schema.png
	lyxscale 50
	scale 35

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Schéma uživatelů, skupin a oprávnění
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Schéma na obrázku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Schéma-produktů"

\end_inset

 zachycuje vztahy uživatelů k produktům.
 Dodavatelé mají vytvořenou smlouvu, ke které je přidán výkaz odpracovaných
 účtovacích jednotek na produktu.
 Zákazníci jsou evidováni přes přihlášku se seznamem účastníků.
 Záznam docházky je relalizovan tabulkou 
\emph on
participators_events
\emph default
, kde existence záznamu s víceatributovým klíčem složeného s 
\emph on
id
\emph default
 účastníka a 
\emph on
id
\emph default
 události indikuje přítomnost osoby ve výuce.
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename produkty.png
	lyxscale 50
	scale 35

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Schéma-produktů"

\end_inset

Schéma produktů a vazeb na uživatele
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Evidence plateb je svázána s přihláškami, aby bylo možné snadno a rychle
 určit, za které služby již bylo zaplaceno.
 Spolu s informací o DPH mohou být platby sdruženy do jednoho účetního dokladu,
 jehož schéma je zobrazeno na obrázku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Evidence-plateb"

\end_inset

.
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename doklady.png
	lyxscale 50
	scale 35

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Evidence-plateb"

\end_inset

Evidence plateb
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Fyzický návrh
\end_layout

\begin_layout Standard
V uvedeném návrhu je potřeba zajistit integritu dat a optimalizace pro rychlejší
 přístup k datům.
 K tomu slouží vytvořené cizí klíče, triggery a indexy.
 Jejich seznam a definice lze nalézt v na přiloženém CD.
\end_layout

\begin_layout Standard
Při vytváření triggerů pro MySQL verze 5.2 nastal problém s vyvoláním vyjímky
 uvnitř triggeru, pokud vkládaný, editovaný či odstraňovaný objekt nesplňoval
 zadaná kritéria.
 Řešení spočívá ve vytvoření tabulky s integritním omezením 
\emph on
UNIQUE
\emph default
 na jednom sloupci a funkce 
\emph on
FAIL('chyba')
\emph default
.
 Ta se pokusí naplnit tabulku dvěma indentickými záznami, což poruší omezení
 na jedinečnost záznamu ve sloupci a vyvolaná vyjímka zabrání potvrzení
 transakce.
 Uvedené řešení je pouze náhradou za 
\emph on
RAISE EXCEPTION
\emph default
 známé třeba z PostgreSQL.
\end_layout

\begin_layout Standard
V poslední fázi bylo schéma doplněno o tabulky pro správu menu, vyhledávání,
 tokenů, logů a emailových příloh.
 Také přibylo schéma pro správu článků a testů.
\end_layout

\begin_layout Standard
Celkově schéma 
\begin_inset CommandInset ref
LatexCommand eqref
reference "cha:Databázové-schéma"

\end_inset

 simuluje firemní procesy velice přesně.
 Problémem může být náročnější způsob výpočtu ceny pro zákazníka.
 Pokud se totiž cena odvíjí od množství vykázaných jednotek dodavateli,
 je potřeba spojit více tabulek a
\begin_inset space ~
\end_inset

použít agregační funkci 
\emph on
SUM()
\emph default
 na počty odpracovaných jednotek v jednotlivých událostech.
\end_layout

\begin_layout Chapter
Použité technologie a frameworky
\end_layout

\begin_layout Standard
Použité technologie byly částečně determinovány požadavky klienta.
 Systém tak využívá výhradně open source technologie, aby nebyly zvyšovány
 náklady na nákup licencí.
\end_layout

\begin_layout Section
Server
\end_layout

\begin_layout Standard
Tento webový informační systém využívá technologi PHP (jazyk, interpret
 a
\begin_inset space ~
\end_inset

knihovny), která vychází se skriptovacího víceúčelového jazyka, jenž byl
 původně vyvinut pro
\begin_inset space ~
\end_inset

tvorbu dynamických webových stránek.
 Z
\begin_inset space ~
\end_inset

tohoto využití vznikla i zkratka z anglických slov 
\emph on
Personal Home Page
\emph default
, které byly nahrazeny slovy 
\emph on
PHP: Hypertext Preprocessor
\emph default
 dající vznik rekurzivní zkratce
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
http://cs.wikipedia.org/wiki/Rekurzivní_zkratka
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Výhodou použití PHP je existence interpretu pro různé operační systémy a
 podobnost jeho syntaxe s C, Javou.
\end_layout

\begin_layout Standard
Nevýhodou, která brzdí další rozvoj a rozšíření, je absence normy.
 Jazyk je tak de facto standardizovaný interpretem a množstvím lidí
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
viz statistiky na http://www.php.net/usage.php
\end_layout

\end_inset

, kteří jej využívají.
 I když existují mnohé polemiky a živé diskuze mezi jeho zastánci a odpůrci
 o jeho výkonnosti, bezpečnosti a vhodnosti pro
\begin_inset space ~
\end_inset

velké projekty, existují vyjímky
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Facebook, YouTube, Wikipedia (MediaWiki) a další
\end_layout

\end_inset

, které tyto názory vyvrací a
\begin_inset space ~
\end_inset

zároveň se podílejí na vývoji, a tak se snaží přispět k jeho větší výkonnosti
 a bezpečnosti.
\end_layout

\begin_layout Standard
Vývoj jazyka sebou nese i stinné stránky.
 Po létech vývoje dochází k
\begin_inset space ~
\end_inset

úpravavám API
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
anglická zkratka 
\emph on
Application Programming Interface
\emph default
, označuje sadu funkcí, procedur či tříd programu či knihovny, jenž mohou
 být využívány programátorem 
\end_layout

\end_inset

 některých vestavěných funkcí a změna syntaxe.
 To může zapříčinit, že po aktualizaci interpretu jazyka, přestanou fungovat
 některé části nebo celá aplikace.
\end_layout

\begin_layout Standard
Nesporná výhoda používání frameworků spočívá v jednodušším vývoji aplikací
 a
\begin_inset space ~
\end_inset

minimalizací rizika chyb v
\begin_inset space ~
\end_inset

jinak ručně psaném jádru aplikace.
 Toto platí pouze za
\begin_inset space ~
\end_inset

předpokladu, že je dostupná kvalitní dokumentace a
\begin_inset space ~
\end_inset

vývoj včetně testování je zastřešen silnou komunitou nebo společností.
 Některé frameworky rovněž dokáží do jisté míry zakrýt rozdíly mezi ve
\begin_inset space ~
\end_inset

verzích jazyka.
 Děje se tak, za
\begin_inset space ~
\end_inset

cenu zpomalení některých částí aplikace, díky kontroly verze překladače
 a
\begin_inset space ~
\end_inset

vykonáním alternativního kódu.
\end_layout

\begin_layout Standard
Při výběru frameworku byl kladen důraz hlavně na
\begin_inset space ~
\end_inset

kvalitní dokumentaci, rozšířitelnost a možnost práce s
\begin_inset space ~
\end_inset

různými relačními databázemi.
 Frameworky, které splňují vetšinu požadavků jsou Zend, Prado, Symfony a
 CakePHP, který navíc ve
\begin_inset space ~
\end_inset

výkonostních testech podle 
\begin_inset CommandInset citation
LatexCommand cite
key "root-testy"

\end_inset

 dopadl velmi dobře, a
\begin_inset space ~
\end_inset

tak byl vybrán pro vývoj informačního systému.
\end_layout

\begin_layout Subsection
CakePHP
\end_layout

\begin_layout Standard
CakePHP je open source framework
\begin_inset CommandInset citation
LatexCommand cite
key "CakePHP"

\end_inset

, který poskytuje většinu nástrojů pro snadný vývoj webové aplikace a
\begin_inset space ~
\end_inset

dává větší příležitost věnovat se návrhu schématu a
\begin_inset space ~
\end_inset

logiky aplikace.
\end_layout

\begin_layout Description
MVC
\begin_inset CommandInset label
LatexCommand label
name "mvc"

\end_inset

 
\emph on
Model-View-Controller
\emph default
 (Model-Pohled-Řadič) - softwarová architektura oddělující data, uživatelské
 rozhraní a
\begin_inset space ~
\end_inset

logiku aplikace
\begin_inset CommandInset citation
LatexCommand cite
key "MVC"

\end_inset

.
 Výsledný kód aplikace se stává přehlednějším a
\begin_inset space ~
\end_inset

umožňuje změnu libovolné komponenty s
\begin_inset space ~
\end_inset

minimálními dopady na
\begin_inset space ~
\end_inset

ostatní části aplikace (např.
 změna databáze, výstup v XML či jiném formátu, ovládání přes webové rozhraní
 nebo konzoli).
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Description
\begin_inset Graphics
	filename basic_mvc.png
	lyxscale 80
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagram-MVC-dotazu"

\end_inset

Diagram MVC dotazu
\begin_inset CommandInset citation
LatexCommand cite
key "MVC"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

Obrázek 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagram-MVC-dotazu"

\end_inset

 zobrazuje základní schéma procesu zpracování požadavku klienta.
 Klient pošle (1) požadavek na URL
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
Uniform Resource Locator
\emph default

\begin_inset CommandInset citation
LatexCommand cite
key "RFC1738"

\end_inset

(jednotný lokátor zdrojů) popisuje sémantiku a syntaxi řetězce znaků sloužící
 k přesné specifikaci zdroje informací v prostředí Internetu.
\end_layout

\end_inset

, které je plánovačem (
\emph on
Dispatcher
\emph default
) zkontrolováno a předáno (2) správnému přepínači (
\emph on
Controller
\emph default
).
 Ten se na
\begin_inset space ~
\end_inset

základě parametrů, které obdrží od
\begin_inset space ~
\end_inset

plánovače, rozhodne o
\begin_inset space ~
\end_inset

spuštění správné akce a
\begin_inset space ~
\end_inset

předání parametrů.
 V řadiči je obsažena vlastní aplikační logika (včetně např.
 kontroly přihlášení a
\begin_inset space ~
\end_inset

práv uživatele), která může využívat modely pro přístup k uloženým datům
 a
\begin_inset space ~
\end_inset

jejich modifikaci (3
\begin_inset space ~
\end_inset

a
\begin_inset space ~
\end_inset

4).
 Až řadič získá všechna potřebná data, předá (5) je zbývající vrstvě - pohledu
 (
\emph on
View
\emph default
).
 V té jsou data zformátována do
\begin_inset space ~
\end_inset

požadované podoby a
\begin_inset space ~
\end_inset

poslány (6) klientovi.
\end_layout

\begin_layout Description
ORM 
\emph on
Object-relational mapping
\emph default
 (objektově relační mapování) - programátorská technika určená pro konverzi
 dat mezi nekompatibilními systémy určenými pro ukládání dat a objektově
 orientovanými jazyky
\begin_inset CommandInset citation
LatexCommand cite
key "ORM"

\end_inset

.
 Největší výhoda tedy spočívá v odstínění způsobu práce s odlišnými zdroji
 dat.
 Ať už jde o různé relačními databáze (MySQL, PostgreSQL, Oracle, MSSQL)
 nebo dokonce vlastní definováné zdroje dat.
 Mezi ty můžou patřit formátované soubory (CSV, XML, JSON) nebo síťové služby
 poskytující informace skrze veřejné API (LDAP, Twitter, IMAP a další).
\end_layout

\begin_layout Standard
Mezi další výhody, které CakePHP nabízí, patří SEO optimalizace stránek,
 podpora i18n
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\noindent
\begin_inset Quotes pld
\end_inset

Příprava aplikace na podporu různých kulturních zvyklostí.
\begin_inset Quotes prd
\end_inset


\begin_inset CommandInset citation
LatexCommand cite
key "i18n"

\end_inset


\end_layout

\end_inset

 i l10n
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\noindent
\begin_inset Quotes pld
\end_inset

Doplnění aplikace o data specifická pro konkrétní národní prostředí
\begin_inset Quotes prd
\end_inset


\begin_inset CommandInset citation
LatexCommand cite
key "l10n"

\end_inset


\end_layout

\end_inset

 pro tvorbu vícejazyčných aplikací.
 Kód je již zapracován do jádra frameworku a otestován komunitou, díky které
 není potřeba psát již jednou napsané části, ale je možné šetřit lidské
 zdroje na vlastní vývoj aplikační logiky.
\end_layout

\begin_layout Standard
CakePHP zastává programátorskou filosofii 
\emph on
DRY
\emph default
 - 
\emph on
Don't Repeat Yourself
\emph default
.
 Ta zdůrazňuje, že jednotlivé části kódu by se v programu neměly opakovat,
 jelikož se snižuje srozumitelnost kódu a při modifikaci se musí upravovat
 stejný kód na více místech, což často vede k nesnadno odhalitelným chybám
 programu.
 K tomuto účelu se používají 
\begin_inset Quotes pld
\end_inset

pomocníci
\begin_inset Quotes prd
\end_inset

 (
\emph on
helpers
\emph default
), kteří daný kód generují.
 Při potřebě změny je lze snadno upravit, bez potřeby zásahu do míst odkud
 jsou voláni.
\end_layout

\begin_layout Standard
Za největší přínos samotného frameworku v počátku návrhu aplikace je považována
 
\begin_inset Quotes pld
\end_inset

pekárna
\begin_inset Quotes prd
\end_inset

 kódu (
\emph on
baker
\emph default
) a podpora 
\begin_inset Quotes pld
\end_inset

lešení
\begin_inset Quotes prd
\end_inset

 (
\emph on
scaffolding
\emph default
), které umožňují pracovat s automaticky generovaným rozhraním podporujícím
 CRUD.
 
\begin_inset Quotes pld
\end_inset

Pekárna
\begin_inset Quotes prd
\end_inset

 kódu (
\emph on
bakery
\emph default
) umí vygenerovat modely i s validačními kritérii, prezentační vrstvu a
 řadiče.
 Navíc sama najde relace mezi tabulkami a přidá tuto informaci do odpovídajícího
 modelu.
\end_layout

\begin_layout Standard
Hledání relací
\begin_inset CommandInset label
LatexCommand label
name "Hledání-relací"

\end_inset

 probíhá na základě názvů tabulek a jejich atributů.
 Proto je doporučeno při práci s CakePHP dodržovat tyto konvence, které
 nejsou nijak závazné a jdou změnit ve specifikaci každého modelu.
\end_layout

\begin_layout Itemize
Názvy tabulek jsou pojmenované anglicky v plurálu.
 Nepravidelné skloňování nebo definice plurálu pro jiný jazyk lze nastavit
 v souboru 
\emph on
app/config/inflections.php.
\end_layout

\begin_layout Itemize
Cizí klíče se jmenují stejně jako tabulka v jednotném čísle a končí na 
\begin_inset Quotes pld
\end_inset

_id
\begin_inset Quotes prd
\end_inset


\end_layout

\begin_layout Itemize
Primární klíč má název 
\begin_inset Quotes pld
\end_inset

id
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
Díky těmto úsporám je možné se zaměřit na ergonomii dané aplikace a její
 možnou optimalizaci, která je ovšem limitována výkonností použitého skriptovací
ho jazyka.
 Tato omezení lze minimalizovat tzv.
 kešováním
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
z anglického slova 
\emph on
cache
\emph default
, označuje vyrovnávací paměť
\end_layout

\end_inset

 částí zpracovaného zdrojového kódu v paměti, jeho předkompilací popřípadě
 jedná-li se o statické stránky lze ukládat výstup skriptu, který je při
 následujícím stejném požadavku vrácen klientovi.
\end_layout

\begin_layout Standard
Další možnou optimalizací, která sice přímo nesouvisí s CakePHP, ale je
 v něm snadno implementovatelná, je snížení počtu požadavků na stránku.
 S používáním javascriptových frameworků a knihoven se snadno může stát,
 že počet vkládaných odkazů na skripty a kaskádové styly (CSS) se vyšplhá
 až k desítkám a začne se neúměrně prodlužovat doba potřebná na stažení
 všech potřebných částí.
 Zvyšuje se tak počet požadavků na server a díky režii protokolu HTTP
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
Hypertext Transfer Protocol
\emph default
, internetový protokol určený pro výměnu dokumentů
\end_layout

\end_inset

 je ve výsledku stažen větší objem dat.
 Tento problém úspěšně řeší projekty 
\emph on
jsMin
\emph default

\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset CommandInset href
LatexCommand href
target "http://code.google.com/p/jsmin-php/"

\end_inset


\end_layout

\end_inset

 a 
\emph on
CSSTidy
\emph default

\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset CommandInset href
LatexCommand href
target "http://csstidy.sourceforge.net/"

\end_inset


\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
MySQL
\end_layout

\begin_layout Standard
MySQL je multiplatformní systém pro řízení báze dat (DBMS, zkráceně databázový
 systém), který poskytuje všechny potřebné vlastnosti nutné pro běh tohoto
 informačního systému:
\end_layout

\begin_layout Itemize
indexy
\end_layout

\begin_layout Itemize
fultextové vyhledávání
\end_layout

\begin_layout Itemize
cizí klíče (foreign-keys)
\end_layout

\begin_layout Itemize
poddotazy (subselect)
\end_layout

\begin_layout Itemize
pohledy (views)
\end_layout

\begin_layout Itemize
transakce
\end_layout

\begin_layout Itemize
triggery
\end_layout

\begin_layout Standard
Systém byl původně vyvinut Michaelem Wideniusem a Davidem Axmarkem v roce
 1994, kteří se podíleli na založení firmy MySQL AB.
 Ta byla až do roku 2008, kdy byla provedena akvizice s firmou Sun Microsystems,
 jednou z největších open source společností na světě.
 MySQL je nabízeno jak pod bezplatnou licencí, tak pod komerční licencí
 s plnou technickou podporou 
\begin_inset CommandInset citation
LatexCommand cite
key "MySQL"

\end_inset

.
 
\end_layout

\begin_layout Standard
Těší velké oblibě hlavně mezi vývojáři webových aplikací, kde je součástí
 platformy označované jako 
\emph on
LAMP
\emph default
, která obsahuje 
\emph on
Linux
\emph default
, 
\emph on
Apache
\emph default
, 
\emph on
MySQL
\emph default
 a 
\emph on
PHP
\emph default
.
 Obecně jednotlivé části mohou být zaměněny (např.
 PHP za Perl nebo Python, MySQL za Postgres) při zachování zkratky, která
 je zaužívaným označením pro operační systém, webový server, databázový
 systém a skriptovací jazyk sloužící k obsluze a generování webových stránek.
\end_layout

\begin_layout Section
Klient
\end_layout

\begin_layout Standard
Pro vlastní běh aplikační logiky je možné se spolehnout na to, že serverová
 část aplikace bude zpracována jednou verzí PHP interpretu v uzavřeném,
 neměnném a otestovaném prostředí.
 Naproti tomu klientská část bude prezentována na odlišných operačních systémech
 v mnoha prohlížečích nejrůznějších verzích.
 Aplikace je primárně vyvíjena pro nejnovější verze nejpoužívanějších 
\emph on
volně dostupných
\emph default
 prohlížečů dodržujících standardy (doporučení) konsorcia W3C.
 Mezi podprované prohlížeče patří Mozilla Firefox 3.5, Opera 9, Google Chrome,
 Safari a další založené na vykreslovacím jádře Webkit nebo Gecko.
\end_layout

\begin_layout Standard
Základními požadavky kladené na prohlížeč jsou:
\end_layout

\begin_layout Itemize
XHTML 1.0
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset CommandInset href
LatexCommand href
target "http://www.w3.org/TR/xhtml1/"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
CSS 2.1
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset CommandInset href
LatexCommand href
target "http://www.w3.org/TR/CSS2/"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
JavaScript je dialektem ECMASriptu.
 Minimálním implementovaným standardem by měl být ECMA-262, revize 3
\begin_inset CommandInset citation
LatexCommand cite
key "ECMA-262"

\end_inset

.
\end_layout

\begin_layout Standard
S XHTML a CSS prohlížeče problémy nemívají.
 Horší je to, ale s implementacemi Javascriptu, které se mezi prohlížeči
 dost liší.
 Tento problém byl vyřešen díky provázanosti CakePHP a javascriptového framework
u Prototype
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Aktuální verzi naleznete na
\begin_inset CommandInset href
LatexCommand href
target "http://www.prototypejs.org/"

\end_inset


\end_layout

\end_inset

 a jeho rozšíření Script.aculo.us
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Knihovna se nachází na 
\begin_inset CommandInset href
LatexCommand href
target "http://script.aculo.us"

\end_inset


\end_layout

\end_inset

, které se dohromady snaží zakrýt rozdíly mezi prohlížeči a zpříjemnit uživateli
 pracovní prostředí pomocí vizuálních efektů.
\end_layout

\begin_layout Standard
Prototype není jediným či nejlepším frameworkem.
 Existují i jiné, které mají rozsáhlejší schopnosti v oblasti používaní
 dotazovacího jazyka XPath nebo tvorby GUI
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
z anglických slov 
\emph on
Graphical User Interface
\emph default
, uživatelské prostředí, jenž úmožnuje uživateli ovládat aplikaci pomocí
 grafických ovládacích prvků
\end_layout

\end_inset

.
 Mezi hojně využívané patří JQuery, MooTools, Yahoo User Interface Library
 a Dojo.
 Nelze říct, že by jeden z nich byl o mnoho lepší, a proto si každý vývojář
 musí stanovit, co od frameworku očekává.
 Pomoci s výběrem může i několik výkonostních testů, jenž lze nalést v 
\begin_inset CommandInset citation
LatexCommand cite
key "slicktest"

\end_inset

.
\end_layout

\begin_layout Standard
Jak už bylo zmíněno výše, Prototype je skvěle provázán s CakePHP, který
 tak programátorovi umožňuje psát kód pouze v jednom programovacím jazyce
 - PHP.
 Kromě Scipt.aculo.us, je v systému použita i knihovna Livepipe
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Dokumentace a stažení knihovny na 
\begin_inset CommandInset href
LatexCommand href
target "http://livepipe.net"

\end_inset


\end_layout

\end_inset

, která se zaměřuje na tvorbu uživatelského rozhraní - záložky, okna a další
 prvky známé z klasických newebových aplikací.
\end_layout

\begin_layout Chapter
Programátorská dokumentace
\end_layout

\begin_layout Standard
V následující kapitole je popsána základní adresářová struktura projektu,
 propojení databázového schématu s
\begin_inset space ~
\end_inset

třídami a
\begin_inset space ~
\end_inset

metody použitých tříd.
\end_layout

\begin_layout Standard
Pro kompletní dokumentaci všech metod a plné pochopení fungování frameworku
 CakePHP je vhodné si nejprve nastudovat 
\begin_inset CommandInset citation
LatexCommand cite
key "CakePHP"

\end_inset

.
 Dále jsou vysvětleny jen nejdůležitější části a
\begin_inset space ~
\end_inset

změny v
\begin_inset space ~
\end_inset

jaderných metodách frameworku.
 Popis celého API je k
\begin_inset space ~
\end_inset

dispozici na přiloženém CD.
\end_layout

\begin_layout Section
Adresářová struktura
\end_layout

\begin_layout Standard
Kód aplikace je logicky rozčleněn podle původu do 3 hlavních složek.
\end_layout

\begin_layout Itemize

\emph on
app
\emph default
 - vlastní kód aplikace
\end_layout

\begin_deeper
\begin_layout Itemize

\emph on
config
\emph default
 - konfigurační soubory (nastavení databáze, přepisování URL a
\begin_inset space ~
\end_inset

ostatní konstanty)
\end_layout

\begin_layout Itemize

\emph on
controllers
\emph default
 - řadiče a komponenty
\end_layout

\begin_layout Itemize

\emph on
locale
\emph default
 - obsahuje podadresáře s
\begin_inset space ~
\end_inset

přeloženými řetězci použitými v
\begin_inset space ~
\end_inset

aplikaci
\end_layout

\begin_layout Itemize

\emph on
models
\emph default
 - modely, doplňková chování a
\begin_inset space ~
\end_inset

definice zdrojů dat
\end_layout

\begin_layout Itemize

\emph on
plugins
\emph default
 - zásuvné moduly a znovupoužitelné balíky
\end_layout

\begin_layout Itemize

\emph on
tmp
\emph default
 - zapisovatelná složka pro ukládání dočasných souborů
\end_layout

\begin_layout Itemize

\emph on
views
\emph default
 - šablony, elementy a
\begin_inset space ~
\end_inset

prezentační data
\end_layout

\begin_layout Itemize

\emph on
webroot
\emph default
 - kaskádové styly, javascriptové knihovny a
\begin_inset space ~
\end_inset

obrázky použité při prezentaci dat
\end_layout

\end_deeper
\begin_layout Itemize

\emph on
cake
\emph default
 - zdrojové kódy frameworku, do kterých by se nemělo zasahovat
\end_layout

\begin_layout Itemize

\emph on
vendors
\emph default
 - knihovny třetích stran použité v systému (TCPDF, CssTidy, JsMin)
\end_layout

\begin_layout Standard
Pro pojmenování souborů ve složkách je dobré se řídit zavedenými konvencemi
 uvedenými v manuálu 
\begin_inset CommandInset citation
LatexCommand cite
key "CakePHP"

\end_inset

.
\end_layout

\begin_layout Section
Modely (
\emph on
Models
\emph default
)
\end_layout

\begin_layout Standard
Všechny modely v aplikaci jsou odvozeny od třídy 
\emph on
Object
\emph default
, která je zakryta třídou 
\emph on
Overloadable
\emph default
.
 Ta je navržena tak, aby zakryla rozdíly mezi PHP verze 4 a 5.
 
\end_layout

\begin_layout Standard
Modely jsou částečně determinovány návrhem databáze.
 Relace mezi jednotlivými modely odpovídají relacím v databázi a
\begin_inset space ~
\end_inset

je možné je upravovat ve vlastnostech dané třídy.
 Existují čtyři druhy relací, jenž jdou v CakePHP modelovat.
 Relace 1:1 (
\emph on
hasOne
\emph default
), 1:N (
\emph on
hasMany
\emph default
) a
\begin_inset space ~
\end_inset

N:1 (
\emph on
belongsTo
\emph default
) mají většinu nastavení společnou:
\end_layout

\begin_layout Description
className jméno třídy asociovaného modelu 
\end_layout

\begin_layout Description
foreignKey jméno cizího klíče v asociovaném modelu
\end_layout

\begin_layout Description
fields seznam polí, jenž mají být načteny při použití dané asociace
\end_layout

\begin_layout Description
order část SQL dotazu sloužící k
\begin_inset space ~
\end_inset

definici pořadí výsledků
\end_layout

\begin_layout Description
conditions část SQL dotazu sloužící k
\begin_inset space ~
\end_inset

filtraci nalezených výsledků
\end_layout

\begin_layout Standard
Při modelování relace M:N (
\emph on
hasAndBelongsToMany - HABTM
\emph default
) je potřeba nadefinovat tabulku (
\emph on
joinTable
\emph default
), přes kterou bude prováděno spojení nalezených dat, a
\begin_inset space ~
\end_inset

cizí klíč do asociované tabulky (
\emph on
associationForeignKey
\emph default
).
\end_layout

\begin_layout Standard
Při použití 
\begin_inset Quotes pld
\end_inset

pekárny
\begin_inset Quotes prd
\end_inset

 kódu jsou relace vyhledány automaticky podle pravidel popsaných v 
\begin_inset CommandInset ref
LatexCommand vref
reference "Hledání-relací"

\end_inset

.
\end_layout

\begin_layout Standard
Pro získání dat se používá metoda 
\emph on
find($typ, $parametry)
\emph default
 na příslušném modelu.
 První parametr určuje typ dotazu, který může být jedním z následujích:
\end_layout

\begin_layout Description
all najde všechny data splňující podmínky definované ve druhém parametru
\end_layout

\begin_layout Description
first najde první záznam vyhovující podmínkám (liší se od předcházejícího
 ve struktuře vráceného pole)
\end_layout

\begin_layout Description
count vrátí počet vyhovujících záznamů
\end_layout

\begin_layout Description
list vygeneruje pole s hodnotami ze sloupce tabulky definované v
\begin_inset space ~
\end_inset

atributu 
\emph on
displayField
\emph default
 daného modelu indexované standardně primárním klíčem
\end_layout

\begin_layout Description
threaded vygeneruje vnořené pole podle zadaného intervalu (
\emph on
ltf 
\emph default
- 
\emph on
rght
\emph default
)
\begin_inset Foot
status open

\begin_layout Plain Layout
Detailní popis příkladu, jak uchovávat stromové struktury v relační můžete
 nalést na 
\begin_inset CommandInset href
LatexCommand href
target "http://dev.mysql.com/tech-resources/articles/hierarchical-data.html"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Description
neighbors vrátí položku před (
\emph on
prev
\emph default
) a za (
\emph on
next
\emph default
) položkou, která by byla nalezena pomocí 
\emph on
find('first', $podminky)
\end_layout

\begin_layout Standard
Pole s vyhledávacími podmínkami může vypadat jako v následujícím příkladu,
 kde jsou uvedeny všechny základní možnosti.
 Další parametry mohou být přidávány pro doplňkové rozšíření chování jednotlivýc
h modelů.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\small},tabsize=4"
inline false
status open

\begin_layout Plain Layout

array(
\end_layout

\begin_layout Plain Layout

	'conditions' => array('Model.field' => $thisValue), 
\end_layout

\begin_layout Plain Layout

	//vygeneruje klauzuli WHERE Model.field = $thisValue
\end_layout

\begin_layout Plain Layout

	'recursive' => 1, //int
\end_layout

\begin_layout Plain Layout

	'fields' => array('Model.field1'),
\end_layout

\begin_layout Plain Layout

	//sloupečky v dotazu SELECT
\end_layout

\begin_layout Plain Layout

	'order' => array('Model.created', 'Model.field3 DESC'),
\end_layout

\begin_layout Plain Layout

	//definice klauzule ORDER BY
\end_layout

\begin_layout Plain Layout

	'group' => array('Model.field'), 
\end_layout

\begin_layout Plain Layout

	//sloupečky použité v klauzuli GROUP BY
\end_layout

\begin_layout Plain Layout

	'limit' => n, 
\end_layout

\begin_layout Plain Layout

	//počet záznamů na stránku
\end_layout

\begin_layout Plain Layout

	'page' => i, //najdi i-tou stranu
\end_layout

\begin_layout Plain Layout

	'callbacks' => true 
\end_layout

\begin_layout Plain Layout

	//možné hodnoty jsou: false, 'before', 'after' 
\end_layout

\begin_layout Plain Layout

)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Zajímavým parametrem je 
\emph on
recursive
\emph default
, který určuje do jaké hloubky mají být načítána data.
 Pokud data z
\begin_inset space ~
\end_inset

asociovaných modelů nejsou potřeba, je vhodné jej nastavit na 
\emph on
-1
\emph default
.
\end_layout

\begin_layout Standard
V systému, kde je potřeba vyhledávat sdružovat data podle modelů, jenž jsou
 v
\begin_inset space ~
\end_inset

řetězci asociací dále, bylo výchozí chování parametru nedostatečné.
 Naštěstí existují rozšiřující chování modelu, které takové činnosti umožňují.
\end_layout

\begin_layout Subsection
Rozšíření chování (
\emph on
Behaviors
\emph default
)
\end_layout

\begin_layout Standard
V základní výbavě CakePHP je obsaženo rozšíření 
\emph on
Containable
\emph default
, které úmožnuje dynamicky přidávat asociované modely bez omezení hloubky
 rekurze
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Je ovšem potřeba vzít na vědomí, že CakePHP tak vygeneruje značné množství
 dotazů, které mohou mít negativní vliv na výkon dané aplikace.
\end_layout

\end_inset

.
 Je to ale pouze 
\begin_inset Quotes pld
\end_inset

syntaktický cukr
\begin_inset Quotes prd
\end_inset

 k
\begin_inset space ~
\end_inset

metodám 
\emph on
bindModel()
\emph default
 a 
\emph on
unbindModel()
\emph default
, které úmožnují přidávat a odebírat asociace příslušící danému modelu.
 
\emph on
Containtable
\emph default
 přidává modelu metodu 
\emph on
contain()
\emph default
, jenž je volána i pokud je nalezen index 
\begin_inset Quotes pld
\end_inset

contain
\begin_inset Quotes prd
\end_inset

 v
\begin_inset space ~
\end_inset

poli s vyhledávacími parametry metody 
\emph on
find()
\emph default
.
 Ta se postará o
\begin_inset space ~
\end_inset

dynamickou asociaci potřebných modelů.
\end_layout

\begin_layout Standard
Také výše zmíněné rozšíření má určité nedostatky a to hlavně pokud je potřeba
 filtrovat data podle modelů asociovaných ve větší hloubce.
 Proto je použité rozšíření 
\emph on
Linkable
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "linkable"

\end_inset

, které má obdobnou syntaxi nastavení, ale vytváří jeden SQL dotaz za pomocí
 klauzují JOIN.
\end_layout

\begin_layout Standard
Pro usnadnění práce s relacemi typu M:N přes tabulku s klíči je použito
 rozšíření 
\emph on

\begin_inset Quotes pld
\end_inset

Extend Associations
\begin_inset Quotes prd
\end_inset


\begin_inset CommandInset citation
LatexCommand cite
key "ExtendAssoc"

\end_inset


\emph default
 .
 To umožňuje jednoduché přidání nebo smazání asociací, bez ovlivnění ostatních
 již existujících.
 K tomu slouží nově definovaná sada metod:
\end_layout

\begin_layout Itemize

\emph on
habtmAdd(&$model,
\begin_inset space ~
\end_inset

$assoc,
\begin_inset space ~
\end_inset

$id,
\begin_inset space ~
\end_inset

$assoc_ids
\emph default
) - přidá asociace k
\begin_inset space ~
\end_inset

danému záznamu v modelu
\end_layout

\begin_layout Itemize

\emph on
habtmDelete(&$model,
\begin_inset space ~
\end_inset

$assoc,
\begin_inset space ~
\end_inset

$id,
\begin_inset space ~
\end_inset

$assoc_ids)
\emph default
 - smaže asociace s
\begin_inset space ~
\end_inset

danou kombinací klíčů
\end_layout

\begin_layout Itemize

\emph on
habtmDeleteAll(&$model,
\begin_inset space ~
\end_inset

$assoc,
\begin_inset space ~
\end_inset

$id)
\emph default
 - smaže včechny asociace k
\begin_inset space ~
\end_inset

danému záznamu modelu
\end_layout

\begin_layout Standard
Pro překlady do cizích jazyků bylo použito rozšíření 
\emph on
Translate
\emph default
, které umožňuje nadefinovat seznam sloupců tabulky, které mají být překládány.
 Přeložená data jsou ukládána v
\begin_inset space ~
\end_inset

oddělené tabulce (
\emph on
i18n
\emph default
 - lze změnit v
\begin_inset space ~
\end_inset

konfiguraci pro každý model) a
\begin_inset space ~
\end_inset

při dotazu je vytořeno spojení s
\begin_inset space ~
\end_inset

touto tabulkou pomocí složeného klíče - jméno modelu, cizí klíč daného modelu
 a
\begin_inset space ~
\end_inset

jméno překládaného sloupce.
\end_layout

\begin_layout Standard
A pro úplnost jsou zde uvedneny zbývající rozšíření použité v
\begin_inset space ~
\end_inset

aplikaci, které zatím nejsou součástí základních knihoven frameworku.
\end_layout

\begin_layout Description
Slugable Vytváří texty použitelné v URL z
\begin_inset space ~
\end_inset

definovaných sloupců.
\end_layout

\begin_layout Description
Versionable Ukládá aktuální verzi záznamu před změnou či smazáním.
\end_layout

\begin_layout Description
Logable Zaznamenává akce uživatelů.
\end_layout

\begin_layout Subsection
Úpravy základních metod 
\emph on
AppModel
\end_layout

\begin_layout Standard
Jelikož je kontrola konzistence dat po přidání, smazání a editaci záznamu
 ponechána na databázi, bylo potřeba zajistit zpracování chybových hlášení
 z
\begin_inset space ~
\end_inset

databáze.
 To se děje v metodě 
\emph on
onError()
\emph default
, která je volána pokaždé, když metoda 
\emph on
DboSouce::execute()
\emph default
 vrátí chybu.
 V
\begin_inset space ~
\end_inset

našem případě je chyba zpracována a
\begin_inset space ~
\end_inset

chybové hlášení je uloženo pro pozdější prezentaci uživateli.
\end_layout

\begin_layout Standard
Pro plnou lokalizaci aplikace bylo potřeba rozšířit metodu 
\emph on
invalidate($záznam, $chybovéHlášení)
\emph default
 o
\begin_inset space ~
\end_inset

překlad chybového hlášení, pokud daný záznam neprošel validací.
 Lokalizaci lze rovněž provádět při generování pohledu, ale to se z
\begin_inset space ~
\end_inset

hlediska údržby kódu nejeví jako nejvhodnější řešení.
\end_layout

\begin_layout Section
Řadiče (
\emph on
Controllers
\emph default
)
\end_layout

\begin_layout Standard
Řadiče jsou používany ke správě aplikační logiky.
 Pro možnost používat stejný kus kódu v
\begin_inset space ~
\end_inset

různých řadičích je vhodné používat komponenty.
 Tyto komponenty usnadňují autentifikaci, autorizaci uživatelů, vyhledávání
 v
\begin_inset space ~
\end_inset

databázi, posílání emailů nebo validaci uživatelských formulářů.
\end_layout

\begin_layout Subsection
Komponenty
\end_layout

\begin_layout Description
Auth/Authmd5 Standardní knihovna přidává k heslu řetězec definovaný v
\begin_inset space ~
\end_inset

app/config/core.php v
\begin_inset space ~
\end_inset

interní proměnné 
\emph on
Security.salt
\emph default
.
 Tato vlastnost byla v
\begin_inset space ~
\end_inset

systému na obtíž, hlavně kvůli přenositelnosti již zadaných hesel v
\begin_inset space ~
\end_inset

předchozí aplikaci.
 Proto byla vytvořena komponenta Authmd5, která nepřidává zabezpečovací
 řetězec k
\begin_inset space ~
\end_inset

heslu.
 Další drobnou změnou oproti původní komponentě je automatické hashovaní
 hesla z
\begin_inset space ~
\end_inset

formuláře, i
\begin_inset space ~
\end_inset

když není zadáno přihlašovací jméno.
\end_layout

\begin_layout Description
P28n Při načtení komponenty se zkontroluje zda si již uživatel někdy vybral
 vybral jazyk, který byl uložen do cookie
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Označení pro data v protokolu HTTP uložená v počítači uživatele, která prohlížeč
 obdržel od WWW serveru a
\begin_inset space ~
\end_inset

při každé další komunikaci je posílá zpět.
\end_layout

\end_inset

 pomocí metody 
\emph on
change($lang)
\emph default
.
 Pokud se jazyk v
\begin_inset space ~
\end_inset

cookie nenachází zvolí se výchozí jazyk aplikace podle proměnné 
\emph on
HTTP_ACCEPT_LANGUAGE
\emph default
, pokud je prohlížečem nastavena.
 V opačném případě je použit jazyk definovaný v konstaně 
\emph on
DEFAULT_LANGUAGE
\emph default
 v
\begin_inset space ~
\end_inset

souboru 
\emph on
app/config/core.php
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "p28n"

\end_inset

.
\end_layout

\begin_layout Description
Password
\begin_inset space ~
\end_inset

Helper Vygeneruje 
\begin_inset Quotes pld
\end_inset

hezké
\begin_inset Quotes prd
\end_inset

 a
\begin_inset space ~
\end_inset

bezpečné heslo zadané délky bez opakujících se znaků.
 Jednotlivé znaky jsou vybírány z
\begin_inset space ~
\end_inset

atributu
\emph on
 possible
\emph default
 dané komponenty 
\begin_inset CommandInset citation
LatexCommand cite
key "pass-gen"

\end_inset

.
\end_layout

\begin_layout Description
Autocomplete Přidává metodu 
\emph on
autocomplete()
\emph default
, která zpracuje získaná data z
\begin_inset space ~
\end_inset

formulářového prvku s
\begin_inset space ~
\end_inset

atributem name 
\begin_inset Quotes pld
\end_inset


\emph on
data[Model][položka]
\emph default

\begin_inset Quotes prd
\end_inset

.
 Následně vyhledá vyhovující záznamy a
\begin_inset space ~
\end_inset

vygeneruje seznam s
\begin_inset space ~
\end_inset

výsledky.
 Přidání doplňkových podmínek pro vyhledávání je možné v
\begin_inset space ~
\end_inset

metodě 
\emph on
beforeFilter()
\emph default
 daného řadiče nebo jeho předka.
 Děje se tak nastavením atributu 
\emph on
handles
\emph default
, kde index v
\begin_inset space ~
\end_inset

zadaném poli určuje položky tabulky, kterých se mají podmínky týkat.
 Následující příklad je vybrán z
\begin_inset space ~
\end_inset

řadiče produktů, kde má být zákazníkům úmožněno vyhledávat pouze v produktech,
 které se jich přímo týkají.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\footnotesize\ttfamily},breaklines=true,tabsize=2"
inline false
status open

\begin_layout Plain Layout

function beforeFilter() {
\end_layout

\begin_layout Plain Layout

	parent::beforeFilter();
\end_layout

\begin_layout Plain Layout

	$this->Autocomplete->handles = false;
\end_layout

\begin_layout Plain Layout

	// standardně je doporučeno vypnutí všech políček
\end_layout

\begin_layout Plain Layout

	if($this->Auth->user()) {
\end_layout

\begin_layout Plain Layout

		if (isset($this->params['prefix']) {
\end_layout

\begin_layout Plain Layout

		// podle prefixu můžeme omezit práva komponentou Auth
\end_layout

\begin_layout Plain Layout

		if ($this->params['prefix'] === 'admin') {
\end_layout

\begin_layout Plain Layout

			$this->Autocomplete->handles = array('Product.*');
\end_layout

\begin_layout Plain Layout

			// administratoři mohou číst všchny položky produktu
\end_layout

\begin_layout Plain Layout

		}
\end_layout

\begin_layout Plain Layout

		if ($this->params['prefix'] === 'customers') {
\end_layout

\begin_layout Plain Layout

			$this->Product->Behaviors->attach('Linkable');
\end_layout

\begin_layout Plain Layout

			// dynamické načtení 
\begin_inset Quotes pld
\end_inset

chování
\begin_inset Quotes prd
\end_inset


\end_layout

\begin_layout Plain Layout

			$this->Autocomplete->handles = array(
\end_layout

\begin_layout Plain Layout

				'Product.name' => array(
\end_layout

\begin_layout Plain Layout

					'link' => array('Application'),
\end_layout

\begin_layout Plain Layout

					'conditions' => array(
\end_layout

\begin_layout Plain Layout

	'Application.user_id' => User::get('id'))
\end_layout

\begin_layout Plain Layout

	// zákazníci mohou vyhledávat pouze v produktech,
\end_layout

\begin_layout Plain Layout

	// kterých se účastní
\end_layout

\begin_layout Plain Layout

			));
\end_layout

\begin_layout Plain Layout

		}         
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Description
Ajaxupdate Slouží pro usnadnění editace záznamů přes AJAX za podpory javascripto
vé knihovny 
\emph on
control.js
\emph default
, která je součástí balíku 
\emph on
scriptaculous.js
\emph default
.
\end_layout

\begin_layout Description
Filter Komponenta pro validaci vyhledávacích formulářů a
\begin_inset space ~
\end_inset

vygenerování podmínek pro vyhledávání.
\end_layout

\begin_layout Description
Email Slouží k odesílání emailů.
 Lze používat šablony, HTML zprávy a
\begin_inset space ~
\end_inset

přidávat přílohy.
\end_layout

\begin_layout Description
Request
\begin_inset space ~
\end_inset

Handler Detekuje typ požadavku podle odeslané hlavičky nebo přípony.
\end_layout

\begin_layout Subsection
Popis řadičů (
\emph on
Controllers
\emph default
)
\end_layout

\begin_layout Standard
V této části budou popsány 
\emph on
nejdůležitější
\emph default
 části aplikační logiky.
 Při vytváření základní kostry byla použita 
\begin_inset Quotes pld
\end_inset

pekárna
\begin_inset Quotes prd
\end_inset

 kódu, jejiž vygenerovaný kód byl posléze upraven.
\end_layout

\begin_layout Subsubsection
Uživatelé
\end_layout

\begin_layout Standard
Nejdůležitějšími akcemi jsou bezpochyby přihlášení a odhlášení uživatele.
 Ty jsou zajištěny komponentou 
\emph on
Auth
\emph default
, která se nastavuje v metodě 
\emph on
beforeFilter()
\emph default
 řadiče aplikace (
\emph on
AppController
\emph default
) .
\end_layout

\begin_layout Description
login() Po přihlášení je aktualizována položka 
\begin_inset Quotes pld
\end_inset

poslední přihlášení
\begin_inset Quotes prd
\end_inset

 v
\begin_inset space ~
\end_inset

databázi, nastavena zpráva uživateli a
\begin_inset space ~
\end_inset

uživatel je přesměrován na
\begin_inset space ~
\end_inset

požadovanou nebo výchozí stránku.
\end_layout

\begin_layout Description
logout() Smaže cookie, nastaví zprávu o úspěšném odhlášení a přesměruje
 na výchozí stránku.
\end_layout

\begin_layout Description
account() Slouží ke změně hesla uživatele.
 Pokud jsou poslány data a hesla projdou validací, je uživateli nastaveno
 nové heslo.
\end_layout

\begin_layout Description
recover() Uživatel si může nechat zaslat nové heslo po zadání emailu.
 Je vytvořen token s platností 1 den.
 V budoucnu by bylo dobré rozšířit možnost obnovy hesla o kontrolní otázku.
\end_layout

\begin_layout Description
verify($token) Zkontroluje zda se zadaný token nachází v databázi a pokud
 ano, zašle uživateli nově vygenerované heslo.
\end_layout

\begin_layout Description
register() Jednoduchá registrace uživatele po jejímž dokončení je uživateli
 zaslán aktivační email.
\end_layout

\begin_layout Standard
Výše uvedené akce jsou povoleny i nepřihlášeným uživatelům pomocí metody
 
\emph on
Auth::allow($akce)
\emph default
.
\end_layout

\begin_layout Description
admin_account($id) Umožní administrátorovi změnit heslo uživateli s daným
 id bez znalosti starého.
\end_layout

\begin_layout Description
admin_reset_password($id) Vygeneruje uživateli s daným id náhodné heslo
 a zašle ho uživateli na email zadaný při registraci.
\end_layout

\begin_layout Description
admin_invoiceattachment() Jakmile jsou vyplněny informace o poskytovateli,
 zákazníkovi a časovém období, je vygenerován seznam produktů, na kterých
 se v tomto období pracovalo.
 Provede spojení tabulek uživatelů, smluv, výkazů, produktů, událostí a
 přihlášek daného zákazníka.
 Vyberou se pouze ty, které mají záznam v tabulce událostí v daném intervalu.
 Nakonec jsou k nalezeným záznamům přidány informace o jednotlivých datech
 a množství vykázaných jednotek.
 Podle nastavení způsobu účtování je vypočítána výsledná cena bez DPH.
\end_layout

\begin_layout Subsubsection
Produkty
\end_layout

\begin_layout Standard
Kromě běžných akcí pro fitrování, zobrazení, editování a smazání produktu
 administrátorem, jsou zde i metody pro export dat a tisk přehledů.
\end_layout

\begin_layout Description
admin_export() Vygeneruje CSV soubor s nalezenými produkty podle vyplněného
 filtru.
\end_layout

\begin_layout Description
admin_schedule() Pro každý produkt vyhovující podmínkám filtru vyhledá dny
 v týdnu, ve kterých probíhá výuka a přidá informaci o časovém intervalu.
\end_layout

\begin_layout Description
admin_schedulePdf() Použije výše uvedenou metodu k nalezení dat.
 Poté vygeneruje pdf soubor a nabídne jej uživateli ke stažení.
\end_layout

\begin_layout Subsubsection
Smlouvy
\end_layout

\begin_layout Standard
Řadič smluv definuje různý přístup k datům pro administrátora a dodavatele,
 kteří mohou nahlížet pouze na své smlouvy a nemohou je editovat (metody
 
\emph on
employees_index()
\emph default
, 
\emph on
employess_view($id)
\emph default
).
 
\end_layout

\begin_layout Description
admin_payment() Na základě filtru vybere odpovídající smlouvy a
\begin_inset space ~
\end_inset

vygeneruje přehled pro sestavení výplat a kontrolu přijatých faktur od dodavatel
ů.
 Základní schéma výpočtu pro rok 2008 bylo následující:
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,tabsize=2"
inline false
status open

\begin_layout Plain Layout

if typ služby == služba then
\end_layout

\begin_layout Plain Layout

	if způsob platby == hotově then
\end_layout

\begin_layout Plain Layout

		zaokrouhli výplatu na 50 haléřů
\end_layout

\begin_layout Plain Layout

	endif
\end_layout

\begin_layout Plain Layout

else if plátce daně then
\end_layout

\begin_layout Plain Layout

		if výplata > 5000 then
\end_layout

\begin_layout Plain Layout

			zálohová daň := 15% z výplaty
\end_layout

\begin_layout Plain Layout

		else
\end_layout

\begin_layout Plain Layout

			srážková daň := 15% z výplaty
\end_layout

\begin_layout Plain Layout

		endif
\end_layout

\begin_layout Plain Layout

endif
\end_layout

\end_inset

Slabinou systému je, že nedokáže generovat přehledy pro odvody na sociálním
 a zdravotním pojištění placených zaměstnavatelem.
\end_layout

\begin_layout Subsubsection
Příjmové doklady
\end_layout

\begin_layout Standard
Pro zobrazení dokladu a vygenerování položek k
\begin_inset space ~
\end_inset

zaplacení slouží metoda 
\emph on
admin_view($id)
\emph default
.
 Pro každý produkt se sečtou již zaplacené položky a
\begin_inset space ~
\end_inset

celkový počet položek k
\begin_inset space ~
\end_inset

zaplacení.
 Rozdíl těchto dvou mezivýsledků určuje nedoplatek popřípadě přeplatek na
 daném produktu.
 Jelikož je rozhraní pro přidávání a
\begin_inset space ~
\end_inset

mazání položek z
\begin_inset space ~
\end_inset

dokladu postaveno na AJAXu jsou vytvořeny dvě metody 
\emph on
admin_additem()
\emph default
 a 
\emph on
admin_delitem()
\emph default
, které po provedení akce vygenerují element s
\begin_inset space ~
\end_inset

aktualizovanými položkami dokladu.
\end_layout

\begin_layout Subsubsection
Události v kalendáři
\end_layout

\begin_layout Standard
Pro přehledné zobrazení událostí jsou na výběr dvě možnosti.
 Tou první je zobrazení všech událostí v daném měsíci v
\begin_inset space ~
\end_inset

tabulce podobné kalendáři.
 K tomuto účelu slouží metoda 
\emph on
PREFIX_calendar()
\emph default
, kterou jsou získány všechny záznamy vyhovující filtru a pro generování
 pohledu je použit pomocník třídy 
\emph on
CalendarHelper::calendar()
\emph default
.
\end_layout

\begin_layout Standard
Druhou variantou je týdenní zobrazení včetně času.
 Data jsou nejdřív seřazena a
\begin_inset space ~
\end_inset

vícedenní záznamy se rozdělí do několika jednodenních (např.
 událost 8.7.2009 16:00 - 9.7.2009 14:00 je rozdělena na 8.7.2009 16:00-24:00
 a
\begin_inset space ~
\end_inset

9.7-2009 00:00-14:00).
 Rozdělené záznamy jsou pak vykresleny pomocí metody 
\emph on
CalendarHelper::week()
\emph default
.
\end_layout

\begin_layout Section
Zásuvné moduly (
\emph on
Plugins
\emph default
)
\end_layout

\begin_layout Standard
V této části budou popsány moduly jiných autorů a jejich úpravy a vylepšení,
 které byly použity při implementaci systému.
\end_layout

\begin_layout Subsection
Vyhledávací modul (
\emph on
Searchable
\emph default
)
\end_layout

\begin_layout Standard
Nejdůležitějším požadavkem na tento modul je rychlost.
 Jelikož byl vybrán databázový systém MySQL, který ve verzi 5.2 umožňuje
 fultextové vyhledánání pouze nad tabulkami typu MyISAM, bylo potřeba zajistit,
 že půjde rychle vyhledávat i
\begin_inset space ~
\end_inset

data obsažená tabulkách typu InnoDB.
\end_layout

\begin_layout Standard
Idea spočívá ve vytvoření tabulky typu MyISAM, do které jsou uloženy všechna
 data z textových sloupců indexované tabulky.
 Výhodou je, že lze prohledávat více tabulek jedním dotazem.
 Nalezené řádky jsou spojeny se záznamy v původní tabulce.
\end_layout

\begin_layout Standard
Úpravy se dočkalo generování výstupu pro 
\begin_inset Quotes pld
\end_inset

našeptávač
\begin_inset Quotes prd
\end_inset

 
\begin_inset CommandInset ref
LatexCommand eqref
reference "fig:Našeptávač"

\end_inset

, jinak vše zůstalo podle 
\begin_inset CommandInset citation
LatexCommand cite
key "searchable"

\end_inset

.
\end_layout

\begin_layout Subsection
Komprimace skriptů a kaskádových stylů (
\emph on
Asset
\emph default
)
\end_layout

\begin_layout Standard
Modul využívá kódu projektů JsMin a CssTidy pro komprimaci javascriptu a
 kaskádových stylů.
 Vybere všechny soubory, které byly do stránky vloženy voláním 
\emph on
$javascript->link(nazev)
\emph default
 a 
\emph on
$html->css(nazev)
\emph default
, a ty pak tranformuje do optimalizovaných souborů.
\end_layout

\begin_layout Subsection
Optimalizace generování dotazů (
\emph on
Url_cache
\emph default
)
\end_layout

\begin_layout Standard
Při optimalizaci výkonu bylo zjištěno, že na stránkách, kde je potřeba generovat
 větší množství odkazů, dochází k výraznému spomalení generování výstupu.
 Slabé místo bylo nalezeno v metodě 
\emph on
Router::url()
\emph default
, která je volána pro vytvoření URL podle nastaveného směrování v 
\emph on
app/coufig/routes.php
\emph default
.
\end_layout

\begin_layout Standard
Tento modul zavádí ukládání vygenerovaných URL do vyrovnávací paměti a odbourává
 nutnost neustálého volání výše zmíněné metody.
\end_layout

\begin_layout Chapter
Uživatelská dokumentace
\end_layout

\begin_layout Standard
Uživatelská dokumentace si klade za cíl stručně přiblížit čtenáři výhody
 informačního systému a jeho základními způsoby ovládání.
 V jednotlivých částech je vysvětleno, jak má správce postupovat od úvodní
 instalace, přes inicializaci databáze, uložení informací o uživatelích,
 přidání produktů až po tisk účetních podkladů.
 
\end_layout

\begin_layout Standard
Dodavatelům a zaměstnancům je názorně předvedeno, jak správně vyplnit měsíční
 výkazy a jak vést evidenci docházky účastníků kurzů.
 
\end_layout

\begin_layout Standard
Zákazníkům je vysvětlen postup, kterým jednoduše zjistí, kolik z objednaných
 služeb již bylo zaplaceno, zkontrolují průběh aktuálních kurzů či počet
 přeložených stran překladu.
\end_layout

\begin_layout Standard
Studenti si mohou zobrazit rozvrh hodin na další týdny a zkontrolovat zaznamenan
ou docházku.
\end_layout

\begin_layout Section
Instalace serveru
\end_layout

\begin_layout Standard
Pro běh serverové aplikace je nutné mít program, který úmožnuje zpracování
 zdrojových kódů a prezentaci výstupu protokolem HTTP popřípadě HTTPS.
 Nejznámějším volně dostupným programem je Apache [http://httpd.apache.org/],
 který úmožnuje pomocí modulů [http://httpd.apache.org/modules/] přidat podporu
 pro jazyk PHP nutný k běhu IS.
\end_layout

\begin_layout Subsection
Stažení a instalace Apache
\end_layout

\begin_layout Standard
Pokud je systém instalován na některou z
\begin_inset space ~
\end_inset

moderních linuxových distribucí, je doporučeno nejdříve prohledat její repozitář
e.
 Ve většině případů se zde nachází již hotový balík upravený pro snadnější
 instalaci a
\begin_inset space ~
\end_inset

konfiguraci.
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

# Debian a jeho derivace (Ubuntu, Kubuntu, ...):
\end_layout

\begin_layout Plain Layout

apt-get install apache2
\end_layout

\begin_layout Plain Layout

# Gentoo
\end_layout

\begin_layout Plain Layout

emerge apache2
\end_layout

\end_inset


\end_layout

\begin_layout Standard
V opačném případě je nutné stáhnout archív zdrojových kódů nebo předkompilovanou
 ze stránek projektu
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset CommandInset href
LatexCommand href
target "http://httpd.apache.org/download.cgi"

\end_inset


\end_layout

\end_inset

 a postupovat podle 
\begin_inset CommandInset citation
LatexCommand cite
key "apache2"

\end_inset

.
\end_layout

\begin_layout Subsection
Konfigurace Apache
\end_layout

\begin_layout Standard
Pro správnou funkci aplikace je potřeba doinstalovat, popřípadě povolit
 následující moduly: 
\shape italic
mod_php5
\shape default
, 
\shape italic
mod_rewrite
\shape default
 a 
\shape italic
mod_ssl.

\shape default
 Pro správnou funkci zabezpečeného připojení je nutné vygenerovat certifikáty
 a upravit konfiguraci stránek.
\end_layout

\begin_layout Subsection
Stažení a instalace MySQL serveru
\begin_inset CommandInset label
LatexCommand label
name "sub:Stažení-a-instalace"

\end_inset


\end_layout

\begin_layout Standard
uživatelské jméno: isadb
\begin_inset Newline newline
\end_inset

heslo: isapass
\end_layout

\begin_layout Section
Umístění aplikace
\end_layout

\begin_layout Standard
Pokud máme server správně nakonfigurovaný, zkopírujeme složku s aplikací
 do adresáře určeného konfigurací Apache (obvykle /var/www či C:
\backslash

\backslash
Program Files
\backslash
apache2
\backslash
www - budeme označovat 
\emph on
ROOT
\emph default
).
 Pro větší bezpečnost je doporučeno změnit 
\begin_inset Quotes pld
\end_inset

webroot
\begin_inset Quotes prd
\end_inset

 v konfiguraci apache na složku 
\emph on
ROOT
\emph default
/app/webroot.
 Dále je potřeba nastavit přihlašovací údaje k databázi podle 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Stažení-a-instalace"

\end_inset

předchozí části v souboru 
\emph on
ROOT
\emph default
/app/config/database.php .
\end_layout

\begin_layout Section
Inicializace databáze
\end_layout

\begin_layout Standard
V souboru 
\emph on
ROOT
\emph default
/app/config/sql/isa_init.sql se nachází MySQL 5.0+ kompatibilní skript, který
 vytvoří tabulky a naplní je daty nutnými k prvnímu přihlášení administrátora.
\end_layout

\begin_layout Section
Upřesňující informace
\end_layout

\begin_layout Standard
Pro další čtení manuálu je potřeba upřesnit několik důležitých pojmů, které
 se budou dále vyskytovat.
\end_layout

\begin_layout Description
Systémová
\begin_inset space ~
\end_inset

skupina je nutná pro správné fungování IS.
\end_layout

\begin_layout Standard
Tato sekce je rozdělena podle rolí definovaných v IS.
\end_layout

\begin_layout Description
Správce: pověřený uživatel s plnými právy ke všem modulům systému.
\end_layout

\begin_layout Description
Editor: osoba s omezenými právy k editaci vybraných modulů.
\end_layout

\begin_layout Description
Dodavatelé: zaměstnanec, brigádník či jiný subjekt vykonávající zadanou
 práci.
\end_layout

\begin_layout Description
Odběratelé: zákazníci, kteří si objednali libovolný produkt.
\end_layout

\begin_layout Description
Poskytovatelé: subjekty, které jsou vedeny 
\begin_inset Quotes pld
\end_inset

pod jednou střechou
\begin_inset Quotes prd
\end_inset

 a sdílí část informací.
\end_layout

\begin_layout Description
Účastníci: studenti jednotlivých kurzu.
 
\end_layout

\begin_layout Standard
Výše popsané role mohou být změněny či zakázány administrátorem systému.
 Čtenáři je doporučeno číst pouze části, jenž se ho týkají.
\end_layout

\begin_layout Description
Poznámka: Text u odkazu na zobrazení, editaci nebo smazání záznamu mohou
 být nahrazeny po řadě obrázky: 
\begin_inset Graphics
	filename more.gif
	scale 80

\end_inset

,
\begin_inset Graphics
	filename edit.gif
	scale 80

\end_inset

 a 
\begin_inset Graphics
	filename delete.gif
	scale 80

\end_inset

.
\end_layout

\begin_layout Section
Správce (hlavní manažer)
\end_layout

\begin_layout Standard
Má standardně nastavena veškerá přístupová práva ke všem modulům systému.
 
\end_layout

\begin_layout Subsection
Správa IS
\end_layout

\begin_layout Standard
Tento modul obsahuje moduly pro nastavení jednotlivých částí systému, správu
 uživatelů, skupin, práv a ostatních číselníků (daně, místnosti, kategorie
 produktů).
\end_layout

\begin_layout Subsubsection
Uživatelé (Users)
\begin_inset CommandInset label
LatexCommand label
name "sub:Uživatelé-(Users)"

\end_inset


\end_layout

\begin_layout Standard
Modul 
\noun on
Uživatelé
\noun default
 nabízí veškeré nastavení potřebné pro definování možností při užívání systému
 osobami majícími vztah k IS.
 Dále jsou zde uchovány veškeré osobní informace důvěrného charakteru.
\end_layout

\begin_layout Description
Filtr
\begin_inset space ~
\end_inset

seznam
\begin_inset space ~
\end_inset

uživatelů
\begin_inset space ~
\end_inset

[/admin/Users/index]: V horní části se nachází odkazy na akce související
 s uživateli.
 Filtry pro práci se seznamem uživatelů jsou umístěny nad hlavní tabulkou
 a v hlavičce tabulky s funkcí 
\begin_inset Quotes pld
\end_inset

našeptávače
\begin_inset Quotes prd
\end_inset

.
 
\end_layout

\begin_layout Description
Přidání
\begin_inset space ~
\end_inset

uživatele
\begin_inset space ~
\end_inset

[/admin/Users/add]: Odkaz na formulář je hlavním menu a
\begin_inset space ~
\end_inset

v
\begin_inset space ~
\end_inset

částech, které na uživatelích závisí.
 Jedinou povinnou položkou je 
\emph on
zobrazované jméno
\emph default
, která slouží jako popisek ve všech filtrech.
 Ostatní položky je možné vyplnit až při jejich potřebě ve výpisu.
 Volba 
\emph on

\begin_inset Quotes pld
\end_inset

aktivní
\begin_inset Quotes prd
\end_inset


\emph default
 slouží k aktivaci uživatelského účtu.
 Uživatel je schopen se přihlásit pouze pokud je jeho účet takto označen.
\end_layout

\begin_layout Description
Editace
\begin_inset space ~
\end_inset

uživatele: Uživatele lze vyhledat přes filtr seznamů uživatelů nebo přes
 formulář rychlého hledání.
 V prním případě klikněte na Vyberte odpovídající skupinu k editaci a pro
 uložení změn použijte tlačítko 
\emph on
Uložit
\emph default
.
 V případě chybového hlášení zkontrolujte všechny skupiny údajů.
\end_layout

\begin_layout Description
Zobrazení
\begin_inset space ~
\end_inset

uživatele: @todo
\end_layout

\begin_layout Description
Nastavení
\begin_inset space ~
\end_inset

či
\begin_inset space ~
\end_inset

změna
\begin_inset space ~
\end_inset

hesla: V profilu uživatele klikněte na odkaz Změnit heslo a vyplňte nové
 heslo do obou kolonek.
 Správce může editovat hesla všem uživatelům a měl by je o této změně informovat
 zabezpečeným kanálem[@todo definovat zabezpeceny kanal], aby se předešlo
 zneužití jejich účtu.
\end_layout

\begin_layout Subsubsection
Skupiny a oprávnění
\end_layout

\begin_layout Standard
V tomto modulu můžete přidávat a mazat uživatelské skupiny a oprávnění.
 Pro zachování správného fungování systému nemažte tyto systémové skupiny:
 customers, employees, providers, students a admin.
\end_layout

\begin_layout Standard
Při implicitní nastavení má každá ze systémových skupin práva definované
 a přiřazené oprávnění k prefixovaným akcím jednotlivých modulů.
 Tyto oprávnění jsou definovány tímto způsobem: 
\emph on
*:customers_*, *:employees_*, *:providers_*, *:students_*, *:admin_*
\emph default
 a říkají, že daná skupina může v libovolném modulu spouštět akce začínajícím
 jejich jménem.
 V příkladu byl použit expanzní znak 
\begin_inset Quotes pld
\end_inset

*
\begin_inset Quotes prd
\end_inset

, který je možné používat k nahrazení libovoného počtu libovolných znaků,
 a 
\begin_inset Quotes pld
\end_inset

:
\begin_inset Quotes prd
\end_inset

, jenž určuje hranici mezi modulem a akcí (např.
 oprávnění 
\emph on
Users:*_view
\emph default
 umožní zobrazit všechny prefixované akce 
\emph on
view
\emph default
 v modulu 
\noun on
Uživatelé
\noun default
).
\end_layout

\begin_layout Standard
Každá skupina může může mít přiřazeno více definovaných oprávnění a je na
 správci, jak s nimi bude zacházet.
\end_layout

\begin_layout Subsubsection
Číselníky
\end_layout

\begin_layout Standard
V této části se seznámíme se všemi číselníky, jejich funkcemi v systému
 a možností editace.
 Všechy dále uvedené moduly obsahují automaticky generovaný číselný identifikáto
r (dále jen 
\emph on
id
\emph default
), který slouží pro interní potřeby systému a není možné ho změnit.
 Dále je potřeba upozornit na fakt, že vytvořené položky v číselníku, které
 již byly v systému přizazeny nějakým záznamům, nelze vymazat.
 Vymazání je umožněno až když je číselník u daných záznamů změněn.
\end_layout

\begin_layout Description
Kategorie
\begin_inset CommandInset label
LatexCommand label
name "kategorie"

\end_inset

 obsahuje název, zkratku, jednoduchý slovní popis a zašktávací políčko určující,
 zda se produkty v této kategorii považují za veřejné a má se zobrazovat
 jejich rozvh na webových stránkách.
 Účel číselníku spočíva v rozčlenění množství produktů do skupin, podle
 kterých lze vytvářet tiskové sestavy (přílohy faktur, rozvrhy, měsíční
 přehledy nákladů, ...).
\end_layout

\begin_layout Description
Místa
\begin_inset CommandInset label
LatexCommand label
name "místa"

\end_inset

 obsahují název a adresu.
 Slouží k odkazu na místo v událostech.
\end_layout

\begin_layout Description
Štítky
\begin_inset CommandInset label
LatexCommand label
name "stítky"

\end_inset

 obsahují název a odkaz na nadřazený štítek, pro možnost tvorby hierarchické
 struktury článků.
\end_layout

\begin_layout Subsection
Produkty
\end_layout

\begin_layout Standard
Modul 
\noun on
Produkty
\noun default
 je závislý na správně rozdělených uživatelích do systémových skupin.
 Rovněž je doporučeno předvyplnit číselník kategorií produktů.
\end_layout

\begin_layout Subsubsection
Vytvoření nového produktu (jednoduchá verze)
\end_layout

\begin_layout Standard
Vyberte kategorii a poskytovatele.
 Dále vyplňte název produktu a infomaci o datu zahájení a předpokládaném
 či žádaném datu ukončení prací.
 Dále si řekněme, jak se vypočítá výsledná cena (bez DPH) pro zákazníka.
 Od toho se bude odvíjet další vyplňování formuláře.
\end_layout

\begin_layout Standard
Stanovte si, jak budete daný produkt nabízet a od čeho se odvíjí náklady.
 V
\begin_inset space ~
\end_inset

případě, že se náklady odvíjí od počtu zúčastněných osob zašrtněte možnost
 
\emph on
Počítat účastníky
\emph default
.
 Pokud nevíte dopředu kolik hodin bude odučeno či kolik normostran bude
 účtováno a náklady na ně nejsou fixní, zaškrtněte možnost 
\emph on
Počítat množství
\emph default
.
 Celková cena bude spočítána takto:
\end_layout

\begin_layout Itemize
Jednotková cena je vynásobena počtem účastníků pokud byla odpovídající volba
 zaškrtnuta
\end_layout

\begin_layout Itemize
Mezisoučet je vynásoben součtem odpracovaných jednotek v událostech ve výkazech
 přiřazených v produktu pokud byla volba 
\emph on
počítat množství
\emph default
 zaškrtnuta.
\end_layout

\begin_layout Standard
Teď už zbývá doplnit zbývající povinné položky a to jednotku a jednotkovou
 cenu.
\end_layout

\begin_layout Subsubsection
Filtrování produktů
\end_layout

\begin_layout Standard
Pro filtrování produktů můžete použít 
\begin_inset Quotes pld
\end_inset

našeptávač
\begin_inset Quotes prd
\end_inset

 u jednotlivých polí.
 Vyplněním části hledaného výrazu, se zobrazí seznam položek, které tento
 výraz obsahují (obrázek
\begin_inset CommandInset ref
LatexCommand vref
reference "fig:Našeptávač"

\end_inset

).
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename autocomplete.png
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Našeptávač"

\end_inset


\begin_inset Quotes pld
\end_inset

Našeptávač
\begin_inset Quotes prd
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Odstranění produktu
\end_layout

\begin_layout Standard
Odstranění produktu není povoleno, pokud obsahuje výkazy nebo přihlášky.
 Nejprve je nutné zkontrolovat, že jednotlivé položky na výkazech nebyly
 zaúčtovány a ty pak následně vymazat.
 Další problém může nastat, pokud již byl vydán příjmový doklad.
 V tom případě z něj musíte stornovat příslušté položky vztahující se k
 danému produktu.
 Při splnění všech těchto podmínek bude smazání umožněno.
\end_layout

\begin_layout Subsection
Výkazy
\end_layout

\begin_layout Subsubsection
Vyhledání a filtrování výkazů
\end_layout

\begin_layout Standard
V menu nebo produktech klikněte na 
\emph on
Zobrazit výkazy
\emph default
.
 V horní tabulce je možné zaškrtnou pouze některé kategorie produktů, ke
 kterým byly výkazy přidány.
\end_layout

\begin_layout Subsubsection
Vytvoření
\begin_inset space ~
\end_inset

a
\begin_inset space ~
\end_inset

přiřazení
\begin_inset space ~
\end_inset

výkazu
\begin_inset space ~
\end_inset

k
\begin_inset space ~
\end_inset

produktu 
\end_layout

\begin_layout Standard
Vytvoření a přiřazení výkazu k produktu provádějte pouze pokud je produkt,
 ke kterému chcete přidat výkaz, již vytvořen.
 
\end_layout

\begin_layout Standard
V menu klikněte na položku 
\emph on
Přidat výkaz
\emph default
 a vyplňte následný formulář.
 U dodavatele se rozlišuje se i typ smlouvy uvedený v závorce.
 Sazba a jednotka jsou rovněž povinné položky.
\end_layout

\begin_layout Standard
Další možností, jak přiřadit nový výkaz, je přes modul 
\noun on
Produkty
\noun default
 (nebo přes 
\begin_inset Quotes pld
\end_inset

rychlé hledání
\begin_inset Quotes prd
\end_inset

), kde lze snadno vyhledat daný produkt.
 Zobrazte si detaily nalezeného produktu a ve skupině 
\emph on
Přiřazené výkazy
\emph default
 klikněte na odkaz 
\emph on
Přidat výkaz
\emph default
.
\end_layout

\begin_layout Subsubsection
Přidání události k výkazu
\end_layout

\begin_layout Standard
Vyhledejte a zobrazte výkaz.
\end_layout

\begin_layout Subsection
Tipy na urychlení práce
\end_layout

\begin_layout Standard
Zvláštní formulář na přidání produktu spolu se zákazníkem i dodavatelem
 umožní rychlejší zadávání většího množství nových produktů.
 Je standardně dostupný přes hlavní menu nebo na adrese 
\emph on
/admin/products/addall
\emph default
.
\end_layout

\begin_layout Section
Dodavatel
\end_layout

\begin_layout Standard
Dodavatel má přístup, ke všem produktům, kde měl přiřazen alespoň jeden
 výkaz.
\end_layout

\begin_layout Standard
zadávání výkazu,
\end_layout

\begin_layout Standard
evidence docházky do kurzů
\end_layout

\begin_layout Chapter
Existující implementace
\end_layout

\begin_layout Standard
Existujicí implementace lze rozdělit na několik skupin.
 Žádná však nepokrývá veškeré požadavky v plném rozsahu vzhledem ke specifickým
 požadavkům na způsob vedení evidence a účtování služeb.
 Oblastmi, kde by využití existujících systému připadalo v úvahu jsou správa
 obsahu pro prezentaci na Internetu a podpora on-line vzdělávání.
 První skupina systémů je označována anglickou zkratkou CMS
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
Content Management System
\emph default
 - systém pro správu obsahu
\end_layout

\end_inset

 nebo WCMS a lze ji rozdělit do podskupin podle způsobu, jakým prezentují
 uložená data.
\end_layout

\begin_layout Description
Offline
\begin_inset space ~
\end_inset

zpracování Server vygeneruje statické HTML před samotnou publikací.
 Proto takové systémy nepořebují, aby server aplikoval šablony na data při
 každém požadavku.
 Výhody jsou zjevné pro vytížené CMS používané převážně pro čtení dat.
 Naopak při častých změnách dat mohou být tyto systémy pomalé nebo neaktuální,
 proto je nutné si jejich nasazení řádně rozmyslet.
 Příkladem takového systému je například Vignette CMS.
\end_layout

\begin_layout Description
Online
\begin_inset space ~
\end_inset

zpracování Server generuje prezentační data až na základě požadavků klienta.
 To znamená, že server má daleko více práce.
 Proto je vhodné, aby vygenerovaná data uložil do vyrovnávací paměti a při
 dalším stejném dotazu vrátil požadovaná data přímo z ní.
 Mezi nejznámější open source systémy patří Joomla, Drupal, WordPress, TangoCMS,
 DotNetNuke a Zope.
 Pokročilé systémy umožňují i úpravy základních šablon, bez zásahu do zdrojových
 kódu.
\end_layout

\begin_layout Description
Hybridní Jak již název napovídá, tyto systémy kombinují oba předchozí přístupy.
 Příkladem takového systému je Blosxom, který se dočkal mnoha implementací
 v různých programovacích jazycích.
\end_layout

\begin_layout Section
Správci obsahu (
\emph on
CMS
\emph default
)
\end_layout

\begin_layout Standard
Systému pro správu obsahu existuje celá řada.
 Zde si stručně představíme nejznámější trojici open source správců webového
 obsahu napsaných v
\begin_inset space ~
\end_inset

PHP.
 Celkově se systémy moc neodlišují a
\begin_inset space ~
\end_inset

všechny mají silnou komunitu, která se stará o vývoj a
\begin_inset space ~
\end_inset

rozšíření.
\end_layout

\begin_layout Standard
Je možné, že při dalším vývoji informačního systému, některý z
\begin_inset space ~
\end_inset

těchto správců nahradí primitivní publikační systém, jenž byl v
\begin_inset space ~
\end_inset

systému implementován.
\end_layout

\begin_layout Subsection
Joomla!
\end_layout

\begin_layout Standard
Systém Joomla! je vyvíjen od roku 2005 a
\begin_inset space ~
\end_inset

vznikl odštěpením části vývojářů od projektu Mamboo.
 Joomla ve
\begin_inset space ~
\end_inset

verzi 1.5 a
\begin_inset space ~
\end_inset

vyšší nabízí kompletní lokalizaci, blogy, fóra, hlasování, kalendář, indexaci
 stránek, RSS kanály a
\begin_inset space ~
\end_inset

různá témata.
\end_layout

\begin_layout Standard
Pro Joomlu je napsáno přes 3000 open source doplňků a existují i
\begin_inset space ~
\end_inset

komerční doplňky například pro e-learning
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset CommandInset href
LatexCommand href
target "http://www.joomlalms.com/"

\end_inset


\end_layout

\end_inset

.
 Snadno lze vytvořit také internetové obchody, rezervační systémy a
\begin_inset space ~
\end_inset

další vlastní aplikace díky snadno rozšířitelné 
\emph on
MVC
\emph default
 architektuře.
\end_layout

\begin_layout Standard
V neprospěch Joomly nahrává málo strukturované rozdělení práv uživatelů
 k jednotlivým článkům a obsahu, což se má ale s verzí 1.7 změnit.
 Velikost základní instalace dosahuje 13,8
\begin_inset space ~
\end_inset

MB a drží se hesla: 
\begin_inset Quotes pld
\end_inset

nabídneme uživateli raději víc, aby uživatel nemusel nic přidávat
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement !h
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename joomla.png
	lyxscale 50
	width 100text%

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Joomla! - administrátorské rozhraní
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Drupal
\end_layout

\begin_layout Standard
Drupal se stal open source projektem v roce 2001.
 Nabízí propracované rozhraní pro správu uživatelů, statistiku přístupů,
 blogy, fóra a další moduly včetně překladů do mnoha jazyků.
 V systému je dbáno hlavně na
\begin_inset space ~
\end_inset

bezpečnost.
 Proto mohou být administrátoři automaticky upozorněni na
\begin_inset space ~
\end_inset

aktualizace jak jádra aplikace, tak přidavných modulů.
 Navíc lze přístup do systému jednoduše omezit podle IP adresy.
\end_layout

\begin_layout Standard
Nejzajímavějším rozšířením s
\begin_inset space ~
\end_inset

ohledem na cíl této práce je DrupalEd.
 Umožnuje tvorbu a
\begin_inset space ~
\end_inset

správu výukových materiálů, rozdělení uživatelů do
\begin_inset space ~
\end_inset

skupin (tříd) s
\begin_inset space ~
\end_inset

možností nastavení přístupových práv k
\begin_inset space ~
\end_inset

jednotlivých stránkám.
 
\end_layout

\begin_layout Standard
Občas je Drupalu vyčítano, že je oproti Joomle, v
\begin_inset space ~
\end_inset

některých nasazeních pomalejší.
 Přesto se jedná o
\begin_inset space ~
\end_inset

velmi dobrý produkt vhodný i
\begin_inset space ~
\end_inset

pro větší projekty, který s
\begin_inset space ~
\end_inset

přicházející verzí 7 tyto nedostatky postupně odstraňuje.
\end_layout

\begin_layout Standard
Z pohledu vývojáře může být překážkou trochu zastaralý neobjektový přístup.
 Kladně je naopak příjmána velikost základní instalace, která se pohybuje
 kolem 4,8
\begin_inset space ~
\end_inset

MB.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement p
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename drupal.png
	lyxscale 50
	width 100text%

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Drupal - nastavení rolí v systému
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Wordpress
\end_layout

\begin_layout Standard
Wordpress je propracovaným publikačním nástrojem, jehož rozhraní je velice
 intuitivní a
\begin_inset space ~
\end_inset

přehledné.
 Funkcionalitu lze rozšířit pomocí pluginů a
\begin_inset space ~
\end_inset

na
\begin_inset space ~
\end_inset

postranní panel lze přidávat widgety
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
prvek na stránce zobrazující doplňkové informace
\end_layout

\end_inset

, které lze v
\begin_inset space ~
\end_inset

administrátorském prostředí nastavit 
\emph on
drag-and-drop
\emph default

\begin_inset Foot
status collapsed

\begin_layout Plain Layout
způsob práce s elementy, které lze přesouvat mezi jednotlivými aplikacemi
 či jejich částmi
\end_layout

\end_inset

 akcemi.
\end_layout

\begin_layout Standard
Na velice dobré úrovni je podpora třídění článků pomocí kategorií a
\begin_inset space ~
\end_inset

štítků, kde je také umožněno vytvoření trvalého odkazu na článek pro případ
 změny zařazení do kategorií.
 K článkům lze přidávat fotogalerie, odkazy i
\begin_inset space ~
\end_inset

videa.
 S verzí 2.7 rovněž přibyla možnost stahovaní aktualizací a
\begin_inset space ~
\end_inset

pluginů přes administrátorské rozhraní.
\end_layout

\begin_layout Standard
Tento nástroj se zatím jeví jako vhodná alternativa k
\begin_inset space ~
\end_inset

předešlým dvěma komplexním správcům, pro jednoduché publikování s
\begin_inset space ~
\end_inset

minimálními nároky na
\begin_inset space ~
\end_inset

studium administrátorského prostředí.
 Také velikost projektu odpovídá jeho schopnostem, když po rozbalení archívu
 má instalace velikost 6,9
\begin_inset space ~
\end_inset

MB.
 Je ovšem nutné podoknout, že samotné javascriptové knihovny zabírají třetinu
 místa.
 
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename wordpress.png
	lyxscale 50
	width 100text%

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Wordpress - správa widgetů
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
E-Learning
\end_layout

\begin_layout Standard
Samotnou kategorii představují specializované open source systémy pro e-learning
, evidenci kurzů a
\begin_inset space ~
\end_inset

jejich prodej.
 Při popisu těchto systémů je možné se setkat s
\begin_inset space ~
\end_inset

následujícími výrazy:
\end_layout

\begin_layout Itemize

\emph on
Course
\begin_inset space ~
\end_inset

Management
\begin_inset space ~
\end_inset

System
\begin_inset space ~
\end_inset

(CMS
\begin_inset Foot
status open

\begin_layout Plain Layout
Zkratka je v tomto případě shodná se systémy pro správu obsahu, která bude
 dále v
\begin_inset space ~
\end_inset

textu upřednotňována.
\end_layout

\end_inset

)
\emph default
 - systém pro správu kurzů
\end_layout

\begin_layout Itemize

\emph on
Learning Management System (LMS)
\emph default
 - systém pro řízení výuky
\end_layout

\begin_layout Itemize

\emph on
Virtual Learning Enviroment (VLE)
\emph default
 - virtuální výukové prostředí
\end_layout

\begin_layout Standard
V posledních letech zažívají tyto systémy bouřlivý vývoj.
 Vznikají buď jako naprosto nové systémy, nebo jako rozšíření do stávajících
 CMS.
 
\end_layout

\begin_layout Standard
Důležitým faktorem pro práci s e-learningovými systémi je dodržování standardů
 tak, aby bylo možné rychle a snadno začlenit již existující výukový materiál,
 který mohl vzniknout již před samotným nasazením systému.
 Mezi tyto standardy patří SCORM
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
Shareable Content Object Reference Model 
\emph default
- referenční model sdílitelných obsahových objektů
\end_layout

\end_inset

.
 Jedná se o
\begin_inset space ~
\end_inset

soubor specifikací, jenž by měl daný systém podporovat, aby v
\begin_inset space ~
\end_inset

něm bylo možné provozovat libovolný kompatibilní výukový obsah.
\end_layout

\begin_layout Standard
Při implementaci informačního systému byla této části věnovano omezené úsilí
 z
\begin_inset space ~
\end_inset

důvodů existence kvalitních open source řešení.
 Implementace jednoduchého testování slovní zásoby v popisovaném systému
 se nemůže s
\begin_inset space ~
\end_inset

následujícími propracovaným e-learningovými systémy rovnat.
\end_layout

\begin_layout Subsection
Moodle
\end_layout

\begin_layout Standard
Open source implementace e-learningových systému jsou již dnes hojně využívány.
 Příkladem je 
\emph on
Moodle
\emph default
, který je rozšířen v mnoha zemích včetně České republiky a je využíván
 i na několika našich univerzitách.
 Mezi ty největší patří UK, ČVUT a ČZU.
 
\end_layout

\begin_layout Standard
Podle 
\begin_inset CommandInset citation
LatexCommand cite
key "Moodle.cz"

\end_inset

 umožňuje či podporuje snadnou publikaci studijních materiálů, zakládání
 diskusních fór, sběr a hodnocení elektronicky odevzdávaných úkolů, tvorbu
 online testů a řadu dalších činností sloužících pro podporu výuky.
 Podporuje i
\begin_inset space ~
\end_inset

napojení na jiné služby jako je LDAP nebo IMAP.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename moodle.png
	lyxscale 50
	width 100text%

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Moodle - rozhraní pro učitele
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
ATutor
\end_layout

\begin_layout Standard
ATutor je navržen s maximálním ohledem na přístupnost dle standardu W3C
 WCAG 1.0.
 Při správě výukového obsahu se můžete spolehnou na kompatibilitu s SCORM
 1.2, pokročilou správu práv uživatelů a kurzů.
 Lze v něm vytvářet blogy, fóra, testy a
\begin_inset space ~
\end_inset

vést evidenci o studijních výsledcích.
 Systém je snadno přizpůsobitelný pomocí témat a výhodou je možnost instalovat
 aktualizace a
\begin_inset space ~
\end_inset

opravy přímo z
\begin_inset space ~
\end_inset

webového prohlížeče.
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename atutor-patcher.png
	lyxscale 50
	width 100text%

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
ATutor - instalátor aktualizací a oprav
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Claroline
\end_layout

\begin_layout Standard
Claroline má jednoduché a přehledné rozhraní.
 Studenti mohou využívat chat, diskuzní fóra a wiki.
 Učitelé mají možnost vytvářet úkoly nebo cvičení a zobrazit si jejich statistik
y.
 Při vytváření obsahu je možné se přepnout do jiné role a zkontrolovat,
 jak se zobrazuje jiným uživatelům.
 Dále systém umožnuje import kurzů ve formátu SCORM 1.2 a nastavení přístupu
 k
\begin_inset space ~
\end_inset

jednotlivým stránkách podle příslušnoti ke skupinám.
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename claroline.png
	lyxscale 50
	width 100text%

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Claroline - rozhraní pro vedoucího kurzu
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
eFront
\end_layout

\begin_layout Standard
EFront je vysoce propracovaný systém postavený na technologii AJAX s
\begin_inset space ~
\end_inset

atraktivním designem.
 Samozřejmostí je podpora vícejazyková podpora a
\begin_inset space ~
\end_inset

SCORM.
 Pro větší firmy může být přínosem spolupráce s LDAP.
 Navíc má integrován platební nástroj PayPal.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename efront.png
	lyxscale 50
	width 100text%

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
eFront - úvodní administrátorská obrazovka
\end_layout

\end_inset

.
 Velkou 
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Závěr
\end_layout

\begin_layout Standard
Implementovaný systém po několika měsících ostrého provozu mnohonásobně
 zkrátil dobu potřebnou k přípravě výplat a kontrole faktur.
 Došlo ke zefektivnění a zrychlení práce při vyřizování zakázek.
 Byly odstraněny duplicitní činnosti a v neposlední řadě přispěl k tlaku
 na dodavatele, aby svou činnost vykazovali včas a přesně.
\end_layout

\begin_layout Standard
Ukázalo se, že existuje mnoho kvalitních open source nástrojů, frameworků
 i jejich doplňků, které usnadily a urychlily vývoj systému.
 Další rozvoj systému by měl směřovat k implementaci některého ze správců
 webového obsahu a nástroje pro podporu výuky popsaných v předcházející
 kapitole.
 Zavedení informačního systému do praxe poukázalo rovněž i na některé nedostatky
 v jeho implementaci i použitých nástrojích.
 
\end_layout

\begin_layout Standard
Na vývoj systému je nutné ještě dále pracovat a přizpůsobovat ho aktuálním
 trendům v oblasti komunikace.
 Rovněž vývoj použitých frameworků přináší k menší či větší změny, které
 promítají do funkcionality, výkonu a bezpečnosti aplikace.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "informační systémy"

\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://www.informacny-system.sk"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "wikipedia"

\end_inset

Wikipedia: 
\emph on
Informační systém
\emph default
, 
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://cs.wikipedia.org/wiki/Informační_systém"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "soukupova 2004"

\end_inset

Dana Soukupová: 
\emph on
Algoritmy logického návrhu relační databáze
\emph default
, 2004
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "wysiwyg"

\end_inset

Wikipedia: WYSIWYG, Červenec 2009
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://cs.wikipedia.org/wiki/WYSIWYG"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "root-testy"

\end_inset

Petr Daněk: 
\emph on
Velký test PHP frameworků
\emph default
, Červenec 2008
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://www.root.cz/clanky/velky-test-php-frameworku-2008/"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "slicktest"

\end_inset


\emph on
Speed/validity selectors test for frameworks
\emph default
, 2007
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://mootools.net/slickspeed/"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "Moodle.cz"

\end_inset

Moodle: úvodní stránka
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://moodle.cz/"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "CakePHP"

\end_inset

Cake Software Foundation: 
\emph on
The Cookbook
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://book.cakephp.org/"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "CakePHP-MVC"

\end_inset

Cake Software Foundation: 
\emph on
Porozumění Model-Pohled-Controller
\emph default

\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://book.cakephp.org/cz/view/10/Understanding-Model-View-Controller"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "MVC"

\end_inset

Wikipedia: 
\emph on
Model-view-controller
\emph default

\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://en.wikipedia.org/wiki/Model-view-controller"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "RFC1738"

\end_inset

Berners-Lee, Masinter & McCahill: Uniform Resource Locators (URL), 
\emph on
RFC1738
\emph default
, Prosinec 1994
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://www.ietf.org/rfc/rfc1738.txt"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "ORM"

\end_inset

Wikipedia: 
\emph on
Object-relational mapping
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://en.wikipedia.org/wiki/O-RM"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "i18n"

\end_inset


\emph on
I18n - Internacionalizace
\emph default

\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://kore.fi.muni.cz:5080/wiki/index.php/I18n_-_Internacionalizace"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "l10n"

\end_inset


\emph on
PV168/Lokalizace a internacionalizace
\emph default

\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://kore.fi.muni.cz:5080/wiki/index.php/PV168/Lokalizace_a_internacionalizace"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "p28n"

\end_inset

Jason Chow: 
\emph on
P28n, the top to bottom persistent internationalization tutorial
\emph default

\begin_inset Newline newline
\end_inset

http://bakery.cakephp.org/articles/view/
\begin_inset Newline newline
\end_inset

p28n-the-top-to-bottom-persistent-internationalization-tutorial
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "pass-gen"

\end_inset


\emph on
Random password generator component for CakePHP
\emph default
, Červen 2008
\begin_inset Newline newline
\end_inset

http://www.solitechgmbh.com/2008/06/11/
\begin_inset Newline newline
\end_inset

random-password-generator-component-for-cakephp/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "linkable"

\end_inset

Rafael Bandeira: 
\emph on
Linkable Behavior.
 Taking it easy in your DB
\emph default
, Listopad 2008
\begin_inset Newline newline
\end_inset

http://blog.rafaelbandeira3.com/2008/11/16/
\begin_inset Newline newline
\end_inset

linkable-behavior-taking-it-easy-in-your-db/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "ExtendAssoc"

\end_inset

Brandon Parise: 
\emph on
HABTM Add & Delete Behavior
\emph default
, Květen 2007
\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://bakery.cakephp.org/articles/view/add-delete-habtm-behavior"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "apache2"

\end_inset


\emph on
Apache HTTP Server Version 2.0 Documentation
\emph default

\begin_inset Newline newline
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://httpd.apache.org/docs/2.0/"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "searchable"

\end_inset

http://code.google.com/p/searchable-behaviour-for-cakephp/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "MySQL"

\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://www.mysql.com/"

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "ECMA-262"

\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://www.ecma-international.org/publications/standards/Ecma-262.htm"

\end_inset


\end_layout

\begin_layout Chapter
\start_of_appendix
Obsah přiloženého CD
\end_layout

\begin_layout Description
Bakalářká
\begin_inset space ~
\end_inset

práce tisknutelný PDF soubor s textem této práce.
\end_layout

\begin_layout Chapter
Databázové schéma
\begin_inset CommandInset label
LatexCommand label
name "cha:Databázové-schéma"

\end_inset


\end_layout

\begin_layout Standard

\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename jednoduché schéma.png
	height 80theight%

\end_inset


\end_layout

\end_body
\end_document
