%% LyX 1.6.2 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[12pt,a4paper,czech,notitlepage]{report}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\setcounter{secnumdepth}{1}
\setcounter{tocdepth}{1}
\usepackage{babel}

\usepackage{varioref}
\usepackage{float}
\usepackage{graphicx}
\usepackage[unicode=true, pdfusetitle,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=true,pdfborder={0 0 0},backref=section,colorlinks=false]
 {hyperref}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
\newcommand{\noun}[1]{\textsc{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usepackage{a4wide}
\usepackage[left=4cm]{geometry}

\begin{document}
\begin{titlepage}\vspace{15mm}


\begin{center}
{\large Univerzita Karlova v Praze}\\
{\large Matematicko-fyzikÃ¡lnÃ­ fakulta\vspace{5mm}
}
\par\end{center}{\large \par}

\begin{center}
\textbf{\Large BAKALÃÅ˜SKÃ PRÃCE\vspace{10mm}
}
\par\end{center}{\Large \par}

\begin{center}
\includegraphics[scale=0.3]{logo}\vspace{15mm}

\par\end{center}

\begin{center}
{\Large JiÅ™Ã­ KunÄar \vspace{5mm}
}
\par\end{center}{\Large \par}

\begin{center}
\textbf{\Large InformaÄnÃ­ systÃ©m pro jazykovou agenturu\vspace{5mm}
}
\par\end{center}{\Large \par}

\begin{center}
\textbf{\large Ãšstav formÃ¡lnÃ­ a aplikovanÃ© lingvistiky\vspace{15mm}
}
\par\end{center}{\large \par}

\noindent \begin{center}
{\large VedoucÃ­ bakalÃ¡Å™skÃ© prÃ¡ce: RNDr. Miroslav Spousta \vspace{1mm}
}
\par\end{center}{\large \par}

\noindent \begin{center}
{\large StudijnÃ­ program: informatika, sprÃ¡va poÄÃ­taÄovÃ½ch systÃ©mÅ¯\vspace{20mm}
}
\par\end{center}{\large \par}

\begin{center}
{\large 2009}
\par\end{center}{\large \par}

\end{titlepage}\setcounter{page}{2}

\vspace{10mm}


\noindent DÄ›kuji panu RNDr. Miroslavu Spoustovi za pomoc, pÅ™ipomÃ­nky,
cennÃ© rady a za odbornÃ© vedenÃ­ bakalÃ¡Å™skÃ© prÃ¡ce. DÃ¡le bych rÃ¡d podÄ›koval
firmÄ› Primalingua s.r.o. za poskytnutÃ­ prostÅ™edkÅ¯ na vÃ½voj aplikace.
SpeciÃ¡lnÃ­ podÄ›kovÃ¡nÃ­ patÅ™Ã­ pÅ™edevÅ¡Ã­m panÃ­ majitelce Mgr. MiluÅ¡i PsotovÃ©
a panÃ­ RNDr. Jitce KunÄarovÃ©, kterÃ¡ vÃ½voj informaÄnÃ­ho systÃ©mu iniciovala.

\vfill{}


\noindent ProhlaÅ¡uji, Å¾e jsem svou bakalÃ¡Å™skou prÃ¡ci napsal samostatnÄ›
a vÃ½hradnÄ› s pouÅ¾itÃ­m citovanÃ½ch pramenÅ¯. SouhlasÃ­m se zapÅ¯jÄovÃ¡nÃ­m
prÃ¡ce a jejÃ­m zveÅ™ejÅˆovÃ¡nÃ­m.\bigskip{}


\noindent V Praze dne 6.8.2009 \hfill{}JiÅ™Ã­ KunÄar

\tableofcontents{}

\newpage{}

\noindent NÃ¡zev prÃ¡ce: InformaÄnÃ­ systÃ©m pro jazykovou agenturu\\
Autor: JiÅ™Ã­ KunÄar\\
Katedra (Ãºstav): Ãšstav formÃ¡lnÃ­ a aplikovanÃ© lingvistiky\\
VedoucÃ­ bakalÃ¡Å™skÃ© prÃ¡ce: RNDr. Miroslav Spousta\\
e-mail vedoucÃ­ho: Miroslav.Spousta@mff.cuni.cz\\


\noindent Abstrakt: CÃ­lem prÃ¡ce je navrhnout a implementovat modulÃ¡rnÃ­
informaÄnÃ­ systÃ©m pro firmu zabÃ½vajÃ­cÃ­ se vÃ½ukou jazykÅ¯.

\noindent SouÄÃ¡stÃ­ informaÄnÃ­ho systÃ©mu bude zejmÃ©na:

\noindent - modul pro nabÃ­dku a prodej kurzÅ¯ pro veÅ™ejnost, individuÃ¡lnÃ­
vÃ½uku, jazykovou vÃ½uku pro podniky, pÅ™eklady a tlumoÄenÃ­ 

\noindent - modul produkty (vÃ½uka, pÅ™eklady, tlumoÄenÃ­), vÃ½uka (individuÃ¡lnÃ­
vÃ½uka, kurzy pro veÅ™ejnost, jazykovÃ¡ vÃ½uka pro podniky) 

\noindent - modul pro News (hromadnÃ© rozesÃ­lÃ¡nÃ­ mailem), rozvrh vÃ½uky,
tÅ™Ã­dnÃ­ knihy, studijnÃ­ materiÃ¡ly 

\noindent - modul dodavatelÃ© (smlouvy s lektory, pÅ™ekladateli, tlumoÄnÃ­ky,
mÄ›sÃ­ÄnÃ­ vÃ½kazy odpracovanÃ½ch hodin, mÄ›sÃ­ÄnÃ­ pÅ™ehledy nÃ¡kladÅ¯ na lektory,
pÅ™ekladatele, tlumoÄnÃ­ky) 

\noindent - modul odbÄ›ratelÃ© (zÃ¡pisy do kurzÅ¯ pro veÅ™ejnost, objednÃ¡vky,
smlouvy, pÅ™Ã­lohy faktur za obdobÃ­ od-do) 

\noindent - modul pro testovÃ¡nÃ­ znalostÃ­ (jednoduchÃ© testovacÃ­ prostÅ™edÃ­) 

\noindent - modul pro sprÃ¡vu IS (uÅ¾ivatelÃ©, jejich prÃ¡va, pÅ™ehled
zmÄ›n).\\


\noindent KlÃ­ÄovÃ¡ slova: informaÄnÃ­ systÃ©m, PHP, MySQL 

\vspace{10mm}


\noindent Title: Information system of a language school\\
Author: JiÅ™Ã­ KunÄar\\
Department: Institute of Formal and Applied Linguistics\\
Supervisor: RNDr. Miroslav Spousta

\noindent Supervisor's e-mail address: Miroslav.Spousta@mff.cuni.cz\\


\noindent Abstract: The goal of the thesis is to design and implement
a modular information system for a company involved in teaching of
foreign languages.

\noindent The main parts of the information system will include, particularly: 

\noindent - a module for offer and sale of courses to the public and
individuals, language training for businesses, translation and interpretation 

\noindent - a module of products (teaching, translation and interpretation),
training (individual training courses for the public, language classes
for businesses) 

\noindent - a module for News (sending bulk mail), the schedule of
teaching, class books, study material 

\noindent - a module of suppliers (contracts with teachers, translators,
interpreters, monthly class-sheets, monthly reports on the cost of
staff translators and interpreters) 

\noindent - a module of customers (registration in courses, orders,
contracts, supplements to invoices for \textquotedbl{}from-to\textquotedbl{}
periods) 

\noindent - a module for testing of knowledge levels (a simple testing
environment) 

\noindent - a module for managing the IS (users, their rights and
a summary of changes)\\


\noindent Keywords: information system, PHP, MySQL

\newpage{}


\chapter{Ãšvod}

InformaÄnÃ­ systÃ©my hrajÃ­ v~rychle se rozvÃ­jejÃ­cÃ­m prostÅ™edÃ­ svou
nepostradatelou roli. Internet, kterÃ½ se stal dostupnÃ½m pro Å¡irokou
veÅ™ejnost, jim poskytl vÃ½bornou platformu k dalÅ¡Ã­mu rozvoji. Ve dÅ™Ã­ve
nepÅ™Ã­liÅ¡ vyuÅ¾Ã­vanÃ©m virtuÃ¡lnÃ­m prostÅ™edÃ­ umoÅ¾ÅˆujÃ­ tyto systÃ©my rychlÃ©
a snadnÃ© zpracovÃ¡nÃ­, vyhledÃ¡vÃ¡nÃ­ a publikovanÃ­ informacÃ­, kterÃ© se
tak stÃ¡vajÃ­ dostupnÃ© pro Å¡irÅ¡Ã­ spektrum zÃ¡kaznÃ­kÅ¯, dodavatelÅ¯ i samotnÃ½ch
zamÄ›stancÅ¯. 

S vyuÅ¾Ã­vÃ¡nÃ­m Internetu zÃ¡roveÅˆ rostou nÃ¡roky na bezpeÄnost a dostupnost
uloÅ¾enÃ½ch informacÃ­. Ty jsou Å¾ivotnÄ› dÅ¯leÅ¾itÃ© pro chod firem a~bÃ½vajÃ­
jejich nejcenÄ›jÅ¡Ã­m majetkem. ZvyÅ¡ujÃ­ se poÅ¾adavky kladou tlak na nÃ¡stroje
pouÅ¾itÃ© pÅ™i implementaci systÃ©mu a~jejich robustnost. JelikoÅ¾ i malÃ¡
chyba mÅ¯Å¾e zapÅ™Ã­Äinit Ãºnik citlivÃ½ch dat a jejich zneuÅ¾itÃ­ v globÃ¡lnÃ­m
mÄ›Å™Ã­tku, kterÃ© nelze vrÃ¡tit zpÄ›t.

PÅ™ed zavÃ¡dÄ›nÃ­m informaÄnÃ­ho systÃ©mu je nutnÃ© stanovit, Äeho chce firma
s jeho vyuÅ¾itÃ­m v~danÃ©m Äase dosÃ¡hnout. Tomu by mÄ›la pomoci dÅ¯kladnÃ¡
analÃ½za firemnÃ­ch procesÅ¯ a~jejich optimalizace.

\begin{center}
\textit{,,Kdo nepoznÃ¡ vlastnÃ­ firemnÃ­ procesy, nemÅ¯Å¾e je zlepÅ¡ovat.''}\textit{\emph{\cite{informaÄnÃ­ systÃ©my}}}
\par\end{center}

ZmÄ›na zavedenÃ½ch procesÅ¯ bÃ½vÃ¡ nÃ¡roÄnÃ¡, jak z finanÄnÃ­ho hlediska,
tak z hlediska jejÃ­ vlastnÃ­ realizace. DÅ¯leÅ¾itou roli zde hraje plÃ¡novÃ¡nÃ­
ÄasovÃ©ho hramonogramu a jeho dodrÅ¾ovÃ¡nÃ­.

ZlepÅ¡enÃ­ vÃ½sledkÅ¯ Äinnosti firmy se nemusÃ­ dostavit okamÅ¾itÄ› po spuÅ¡tÄ›nÃ­
novÃ©ho systÃ©mu, ale aÅ¾ po adaptaci vÅ¡ech zÃºÄastnÄ›nÃ½ch stran. VÃ½hodou
je pokud byl danÃ½ systÃ©m navrÅ¾en v souladu se zabÄ›hnutÃ½mi a fungujÃ­cÃ­mi
firemnÃ­mi procesy. Proto bude prÃ¡ce vÄ›novanÃ¡ pÅ™edevÅ¡Ã­m jejich dÅ¯kladnÃ©mu
popisu, na kterÃ©m bude dÃ¡le stavÄ›t.


\section*{CÃ­le prÃ¡ce}

CÃ­lem prÃ¡ce je nÃ¡vrh a zÃ¡kladnÃ­ implementace webovÃ©ho informaÄnÃ­ho
systÃ©mu, usnadÅˆujÃ­cÃ­ Äinnost a spoluprÃ¡ci vÃ­ce nezÃ¡vislÃ½ch subjektÅ¯.
Implementace bude provedena pomocÃ­ vhodnÃ½ch open source technologiÃ­
a frameworkÅ¯ v pouÅ¾itÃ½ch programovacÃ­ch jazycÃ­ch. V prÃ¡ci budou rozebrÃ¡ny
funkce systÃ©mÅ¯ pro sprÃ¡vu, urÅ¾ovÃ¡nÃ­ a sdÃ­lenÃ­ informacÃ­ v prostÅ™edÃ­
Internetu.

ImplementovanÃ½ systÃ©m bude mimo jinÃ© obsahovat prostÅ™edky pro sprÃ¡vu
uÅ¾ivatelÅ¯, evidenci zakÃ¡zek, vÃ½poÄet vÃ½plat a fakturaci sluÅ¾eb. CÃ­lem
prÃ¡ce nenÃ­, vzhledem k nÃ¡roÄnÃ½m prÃ¡vnÃ­m ÃºpravÃ¡m a ÄastÃ½m zmÄ›nÃ¡m, vytvoÅ™it
komplexnÃ­ ÃºÄetnÃ­ program, ale pouze systÃ©m ÃºmoÅ¾nÃ­cÃ­ tvorbu podkladÅ¯
pro ÃºÄetnÃ­ evidenci, kterÃ© mohou bÃ½t v~budoucnu zavedeny do nÄ›kterÃ©ho
jiÅ¾ existujÃ­cÃ­ho ÃºÄetnÃ­ho programu.


\section*{Obsah prÃ¡ce}

Ve druhÃ© kapitole tÃ©to prÃ¡ce je provedena analÃ½za Ãºlohy a jsou mimo
jinÃ© stanoveny poÅ¾adavky na Å™eÅ¡enÃ­.

Ve tÅ™etÃ­ kapitole jsou struÄnÄ› popsÃ¡ny technologie dÃ¡le pouÅ¾Ã­vanÃ©
v tÃ©to prÃ¡ci a je ukÃ¡zÃ¡no jejich pouÅ¾itÃ­.

ÄŒtvrtÃ¡ kapitola popisuje nÃ¡vrh vlastnÃ­ implementace s ohledem na poÅ¾adavky
stanovenÃ© v kapitole druhÃ©. Jsou zde zÃ¡kladnÃ­ nÃ¡vrhovÃ¡ rozhodnutÃ­
a dÅ¯vody pro volbu konkrÃ©tnÃ­ch Å™eÅ¡enÃ­.

PÃ¡tÃ¡ kapitola obsahuje programÃ¡torskou dokumentaci. Je zde popsÃ¡no
technickÃ© Å™eÅ¡enÃ­ implementace a jsou nastÃ­nÄ›ny nÄ›kterÃ© problÃ©my, kterÃ©
bylo pÅ™i implementaci nutnÃ© Å™eÅ¡it.

UÅ¾ivatelskÃ¡ dokumentace je obsaÅ¾ena v Å¡estÃ© kapitole. Popisuje uÅ¾ivatelskÃ©
rozhranÃ­ vytvoÅ™enÃ½ch aplikacÃ­ a ukazuje jejich pouÅ¾itÃ­ na konkrÃ©tnÃ­ch
pÅ™Ã­kladech.

V zÃ¡vÄ›ru jsou pÅ™ehlednÄ› shrnuty vÃ½sledky, kterÃ½ch bylo pÅ™i vÃ½voji
systÃ©mu dosaÅ¾eno, a jsou naznaÄeny moÅ¾nosti dalÅ¡Ã­ho rozÅ¡Ã­Å™enÃ­.


\chapter{AnalÃ½za Ãºlohy}

V kapitole budou popsÃ¡ny zÃ¡kladnÃ­ pojmy pouÅ¾Ã­vanÃ© pÅ™i popisu poÅ¾adavkÅ¯
klienta, specifickÃ© poÅ¾adavky na systÃ©m a popis zÃ¡kladnÃ­ch firemnÃ­ch
procesÅ¯. CÃ­lem je pÅ™iblÃ­Å¾it ÄtenÃ¡Å™i problematiku nÃ¡vrhu konkrÃ©tnÃ­ho
informaÄnÃ­ho systÃ©mu a moÅ¾nÃ© problÃ©my skrÃ½vajÃ­ci se ve zdÃ¡nlivÄ› jednoduchÃ½ch
Ãºkolech.

AnalÃ½za Ãºlohy vychÃ¡zÃ­ z informacÃ­ zÃ­skanÃ½ch pÅ™i rozhovorech s klientem
a jÃ­m dodanÃ½ch materiÃ¡lÅ¯. SnaÅ¾Ã­ se je co nepÅ™esnÄ›ji interpretovat
pro pouÅ¾itÃ­ v dalÅ¡Ã­ch fÃ¡zÃ­ch nÃ¡vrhu a implementace.


\section{Definice a upÅ™esnÄ›nÃ­ pojmÅ¯}

DÃ¡le uvedenÃ© pojmy mÃ­vajÃ­ v rÅ¯znÃ½ch odvÄ›tvÃ­ch mÃ­rnÄ› odliÅ¡nÃ© vÃ½znamy.
Zde budou pÅ™eneseny a vysvÄ›tleny v oblasti firem zabÃ½vajÃ­cÃ­ se jazykovou
pÅ™Ã­pravou, pÅ™eklady a tlumoÄenÃ­m.


\subsection{Agentura}

Pojem agentura se mÅ¯Å¾eme setkat v oblastech cestovnÃ­ho ruchu, reklamy,
personalistiky, bezpeÄnosti a jazykovÃ½ch sluÅ¾eb. DÃ¡le v prÃ¡ci bude
pojem agentury pouÅ¾Ã­vÃ¡n prÃ¡vÄ› v poslednÃ­ zmiÅˆovanÃ© oblasti.

JazykovÃ¡ agentura je Ãºtvar zajiÅ¡Å¥ujÃ­cÃ­ sluÅ¾by spojenÃ© s vÃ½ukou jazykÅ¯,
tlumoÄenÃ­m a pÅ™eklady. Je prostÅ™ednÃ­kem pÅ™i jejich realizaci, popÅ™Ã­padÄ›
usnadÅˆuje zÃ¡kaznÃ­kÅ¯m orientaci na trhu s uvedenÃ½mi sluÅ¾bami.


\subsection{InfomaÄnÃ­ systÃ©m}

InformaÄnÃ­ systÃ©m (IS) je dosti Å¡irokÃ½ pojem, kterÃ½ se postupem let
vyvÃ­jÃ­ a nabÃ­rÃ¡ novÃ© vÃ½znamy. Z dÅ™Ã­vÄ›jÅ¡Ã­ch papÃ­rovÃ½ch kartotÃ©k, telefonnÃ­ch
seznamÅ¯ a dalÅ¡Ã­ firemnÃ­ evidence, kterÃ© se velice obtÃ­Å¾nÄ› sdÃ­lely
s vÃ­ce subÄ›kty, se vyvinuly systÃ©my, jenÅ¾ poskytujÃ­ firmÃ¡m prostÅ™edÃ­
pro efektivnÄ›jÅ¡Ã­ prÃ¡ci a komunikaci.

InformaÄnÃ­m systÃ©mem rozumÃ­me prostÅ™edÃ­ pro sbÄ›r, udrÅ¾ovÃ¡nÃ­, zpracovÃ¡nÃ­
a~poskytovÃ¡nÃ­ informacÃ­\cite{wikipedia}, ve kterÃ©m by mÄ›la zÅ¯stat
zachovÃ¡na dÅ¯vÄ›rnost a~integrita uloÅ¾enÃ½ch dat.


\subsection{Produkt}

Produktem bude rozumÄ›no poÅ™Ã¡dÃ¡nÃ­ jazykovÃ© vÃ½uky pro danou skupinu
lidÃ­, dÃ¡le tlumoÄenÃ­, pÅ™eklady a pÅ™eklady s ovÄ›Å™enÃ­m. JednÃ¡ se tedy
o spojenÃ­ sluÅ¾eb, jejichÅ¾ vÃ½sledkem je znalost cizÃ­ho jazyka - tedy
nehmotnÃ½ vÃ½robek, a pÅ™edmÄ›tÅ¯ vzniklÃ½ch lidskou pracÃ­ - pÅ™ekladÅ¯.


\section{PoÅ¾adavky klienta\label{sec:Po=00017Eadavky-klienta}}

ZÃ¡kladnÃ­m Ãºkolem popisovanÃ© jazykovÃ© agentury je zajiÅ¡Å¥ovat sluÅ¾by
v oblasti jazykovÃ©ho vzdÄ›lÃ¡nÃ­, pÅ™ekladÅ¯ a tlumoÄenÃ­ pÅ™edevÅ¡Ã­m pro
Å¡irokÃ© spektrum firemnÃ­ch i individuÃ¡lnÃ­ch zÃ¡kaznÃ­kÅ¯.

Podniky posÃ­lajÃ­ poptÃ¡vky bez ohledu na nabÃ­dku konkrÃ©tnÃ­ch kurzÅ¯.
ManaÅ¾er vyÅ™izuje zakÃ¡zku elektronickou poÅ¡tou, telefonicky nebo osobnÄ›.
VÅ¡echny zÃ­skanÃ© informace musÃ­ bÃ½t schopen zaznamenat pro pozdÄ›jÅ¡Ã­
zajiÅ¡Å¥ovÃ¡nÃ­ vhodnÃ½ch dodavatelÅ¯ . 

VeÅ™ejnost posÃ­lÃ¡ zÃ¡pisovÃ© listy s ohledem na nabÃ­dku kurzÅ¯ pro veÅ™ejnost.
ManaÅ¾er sestavuje skupiny podle zÃ¡pisovÃ½ch listÅ¯ a potvrzuje mÃ­sto,
termÃ­ny a cenu vÃ½uky. SouÄasnÄ› probÃ­hÃ¡ proces zajiÅ¡Å¥ovÃ¡nÃ­ lektorÅ¯.

Na zaÄÃ¡tku vÃ½voje rovnÄ›Å¾ stÃ¡la Å¾Ã¡dost zjednoduÅ¡it proces zpracovÃ¡nÃ­
mÄ›sÃ­ÄnÃ­ch vÃ½kazÅ¯ lektorÅ¯, pÅ™ekladatelÅ¯ a tlumoÄnÃ­kÅ¯ tvoÅ™Ã­cÃ­ch podklady
pro mzdy a fakturaci sluÅ¾eb. Tyto mÄ›sÃ­ÄnÃ­ vÃ½kazy nemÄ›ly jednotnÃ½ vzor
a ani nebylo jednoduÅ¡e moÅ¾nÃ©, bez znalostÃ­ mÃ­stnÃ­ch pomÄ›rÅ¯ pÅ™iÅ™adit
vykÃ¡zanou Äinnost k jednotlivÃ½m produktÅ¯m. Na zÃ¡kladÄ› vytyÄenÃ½ch poÅ¾adavkÅ¯
byl zpracovÃ¡n nÃ¡sledujÃ­cÃ­ nÃ¡vrh.


\subsection{ZavedenÃ­ jednotnÃ½ch identifikÃ¡torÅ¯}

KvÅ¯li vÃ½Å¡e uvednÃ½m problÃ©mÅ¯m se zaÄalo s postupnÃ½m zavÃ¡dÄ›nÃ­m jednotnÃ½ch
identifikÃ¡torÅ¯ zÃ¡vaznÃ½ch pro vÅ¡echny zÃºÄastnÄ›nÃ© strany. Tento nepopulÃ¡rnÃ­
krok byl ze zaÄÃ¡tku velmi tÄ›Å¾ce pÅ™Ã­jmÃ¡n a trvalo nÄ›kolik mÄ›sÃ­cÅ¯, neÅ¾
se proces tvorby ustÃ¡lil a zaÄal bÃ½t vÅ¡emi akceptovÃ¡n.
\begin{itemize}
\item Z identikÃ¡toru musÃ­ bÃ½t zÅ™ejmÃ© o jakou kategorii produktu se jednÃ¡,
pro koho je urÄen a kdy byl zaveden, aby se pÅ™edeÅ¡lo kolizÃ­m jmen
v budoucnu.
\item V~prÅ¯bÄ›hu mÄ›sÃ­ce vklÃ¡dÃ¡ administrÃ¡tor zadanÃ© pÅ™eklady a novÄ› zahÃ¡jenÃ©
kurzy.
\item U produktu vloÅ¾Ã­ poskytovatele, pÅ™iÅ™adÃ­ zÃ¡kaznÃ­ka, studenty, lektora
nebo pÅ™ekladatele a dÃ¡le cenu za jednotku. 
\item U lektora Äi pÅ™ekladatele vloÅ¾Ã­ jeho sazbu za jednotku. 
\item U kurzÅ¯ vloÅ¾Ã­ pÅ™edpoklÃ¡danÃ½ rozvh, kde jsou uvedeny dny, Äas, lektor
a uÄebna. Tento rozvrh slouÅ¾Ã­ zÃ¡roveÅˆ jako pomÅ¯cka pro stanovenÃ­ pÅ™edbÄ›Å¾nÃ½ch
nÃ¡kladÅ¯ v budoucÃ­ch mÄ›sÃ­cÃ­ch. 
\end{itemize}

\subsection{MÄ›sÃ­ÄnÃ­ vÃ½kazy}

Po zavedenÃ­ identifikÃ¡torÅ¯ bylo potÅ™eba sjednotit formulÃ¡Å™e mÄ›sÃ­ÄnÃ­ch
vÃ½kazÅ¯ a pÅ™ipravit dodavatele na moÅ¾nost jejich elektronickÃ©ho vyplÅˆovÃ¡nÃ­.
PapÃ­rovÃ© formulÃ¡Å™e budou do systÃ©mu vklÃ¡dÃ¡ny administrativnÃ­m pracovnÃ­kem
a elektronickÃ© budou potvrzeny a uzamÄeny.
\begin{itemize}
\item KaÅ¾dÃ½ mÄ›sÃ­c si administrÃ¡tor mÅ¯Å¾e z vÃ½kazÅ¯ odpracovanÃ½ch jednotek
lektora, pÅ™ekladatele a tlumoÄnÃ­ka zobrazit a vytiskout pÅ™ehled, kde
je souhrn toho, kolik jednotek opracoval v jednotlivÃ½ch dnech a celkem
u jednotlivÃ½ch produktÅ¯. 
\item SystÃ©m musÃ­ zobrazit varovÃ¡nÃ­ pÅ™i pÅ™ekroÄenÃ­ stanovenÃ©ho poÄtu vykÃ¡zanÃ½ch
odpracovanÃ½ch hodin nebo pÅ™eloÅ¾enÃ½ch normostran.
\item Podle potÅ™eby potÅ™ebuje administrÃ¡tor rychle Å™eÅ¡it suplovÃ¡nÃ­ a zmÄ›ny
lektorÅ¯, k~tomu potÅ™ebuje aktuÃ¡lnÃ­ stav. PÅ™Ã­leÅ¾itostnÄ› je tÅ™eba zjistit
vytÃ­Å¾enÃ­ pÅ™ekladatelÅ¯.
\item Na zaÄÃ¡tku tÃ½dne tiskne administrÃ¡tor podle potÅ™eby aktuÃ¡lnÃ­ rozvrhy
uÄeben a informuje zÃºÄastnÄ›nÃ© strany o zmÄ›nÃ¡ch. ÄŒasy individuÃ¡lnÃ­
vÃ½uky jsou pohyblivÃ©, lektoÅ™i musÃ­ vÄ›dÄ›t, kdy je v uÄebnÃ¡ch volno.
\end{itemize}

\subsection{Podklady pro fakturaci}

Se vzrÅ¯stajÃ­cÃ­m objemem pÅ™ekladÅ¯ a oduÄenÃ½ch hodin pÅ™estÃ¡valo bÃ½t
ÃºnosnÃ© ruÄnÃ­ vytvÃ¡Å™enÃ­ mÄ›sÃ­ÄnÃ­ch pÅ™ehledÅ¯ pro zÃ¡kaznÃ­ky. Ti si pÅ™Ã¡li
bÃ½t informovÃ¡nÃ­ nejen o poÄtu oduÄenÃ½ch hodin, ale i o vÅ¡ech zmÄ›nÃ¡ch
zavedenÃ©m mÄ›sÃ­ÄnÃ­m rozvrhu a pÅ™Ã­padnÃ©m suplovÃ¡nÃ­. ZÃ¡rovÄ›n musely bÃ½t
v systÃ©mu zachyceny vazby mezi produktem, zÃ¡kaznÃ­kem a vlastnÃ­mi ÃºÄastnÃ­ky
tak, aby bylo moÅ¾nÃ© stanovit vÃ½slednou cenu zakÃ¡zky, kterÃ¡ mÅ¯Å¾e bÃ½t
zÃ¡vislÃ¡ nejen od poÄtu oduÄenÃ½ch hodin Äi pÅ™eloÅ¾enÃ½ch stran, ale i
od poÄtu ÃºÄastnÃ­kÅ¯.
\begin{itemize}
\item PÅ™ed fakturacÃ­ pro klienta si administrÃ¡tor mÅ¯Å¾e sestavit seznam poloÅ¾ek
k fakturaci. 
\item PÅ™Ã­loha za pÅ™eklady a vÃ½uku se liÅ¡Ã­. U pÅ™ekladÅ¯ nenÃ­ uvedeno jmÃ©no
pÅ™ekladatele.
\end{itemize}

\subsection{SprÃ¡va lektorÅ¯ a pÅ™ekladatelÅ¯}

PrÃ¡ce agentury spoÄÃ­vÃ¡ mimo jinÃ© i ve shromaÅ¾ÄovÃ¡nÃ­ kontaktÅ¯ na osoby
zabÃ½vajÃ­cÃ­ se vÃ½ukou, pÅ™eklady a tlumoÄenÃ­m. MusÃ­ bÃ½t ÃºmoÅ¾nÄ›no rychlÃ©
vyhledÃ¡nÃ­ a jednoduchÃ¡ editace.
\begin{itemize}
\item V~prÅ¯bÄ›hu mÄ›sÃ­ce prÅ¯bÄ›Å¾nÄ› administrÃ¡tor vklÃ¡dÃ¡ novÃ© dodavatele tj.
zÃ¡jemce o spoluprÃ¡ci a aktualizuje zmÄ›ny u stÃ¡vajÃ­cÃ­ch.
\item JedenkrÃ¡t mÄ›sÃ­ÄnÄ› odesÃ­lÃ¡ administrÃ¡tor minibuletin ,,News'' vybranÃ½m
lektorÅ¯m a pÅ™ekladatelÅ¯m. 
\item ,,News'' by mÄ›ly bÃ½t v systÃ©mu pÅ™Ã­stupnÃ© pro lektory i pÅ™ekladatele,
protoÅ¾e obsahujÃ­ pÅ™Ã­lohy platnÃ© pro celÃ½ rok.
\end{itemize}

\subsection{OddÄ›lenÃ­ sprÃ¡vy dat vÃ­ce agentur}

Vzhledem ke sloÅ¾itÃ½m pomÄ›rÅ¯m v agentuÅ™e bylo potÅ™eba oddÄ›lit evidenci
zakÃ¡zek vyÅ™izovanÃ½ch manaÅ¾erem pro rÅ¯znÃ© agentury a fyzickÃ© osoby,
jenÅ¾ s agenturami Ãºzce spolupracujÃ­. 
\begin{itemize}
\item PÅ™i vytvÃ¡Å™enÃ­ produktu manaÅ¾er zvolÃ­ poskytovatele sluÅ¾eb podle potÅ™eb
zÃ¡kaznÃ­ka.
\end{itemize}

\subsection{VÃ­cejazykovÃ¡ podpora}

SystÃ©m je urÄen primÃ¡rnÄ› pro jazykovÃ© agentury, kde se poÄÃ­tÃ¡ s komunikacÃ­
se zÃ¡kaznÃ­ky i v jinÃ©m neÅ¾ ÄeskÃ©m jazyce. K tomu bylo potÅ™eba pÅ™izpÅ¯sobit
systÃ©m jiÅ¾ od poÄÃ¡tku.
\begin{itemize}
\item UÅ¾ivatelÃ© by mÄ›li mÃ­t moÅ¾nost si jednoduÅ¡e vybrat mezi nÄ›kolika jazykovÃ½mi
variantami.
\end{itemize}

\subsection{ÃšzkÃ¡ provÃ¡zanost s webem}

Na webovÃ½ch strÃ¡nkÃ¡ch se zobrazuje aktuÃ¡lnÃ­ rozvh veÅ™ejnÃ½ch kurzÅ¯,
jenÅ¾ je i jinak dostupnÃ½ na dveÅ™Ã­ch uÄeben. OstatnÃ­ rozvh individuÃ¡lnÃ­
vÃ½uky bude dostupnÃ½ po pÅ™ihlÃ¡Å¡enÃ­ do systÃ©mu.


\chapter{NÃ¡vrh Å™eÅ¡enÃ­}

Na zÃ¡kladÄ› poÅ¾adavkÅ¯ bylo vytvoÅ™eno databÃ¡zovÃ© schÃ©ma a popis jeho
napojenÃ­ na existujÃ­cÃ­ data ve firmÄ›. UklÃ¡dÃ¡nÃ­ dat bude realizovÃ¡no
v relaÄnÃ­ databÃ¡zi. Ta poskytuje funkce pro vytvoÅ™enÃ­, ÄtenÃ­, zmÄ›nu
a smazÃ¡nÃ­ uloÅ¾enÃ½ch informacÃ­%
\footnote{NÄ›kdy je pouÅ¾Ã­vanÃ­ zkratka \emph{CRUD} z anglickÃ½ch slov \emph{create},
\emph{read}, \emph{update}, \emph{delete}.%
} a v tomto pÅ™Ã­padÄ› se jevÃ­ jako nejlepÅ¡Ã­ ze zpÅ¯sobÅ¯ uklÃ¡dÃ¡nÃ­ dat.

V rÃ¡mci vÃ½voje a testovÃ¡nÃ­ vybranÃ© technologie byl rovnÄ›Å¾ vytvoÅ™en
nÃ¡vrh zjednoduÅ¡enÃ© verze XML%
\footnote{\emph{Extensible Markup Language} - standardnÃ­ formÃ¡t pro vÃ½mÄ›nu informacÃ­
a popis stuktury dokumentu%
} databÃ¡ze uchovÃ¡vanÃ© v souboru a zpracovÃ¡vanho pomocÃ­ jazyka XPath,
XQuery nebo XSLT. VÃ½sledky byly dobrÃ© pÅ™i zpracovÃ¡nÃ­ omezenÃ©ho mnoÅ¾stvÃ­
dat a jednouÅ¾ivatelskÃ©m pÅ™Ã­stupu k datÅ¯m. Se vzrÅ¯stajÃ­cÃ­m objemem
uloÅ¾enÃ½ch dat se zaÄala projevovat prostorovÃ¡ nÃ¡roÄnost pouÅ¾itÃ©ho
znaÄkovacÃ­ho jazyka. Proto bylo nutnÃ© pouÅ¾Ã­t kompresi a rozdÄ›lenÃ­
dat do vÃ­ce souborÅ¯. Alernativu tvoÅ™Ã­ nÄ›kterÃ© specializovanÃ© XML databÃ¡ze
nebo relaÄnÃ­ databÃ¡ze s podporou XML. Toto Å™eÅ¡enÃ­, ale nakonec nebylo
implementovÃ¡no ani v rÃ¡mci testovÃ¡nÃ­. ProtoÅ¾e aÄkoliv jsou XML databÃ¡ze
v komerÄnÃ­ch produktech na velmi dobrÃ© Ãºrovni, jejich implementace
ve volnÄ› dostupnÃ½ch aplikacÃ­ch mÃ­rnÄ› zaostÃ¡vÃ¡.

NÃ¡vrh dobÅ™e strukturovanÃ© relaÄnÃ­ databÃ¡ze vyÅ¾aduje pÅ™edevÅ¡Ã­ch pochopenÃ­
vztahÅ¯ a~procesÅ¯ fungovÃ¡nÃ­ firmy, kterÃ¡ ji bude vyuÅ¾Ã­vat. ProblÃ©mem
s optimalizacÃ­ navrÅ¾enÃ©ho modelu pomÃ¡hajÃ­ Å™eÅ¡it algoritmy logickÃ©ho
nÃ¡vrhu relaÄnÃ­ databÃ¡ze, kterÃ© se snaÅ¾Ã­ zajistit, aby navÅ¾enÃ¡ databÃ¡ze
byla prostorovÄ› efektivnÃ­, eliminovala vznik anomÃ¡liÃ­ a zÃ¡roveÅˆ umoÅ¾Åˆovala
rychlÃ© zpracovÃ¡nÃ­ uÅ¾ivatelskÃ½ch poÅ¾adavkÅ¯. CelÃ½ proces nÃ¡vrhu mÅ¯Å¾eme
rozdÄ›lit na ÄtyÅ™i zÃ¡kladnÃ­ fÃ¡ze\cite{soukupova 2004}: analÃ½za poÅ¾adavkÅ¯
a specifikace, konceptuÃ¡lnÃ­ nÃ¡vrh, logickÃ½ nÃ¡vrh a fyzickÃ½ nÃ¡vrh.
AnalÃ½za poÅ¾adavkÅ¯ a specifikace byla definovÃ¡na v pÅ™edchÃ¡zejÃ­cÃ­ kapitole.


\section{KonceptuÃ¡lnÃ­ nÃ¡vrh}

ZpracovÃ¡nÃ­m poÅ¾adavkÅ¯ vznikl prvotnÃ­ model budoucÃ­ databÃ¡ze, kterÃ½
by mÄ›l pokrÃ½vat vÅ¡echny dÅ¯leÅ¾itÃ© vazby a informace.


\subsection*{Produkty }

Ne vÅ¡echny specifickÃ© informace o danÃ½ch produktech je potÅ™eba udrÅ¾ovat
jako speciÃ¡lnÃ­ atributy. ZvÃ­tÄ›zila proto varianta jednÃ© tabulky s
minimem poloÅ¾ek pro produkt. V budoucÃ­ rozÅ¡iÅ™ovanÃ­ by mÄ›lo bÃ½t realizovÃ¡no
pomocÃ­ tabulek se specifikÃ½mi informacemi nebo pomocÃ­ strukturovanÃ½ch
poznÃ¡mek.
\begin{itemize}
\item \emph{IdentifikÃ¡tor} obsahuje infomace o jazycÃ­ch, typu produktu a
struÄnÃ½ jednoznaÄnÃ½ popisek.
\item \emph{Kategorie} urÄuje zaÅ™azenÃ­ produktu do skupin. NÄ›kterÃ© skupiny
produktÅ¯ mohou bÃ½t veÅ™ejnosti online nabÃ­zeny na webovÃ½ch strÃ¡nkÃ¡ch.
\item \emph{Poskytovatel} produktu je subjekt (uÅ¾ivatel), kterÃ½ se starÃ¡
o jeho realizaci. HledÃ¡ dodavatele i odbÄ›ratele a jsou na nÄ›j vystaveny
faktury.
\item \emph{ÄŒasovÃ© informace} jsou pouÅ¾Ã­vÃ¡ny dle potÅ™eb pro urÄenÃ­ doby
konÃ¡nÃ­ kurzÅ¯, tlumoÄenÃ­ nebo upÅ™esnÄ›nÃ­ poÅ¾adavkÅ¯ na vyhotovenÃ­ pÅ™ekladu.
\item \emph{Popis} je veÅ™ejnÃ¡ informace k produktu pro vÅ¡echny zÃºÄastnÄ›nÃ©
strany.
\item \emph{NastavenÃ­ zpÅ¯sobu ÃºÄtovÃ¡nÃ­} pro sprÃ¡vnÃ© stanovenÃ­ ceny produktu
(zapoÄÃ­tat mnoÅ¾stvÃ­, zapoÄÃ­tat poÄet ÃºÄastnÃ­kÅ¯ na pÅ™ihlÃ¡Å¡ce).
\item \emph{Jednotka} a \emph{jednotkovÃ¡ cena}
\end{itemize}

\subsection*{Smlouvy}

V nÃ¡vrhu se poÄÃ­tÃ¡ s kontrolou maximÃ¡lnÃ­ho poÄtu odpracovanÃ½ch jednotek.
NÄ›kterÃ© moÅ¾nosti nastavenÃ­ jsou pevnÄ› zakomponovanÃ© a pÅ¯jde je zmÄ›nit
pouze zÃ¡sahem do zdrojovÃ½ch kÃ³dÅ¯ nebo databÃ¡ze.
\begin{itemize}
\item \emph{Dodavatel} je smluvnÃ­m partnerem jazykovÃ© agentury - \emph{poskytovatele
}jazykovÃ½ch sluÅ¾eb
\item \emph{MaximÃ¡lnÃ­ poÄet jednotek}, kterÃ© mÅ¯Å¾e na smlouvu vykonat.
\item \emph{ZpÅ¯sob platby }a\emph{ typ smlouvy} umoÅ¾ÅˆujÃ­ generovÃ¡nÃ­ ÃºÄetnÃ­ch
pÅ™ehledÅ¯.
\end{itemize}

\subsection*{VÃ½kazy}

Tabulka vÃ½kazÅ¯ se nedrÅ¾Ã­ papÃ­rovÃ© podoby, kterÃ¡ je pro uklÃ¡dÃ¡nÃ­ v
databÃ¡zi nevhodnÃ¡ z dÅ¯vodu malÃ© hustoty zÃ¡znamÅ¯ (obvykle 5-10 zÃ¡znamÅ¯
za mÄ›sÃ­c na jeden produkt). JednotlivÃ© zÃ¡znamy budou uklÃ¡dÃ¡ny v oddÄ›lenÃ©
tabulce s dalÅ¡Ã­mi upÅ™esÅˆujÃ­cÃ­mi informacemi.

Z poÅ¾adavkÅ¯ rovnÄ›Å¾ vyplÃ­vÃ¡ potÅ™eba uzamykÃ¡nÃ­ vÃ½kazu k danÃ©mu datu.
JelikoÅ¾ se jednÃ¡ o velmi dÅ¯leÅ¾itÃ¡ data, mÄ›la by jejich kontrola provÃ¡dÄ›na
i na databÃ¡zovÃ© Ãºrovni pomocÃ­ triggeru, pokud to bude danÃ¡ databÃ¡ze
bude podporovat.
\begin{itemize}
\item \emph{Produkt}, ke kterÃ©mu se vÃ½kaz vztahuje.
\item \emph{Sazba za jednotku} a \emph{jednotka}, jenÅ¾ nÃ¡leÅ¾Ã­ dodavateli,
jako odmÄ›na.
\item \emph{Smlouva} na nÃ­Å¾ je provÃ¡dÄ›na danÃ¡ Äinnost.
\item \emph{Datum} pÅ™ed kterÃ½m jiÅ¾ nenÃ­ moÅ¾nÃ© pÅ™idÃ¡vat, editovat nebo mazat
odpracovanÃ© jednotky.
\end{itemize}

\subsection*{UdÃ¡losti}

Seznam udÃ¡lostÃ­ je pÅ™iÅ™azen k vÃ½kazu a kaÅ¾dÃ¡ udÃ¡lost je doplnÄ›na o
upÅ™esÅˆujÃ­cÃ­ informace.
\begin{itemize}
\item \emph{VÃ½kaz}, ke kterÃ©mu se udÃ¡lost vztahuje.
\item \emph{PoÄet jednotek} typu uvedenÃ©ho v pÅ™iÅ™azenÃ©m vÃ½kazu.
\item \emph{Datum} a \emph{Äas}, kdy byla prÃ¡ce vykonÃ¡vÃ¡na. SlouÅ¾Ã­ rovnÄ›Å¾
pro tvorbu rozvrhu hodin.
\item \emph{MÃ­sto} vybranÃ© z ÄÃ­selnÃ­ku.
\end{itemize}

\subsection*{PÅ™ihlÃ¡Å¡ky (objednÃ¡vky)}

Tabulka slouÅ¾Ã­ k evidenci zÃ¡kaznÃ­kÅ¯ a produktÅ¯, kterÃ© si objednali.
\begin{itemize}
\item \emph{Produkt,} ke kterÃ©mu se pÅ™ihlÃ¡Å¡ka vztahuje.
\item \emph{ZÃ¡kaznÃ­k} vybranÃ½ z tabulky uÅ¾ivatelÅ¯ je plÃ¡tcem produktu.
\item Evidence plateb.
\end{itemize}

\subsection*{ÃšÄastnÃ­ci}

ÃšÄastnÃ­ci jsou pÅ™iÅ™azeni k danÃ©mu produktu, pÅ™es pÅ™ihlÃ¡Å¡ku, kde je
definovÃ¡n plÃ¡tce.
\begin{itemize}
\item \emph{PÅ™ihlÃ¡Å¡ka}
\item \emph{ÃšÄastnÃ­k} vybranÃ½ z tabulky uÅ¾ivatelÅ¯.
\end{itemize}

\subsection*{UÅ¾ivatelÃ©}

O vÅ¡ech uÅ¾ivatelÃ­ch systÃ©mu je potÅ™eba vÃ©st obdobnÃ© informace. Proto
jsou uloÅ¾eni v jednÃ© tabulce a o jejich specifikaci je rozhodnuto
aÅ¾ pÅ™iÅ™azenÃ­m do skupiny. KaÅ¾dÃ½ uÅ¾ivatel mÅ¯Å¾e bÃ½t ve vÃ­ce skupinÃ¡ch.
\begin{itemize}
\item \emph{OsobnÃ­ Ãºdaje} - jmÃ©no, pÅ™Ã­jmenÃ­, titul a zobrazovanÃ© jmÃ©no
\item \emph{PÅ™ihlaÅ¡ovacÃ­ Ãºdaje} - pÅ™ihlaÅ¡ovacÃ­ jmÃ©no, heslo a stav ÃºÄtu
\item \emph{DoruÄovacÃ­ a fakturaÄnÃ­ adresa}
\item OstatnÃ­ neÄlenÄ›nÃ© informace
\end{itemize}

\subsection*{ÄŒÃ­selnÃ­ky}

Byly navrhnuty pro zjednoduÅ¡enÃ­ prÃ¡ce s vyplÅˆovÃ¡nÃ­m formulÃ¡Å™Å¯ a odstranÄ›nÃ­
duplicit v tabulkÃ¡ch.
\begin{itemize}
\item \emph{MÃ­sta}
\item \emph{Kategorie}
\item \emph{Jednotky}
\item \emph{DanÄ›}
\item \emph{Skupiny}
\item \emph{OprÃ¡vnÄ›nÃ­}
\end{itemize}

\section{LogickÃ½ nÃ¡vrh}

CelÃ½ nÃ¡vrh byl rozdÄ›len do nÄ›kolika menÅ¡Ã­ch schÃ©mat, ke kterÃ© byly
dÅ¯kladnÄ›ji propracovÃ¡ny. NejdÅ¯leÅ¾itÄ›jÅ¡Ã­ ÄÃ¡st se tÃ½kÃ¡ sprÃ¡vy uÅ¾ivatelÅ¯,
kde vÅ¡echny informace o uÅ¾ivateli jsou uloÅ¾eny v jednÃ© tabulce. Dekompozice
na adresy a profilovÃ© informace je do budoucna moÅ¾nÃ¡. Pro zachycenÃ­
kardinality vztahu M:N mezi skupinami a uÅ¾ivateli stejnÄ› jako mezi
skupinami a oprÃ¡vnÄ›nÃ­mi byly vytvoÅ™eny vazebnÃ­ tabulky \emph{groups\_users}
a \emph{groups\_permissions}.%
\begin{figure}[h]
\begin{centering}
\includegraphics[scale=0.35]{uzivatele-schema}\caption{SchÃ©ma uÅ¾ivatelÅ¯, skupin a oprÃ¡vnÄ›nÃ­}

\par\end{centering}


\end{figure}


SchÃ©ma na obrÃ¡zku \ref{fig:Sch=0000E9ma-produkt=00016F} zachycuje
vztahy uÅ¾ivatelÅ¯ k produktÅ¯m. DodavatelÃ© majÃ­ vytvoÅ™enou smlouvu,
ke kterÃ© je pÅ™idÃ¡n vÃ½kaz odpracovanÃ½ch ÃºÄtovacÃ­ch jednotek na produktu.
ZÃ¡kaznÃ­ci jsou evidovÃ¡ni pÅ™es pÅ™ihlÃ¡Å¡ku se seznamem ÃºÄastnÃ­kÅ¯. ZÃ¡znam
dochÃ¡zky je relalizovan tabulkou \emph{participators\_events}, kde
existence zÃ¡znamu s vÃ­ceatributovÃ½m klÃ­Äem sloÅ¾enÃ©ho s \emph{id} ÃºÄastnÃ­ka
a \emph{id} udÃ¡losti implikuje pÅ™Ã­tomnost osoby ve vÃ½uce.%
\begin{figure}
\begin{centering}
\includegraphics[scale=0.35]{produkty}\caption{\label{fig:Sch=0000E9ma-produkt=00016F}SchÃ©ma produktÅ¯ a vazeb na
uÅ¾ivatele}

\par\end{centering}


\end{figure}


Evidence plateb je svÃ¡zÃ¡na s pÅ™ihlÃ¡Å¡kami, aby bylo moÅ¾nÃ© snadno urÄit,
za kterÃ© sluÅ¾by jiÅ¾ bylo zaplaceno. Spolu s informacÃ­ o DPH mohou
bÃ½t platby sdruÅ¾eny do jednoho ÃºÄetnÃ­ho dokladu, jehoÅ¾ schÃ©ma je zobrazeno
na obrÃ¡zku \ref{fig:Evidence-plateb}.%
\begin{figure}


\centering{}\includegraphics[scale=0.35]{doklady}\caption{\label{fig:Evidence-plateb}Evidence plateb}

\end{figure}


@todo clanky a testy


\section{FyzickÃ½ nÃ¡vrh}

V uvedenÃ©m nÃ¡vrhu je potÅ™eba zajistit integritu dat a optimalizace
pro rychlejÅ¡Ã­ pÅ™Ã­stup k datÅ¯m. K tomu slouÅ¾Ã­ vytvoÅ™enÃ© cizÃ­ klÃ­Äe,
triggery a indexy. Jejich seznam a definice lze nalÃ©st v na pÅ™iloÅ¾enÃ©m
CD.

PÅ™i vytvÃ¡Å™enÃ­ triggerÅ¯ pro MySQL verze 5.2 nastal problÃ©m s vyvolÃ¡nÃ­m
vyjÃ­mky, pokud vklÃ¡danÃ½ objekt nesplÅˆoval zadanÃ¡ kritÃ©ria. Å˜eÅ¡enÃ­
spoÄÃ­vÃ¡ ve vytvoÅ™enÃ­ tabulky s integritnÃ­m omezenÃ­m \emph{UNIQUE}
na jednom sloupci a funkce \emph{FAIL('chyba')}. Ta se pokusÃ­ naplnit
tabulku dvÄ›ma indentickÃ½mi zÃ¡znami, coÅ¾ poruÅ¡Ã­ omezenÃ­ na jedineÄnost
zÃ¡znamu ve sloupci a vyvolanÃ¡ vyjÃ­mka zabrÃ¡nÃ­ potvrzenÃ­ transakce.

V poslednÃ­ fÃ¡zi bylo schÃ©ma doplnÄ›no o tabulky pro sprÃ¡vu menu, vyhledÃ¡vÃ¡nÃ­,
tokenÅ¯, logÅ¯ a emailovÃ½ch pÅ™Ã­loh.@todo


\chapter{PouÅ¾itÃ© technologie a frameworky}

PouÅ¾itÃ© technologie byly ÄÃ¡steÄnÄ› determinovÃ¡ny poÅ¾adavy klienta.
SystÃ©m vyuÅ¾Ã­vÃ¡ vÃ½hradnÄ› open source technologie tak, aby nebyly zvyÅ¡ovÃ¡ny
nÃ¡klady na nÃ¡kup licencÃ­.


\section{Server}

Tento webovÃ½ informaÄnÃ­ systÃ©m vyuÅ¾Ã­vÃ¡ technologi PHP (jazyk, interpret
a knihovny), kterÃ¡ vychÃ¡zÃ­ se skriptovacÃ­ho vÃ­ceÃºÄelovÃ©ho jazyka,
jenÅ¾ byl pÅ¯vodnÄ› vyvinut pro tvorbu dynamickÃ½ch webovÃ½ch strÃ¡nek.
Z tohoto vyuÅ¾itÃ­ vznikla i zkatka z anglickÃ½ch slov \emph{Personal
Home Page}, kterÃ© byly nahrazeny slovy \emph{PHP: Hypertext Preprocessor}
dajÃ­cÃ­ vznik rekurzivnÃ­ zkratce%
\footnote{http://cs.wikipedia.org/wiki/RekurzivnÃ­\_zkratka%
}.

VÃ½hodou pouÅ¾itÃ­ PHP je existence interpretu pro rÅ¯znÃ© operaÄnÃ­ systÃ©my
a podobnost jeho syntaxe s C, Javou.

NevÃ½hodou, kterÃ¡ brzdÃ­ dalÅ¡Ã­ rozvoj a rozÅ¡Ã­Å™enÃ­, je absence normy.
Jazyk je tak de facto standardizovanÃ½ interpretem a mnoÅ¾stvÃ­m lidÃ­%
\footnote{dle statistiky na http://www.php.net/usage.php%
}, kteÅ™Ã­ jej vyuÅ¾Ã­vajÃ­. I kdyÅ¾ existujÃ­ mnohÃ© polemiky a Å¾ivÃ© diskuze
mezi jeho zastÃ¡nci a odpÅ¯rci o jeho vÃ½konnosti, bezpeÄnosti a vhodnosti
pro velkÃ© projekty, existujÃ­ vyjÃ­mky%
\footnote{Facebook, YouTube, Wikipedia (MediaWiki) a dalÅ¡Ã­%
}, kterÃ© tyto nÃ¡zory vyvracÃ­ a zÃ¡roveÅˆ se podÃ­lejÃ­ na vÃ½voji, a tak
se snaÅ¾Ã­ pÅ™ispÄ›t k jeho vÄ›tÅ¡Ã­ vÃ½konnosti a bezpeÄnosti.

VÃ½voj jazyka sebou nese i stinnÃ© strÃ¡nky. Po lÃ©tech vÃ½voje dochÃ¡zÃ­
k~ÃºpravavÃ¡m API%
\footnote{anglickÃ¡ zkratka \emph{Application Programming Interface}, oznaÄuje
sadu funkcÃ­, procedur Äi tÅ™Ã­d programu Äi knihovny, jenÅ¾ mohou bÃ½t
vyuÅ¾Ã­vÃ¡ny programÃ¡torem %
} nÄ›kterÃ½ch vestavÄ›nÃ½ch funkcÃ­ a zmÄ›na syntaxe. To mÅ¯Å¾e zapÅ™Ã­Äinit,
Å¾e po aktualizaci interpretu jazyka, pÅ™estanou fungovat nÄ›kterÃ© ÄÃ¡sti
nebo celÃ¡ aplikace.

NespornÃ¡ vÃ½hoda pouÅ¾Ã­vÃ¡nÃ­ frameworkÅ¯ spoÄÃ­vÃ¡ jednoduÅ¡Å¡Ã­m vÃ½voji aplikacÃ­
a minimalizacÃ­ rizika chyb v jinak ruÄnÄ› psanÃ©m jÃ¡dru aplikace. Toto
platÃ­ pouze za pÅ™edpokladu, Å¾e je dostupnÃ¡ kvalitnÃ­ dokumentace a
vÃ½voj vÄetnÄ› testovÃ¡nÃ­ je zastÅ™eÅ¡en silnou komunitou nebo spoleÄnostÃ­.
NÄ›kterÃ© frameworky rovnÄ›Å¾ dokÃ¡Å¾Ã­ do jistÃ© mÃ­ry zakrÃ½t rozdÃ­ly mezi
ve verzÃ­ch jazyka. DÄ›je se tak, za cenu zpomalenÃ­ nÄ›kterÃ½ch ÄÃ¡stÃ­
aplikace, dÃ­ky kontroly verze pÅ™ekladaÄe a vykonÃ¡nÃ­m alternativnÃ­ho
kÃ³du.

PÅ™i vÃ½bÄ›ru frameworku byl kladen dÅ¯raz hlavnÄ› na kvalitnÃ­ dokumentaci,
rozÅ¡Ã­Å™itelnost a moÅ¾nost prÃ¡ce s rÅ¯znÃ½mi relaÄnÃ­mi databÃ¡zemi. Frameworky,
kterÃ© splÅˆujÃ­ vetÅ¡inu poÅ¾adavkÅ¯ jsou Zend, Prado, Symfony a CakePHP,
kterÃ½ navÃ­c ve vÃ½konnostnÃ­ch testech podle \cite{root-testy} dopadl
velmi dobÅ™e, a tak byl vybrÃ¡n pro vÃ½voj informaÄnÃ­ho systÃ©mu.


\subsection{CakePHP}

CakePHP je open source framework\cite{CakePHP}, kterÃ½ poskytuje vÄ›tÅ¡inu
nÃ¡strojÅ¯ pro snadnÃ½ vÃ½voj webovÃ© aplikace a dÃ¡vÃ¡ vÄ›tÅ¡Ã­ pÅ™Ã­leÅ¾itost
vÄ›novat se nÃ¡vrhu schÃ©matu a logiky aplikace.
\begin{description}
\item [{MVC\label{mvc}}] \emph{Model-View-Controller} (Model-Pohled-Å˜adiÄ)
- softwarovÃ¡ architektura oddÄ›lujÃ­cÃ­ data, uÅ¾ivatelskÃ© rozhranÃ­ a
logiku aplikace\cite{MVC}. VÃ½slednÃ½ kÃ³d aplikace se stÃ¡vÃ¡ pÅ™ehlednÄ›jÅ¡Ã­m
a umoÅ¾Åˆuje zmÄ›nu libovolnÃ© komponenty s minimÃ¡lnÃ­mi dopady na ostatnÃ­
ÄÃ¡sti aplikace (napÅ™. zmÄ›na databÃ¡ze, vÃ½stup v XML Äi jinÃ©m formÃ¡tu,
ovlÃ¡dÃ¡nÃ­ pÅ™es webovÃ© rozhranÃ­ nebo konzoli).%
\begin{figure}
\begin{description}
\item [{\includegraphics[width=1\textwidth]{basic_mvc}}]~
\end{description}
\centering{}\caption{\label{fig:Diagram-MVC-dotazu}Diagram MVC dotazu\cite{MVC}}

\end{figure}
\\
ObrÃ¡zek \ref{fig:Diagram-MVC-dotazu} zobrazuje zÃ¡kladnÃ­ schÃ©ma
procesu zpracovÃ¡nÃ­ poÅ¾adavku klienta. Klient poÅ¡le (1) poÅ¾adavek na
URL%
\footnote{\emph{Uniform Resource Locator}\cite{RFC1738}(jednotnÃ½ lokÃ¡tor zdrojÅ¯)
popisuje sÃ©mantiku a syntaxi Å™etÄ›zce znakÅ¯ slouÅ¾Ã­cÃ­ k pÅ™esnÃ© specifikaci
zdroje informacÃ­ v prostÅ™edÃ­ Internetu.%
}, kterÃ© je plÃ¡novaÄem (\emph{Dispatcher}) zkontrolovÃ¡no a pÅ™edÃ¡no
(2) sprÃ¡vnÃ©mu pÅ™epÃ­naÄi (\emph{Controller}). Ten se na zÃ¡kladÄ› parametrÅ¯,
kterÃ© obdrÅ¾Ã­ od plÃ¡novaÄe, rozhodne o spuÅ¡tÄ›nÃ­ sprÃ¡vnÃ© akce a pÅ™edÃ¡nÃ­
parametrÅ¯. V Å™adiÄi je obsaÅ¾ena vlastnÃ­ aplikaÄnÃ­ logika (vÄetnÄ› napÅ™.
kontroly pÅ™ihlÃ¡Å¡enÃ­ a prÃ¡v uÅ¾ivatele), kterÃ¡ mÅ¯Å¾e vyuÅ¾Ã­vat modely
pro pÅ™Ã­stup k uloÅ¾enÃ½m datÅ¯m a jejich modifikaci (3 a 4). AÅ¾ Å™adiÄ
zÃ­skÃ¡ vÅ¡echna potÅ™ebnÃ¡ data pÅ™edÃ¡ (5) je zbÃ½vajÃ­cÃ­ vrstvÄ› - pohledu
(\emph{View}). V tÃ© jsou data zformÃ¡tovÃ¡na do poÅ¾adovanÃ© podoby a
poslÃ¡ny (6) klientovi.
\item [{ORM}] \emph{Object-relational mapping} (objektovÄ› relaÄnÃ­ mapovÃ¡nÃ­)
- programÃ¡torskÃ¡ technika urÄenÃ¡ pro konverzi dat mezi nekompatibilnÃ­mi
systÃ©my urÄenÃ½mi pro uklÃ¡dÃ¡nÃ­ dat a objektovÄ› orientovanÃ½mi jazyky\cite{ORM}.
NejvÄ›tÅ¡Ã­ vÃ½hoda tedy spoÄÃ­vÃ¡ v odstÃ­nÄ›nÃ­ zpÅ¯sobu prÃ¡ce s odliÅ¡nÃ½mi
zdroji dat. AÅ¥ uÅ¾ jde o rÅ¯znÃ© relaÄnÃ­mi databÃ¡ze (MySQL, PostgreSQL,
Oracle, MSSQL) nebo dokonce vlastnÃ­ definovÃ¡nÃ© zdroje dat. Mezi ty
mÅ¯Å¾ou patÅ™it formÃ¡tovanÃ© soubory (CSV, XML, JSON) nebo sÃ­Å¥ovÃ© sluÅ¾by
poskytujÃ­cÃ­ informace skrze veÅ™ejnÃ© API (LDAP, Twitter, IMAP a dalÅ¡Ã­).
\end{description}
Mezi dalÅ¡Ã­ vÃ½hody, kterÃ© CakePHP nabÃ­zÃ­, patÅ™Ã­ SEO optimalizace strÃ¡nek,
podpora i18n%
\footnote{,,PÅ™Ã­prava aplikace na podporu rÅ¯znÃ½ch kulturnÃ­ch zvyklostÃ­.''\cite{i18n}%
} i l10n%
\footnote{JednÃ¡ se o ,,doplnÄ›nÃ­ aplikace o data specifickÃ¡ pro konkrÃ©tnÃ­ nÃ¡rodnÃ­/regionÃ¡lnÃ­
prostÅ™edÃ­''\cite{l10n}%
} pro tvorbu vÃ­cejazyÄnÃ½ch aplikacÃ­. KÃ³d je jiÅ¾ zapracovÃ¡n do jÃ¡dra
frameworku a otestovÃ¡n komunitou, dÃ­ky kterÃ© nenÃ­ potÅ™eba psÃ¡t jiÅ¾
jednou napsanÃ© ÄÃ¡sti, ale moÅ¾nÃ© Å¡etÅ™it lidskÃ© zdroje na vlastnÃ­ vÃ½voj
aplikaÄnÃ­ logiky.

CakePHP zastÃ¡vÃ¡ programÃ¡torskou filosofii \emph{DRY} - \emph{Don't
Repeat Yourself}. Ta zdÅ¯razÅˆuje, Å¾e jednotlivÃ© ÄÃ¡sti kÃ³du by se v
programu nemÄ›ly opakovat, jelikoÅ¾ se sniÅ¾uje srozumitelnost kÃ³du a
pÅ™i modifikaci se musÃ­ upravovat stejnÃ½ kÃ³d na vÃ­ce mÃ­stech, coÅ¾ Äasto
vede k nesnadno odhalitelnÃ½m chybÃ¡m programu. K tomuto ÃºÄelu se pouÅ¾Ã­vajÃ­
,,pomocnÃ­ci'' (\emph{helpers}), kteÅ™Ã­ danÃ½ kÃ³d generujÃ­. PÅ™i potÅ™ebÄ›
zmÄ›ny je lze snadno upravit, bez potÅ™eby zÃ¡sahu do mÃ­st odkud jsou
volÃ¡ni.

Za nejvÄ›tÅ¡Ã­ pÅ™Ã­nos samotnÃ©ho frameworku v poÄÃ¡tku nÃ¡vrhu aplikace
povaÅ¾uji ,,pekÃ¡rnu'' kÃ³du (\emph{baker}) a podporu ,,leÅ¡enÃ­''
(\emph{scaffolding}), kterÃ© umoÅ¾Åˆuje pracovat s automaticky generovanÃ½m
rozhranÃ­m podporujÃ­cÃ­m CRUD. ,,PekÃ¡rna'' kÃ³du (\emph{bakery}) umÃ­
vygenerovat modely i s validaÄnÃ­mi kritÃ©rii, prezentaÄnÃ­ vrstvu a
Å™adiÄe. NavÃ­c sama najde relace mezi tabulkami a pÅ™idÃ¡ tuto informaci
do odpovÃ­dajÃ­cÃ­ho modelu.

HledÃ¡nÃ­ relacÃ­\label{Hled=0000E1n=0000ED-relac=0000ED} probÃ­hÃ¡ na
zÃ¡kladÄ› nÃ¡zvÅ¯ tabulkek a jejich atributÅ¯. Proto je doporuÄeno pÅ™i
prÃ¡ci s CakePHP dodrÅ¾ovat tyto konvence, kterÃ© nejsou nijak zÃ¡vaznÃ©
a jdou zmÄ›nit ve specifikaci kaÅ¾dÃ©ho modelu.
\begin{itemize}
\item NÃ¡zvy tabulek jsou pojmenovanÃ© anglicky v plurÃ¡lu. NepravidelnÃ© skloÅˆovÃ¡nÃ­
nebo definice plurÃ¡lu pro jinÃ½ jazyk lze nastavit v souboru \emph{app/config/inflections.php.}
\item CizÃ­ klÃ­Äe se jmenujÃ­ stejnÄ› jako tabulka v jednotnÃ©m ÄÃ­sle a konÄÃ­
na ,,\_id''
\item PrimÃ¡rnÃ­ klÃ­Ä mÃ¡ nÃ¡zev ,,id''.
\end{itemize}
DÃ­ky tÄ›mto ÃºsporÃ¡m je moÅ¾nÃ© se zamÄ›Å™it na ergonomii danÃ© aplikace
a jejÃ­ moÅ¾nou optimalizaci, kterÃ¡ je ovÅ¡em limitovÃ¡na vÃ½konnostÃ­ pouÅ¾itÃ©ho
skriptovacÃ­ho jazyka. Tato omezenÃ­ lze, minimalizovat tzv. keÅ¡ovÃ¡nÃ­m%
\footnote{z anglickÃ©ho slova \emph{cache}, oznaÄuje vyrovnÃ¡vacÃ­ pamÄ›Å¥%
} ÄÃ¡stÃ­ zpracovanÃ©ho zdrojovÃ©ho kÃ³du v pamÄ›ti, jeho pÅ™edkompilacÃ­ popÅ™Ã­padÄ›
jednÃ¡-li se o statickÃ© strÃ¡nky lze uklÃ¡dat vÃ½stup skriptu, kterÃ½ je
pÅ™i nÃ¡sledujÃ­cÃ­m stejnÃ©m poÅ¾adavku vrÃ¡cen klientovi.

DalÅ¡Ã­ moÅ¾nou optimalizacÃ­, kterÃ¡ sice pÅ™Ã­mo nesouvisÃ­ s CakePHP, ale
je v nÄ›m snadno implementovatelnÃ¡, je snÃ­Å¾enÃ­ poÄtu poÅ¾adavkÅ¯ na strÃ¡nku.
S pouÅ¾Ã­vÃ¡nÃ­m javascriptovÃ½ch frameworkÅ¯ a knihoven se snadno mÅ¯Å¾e
stÃ¡t, Å¾e poÄet vklÃ¡danÃ½ch odkazÅ¯ na skripty a kaskÃ¡dovÃ© styly (CSS)
se vyÅ¡plhÃ¡ aÅ¾ k desÃ­tkÃ¡m a zaÄne se neÃºmÄ›rnÄ› prodluÅ¾ovat doba potÅ™ebnÃ¡
na staÅ¾enÃ­ vÅ¡ech potÅ™ebnÃ½ch ÄÃ¡stÃ­. ZvyÅ¡uje se tak poÄet poÅ¾adavkÅ¯
na server a dÃ­ky reÅ¾ii protokolu HTTP%
\footnote{\emph{Hypertext Transfer Protocol}, internetovÃ½ protokol urÄenÃ½ pro
vÃ½mÄ›nu dokumentÅ¯%
} je ve vÃ½sledku staÅ¾en vÄ›tÅ¡Ã­ objem dat. Tento problÃ©m ÃºspÄ›Å¡nÄ› Å™eÅ¡Ã­
projekty \emph{jsMin}%
\footnote{\href{http://code.google.com/p/jsmin-php/}{http://code.google.com/p/jsmin-php/}%
} a \emph{CSSTidy}%
\footnote{\href{http://csstidy.sourceforge.net/}{http://csstidy.sourceforge.net/}%
}.


\subsection{MySQL}

MySQL je multiplatformnÃ­ systÃ©m pro Å™Ã­zenÃ­ bÃ¡ze dat (DBMS, zkÃ¡cenÄ›
databÃ¡zovÃ½ systÃ©m), kterÃ½ poskytuje vÅ¡echny potÅ™ebnÃ© vlastnosti nutnÃ©
pro bÄ›h tohoto informaÄnÃ­ho systÃ©mu:
\begin{itemize}
\item indexy
\item fultextovÃ© vyhledÃ¡vÃ¡nÃ­
\item cizÃ­ klÃ­Äe (foreign-keys)
\item poddotazy (subselect)
\item pohledy (views)
\item transakce
\item triggery
\end{itemize}
SystÃ©m byl pÅ¯vodnÄ› vyvinut Michaelem Wideniusem a Davidem Axmarkem
v roce 1994, kteÅ™Ã­ se podÃ­leli na zaloÅ¾enÃ­ firmy MySQL AB. Ta byla
aÅ¾ do roku 2008, kdy byla provedena akvizice s firmou Sun Microsystems,
jednou z nejvÄ›tÅ¡Ã­ch open source spoleÄnostÃ­ na svÄ›tÄ›. MySQL je nabÃ­zeno
jak pod bezplatnou licencÃ­, tak pod komerÄnÃ­ licencÃ­ s plnou technickou
podporou \cite{MySQL}. 

TÄ›Å¡Ã­ velkÃ© oblibÄ› hlavnÄ› mezi vÃ½vojÃ¡Å™i webovÃ½ch aplikacÃ­, kde je souÄÃ¡stÃ­
platformy oznaÄovanÃ© jako \emph{LAMP}, kterÃ¡ obsahuje \emph{Linux},
\emph{Apache}, \emph{MySQL} a \emph{PHP}. ObecnÄ› jednotlivÃ© ÄÃ¡sti
mohou bÃ½t zamÄ›nÄ›ny (napÅ™. PHP za Perl nebo Python, MySQL za Postgres)
pÅ™i zachovÃ¡nÃ­ zkratky, kterÃ¡ je zauÅ¾Ã­vanÃ½m oznaÄenÃ­m pro operaÄnÃ­
systÃ©m, webovÃ½ server, databÃ¡zovÃ½ systÃ©m a skriptovacÃ­ jazyk slouÅ¾Ã­cÃ­
k obsluze a generovÃ¡nÃ­ webovÃ½ch strÃ¡nek.


\section{Klient}

Pro vlastnÃ­ bÄ›h aplikaÄnÃ­ logiky je moÅ¾nÃ© se spolehnout na to, Å¾e
serverovÃ¡ ÄÃ¡st aplikace bude zpracovÃ¡na jednou verzÃ­ PHP interpretu
v uzavÅ™enÃ©m, nemÄ›nnÃ©m a otestovanÃ©m prostÅ™edÃ­. Naproti tomu klientskÃ¡
ÄÃ¡st bude prezentovÃ¡na na odliÅ¡nÃ½ch operaÄnÃ­ch systÃ©mech v mnoha prohlÃ­Å¾eÄÃ­ch
nejrÅ¯znÄ›jÅ¡Ã­ch verzÃ­ch. Aplikace je primÃ¡rnÄ› vyvÃ­jena pro nejnovÄ›jÅ¡Ã­
verze nejpouÅ¾Ã­vanÄ›jÅ¡Ã­ch \emph{volnÄ› dostupnÃ½ch} prohlÃ­Å¾eÄÅ¯ dodÅ¾ujÃ­cÃ­ch
standardy (doporuÄenÃ­) konsorcia W3C. Mezi podprovanÃ© prohlÃ­Å¾eÄe patÅ™Ã­
Mozilla Firefox 3.5, Opera 9, Google Chrome, Safari a dalÅ¡Ã­ zaloÅ¾enÃ©
na vykreslovacÃ­m jÃ¡dÅ™e Webkit nebo Gecko.

ZÃ¡kladnÃ­mi poÅ¾adavky kladenÃ© na prohlÃ­Å¾eÄ jsou:
\begin{itemize}
\item XHTML 1.0%
\footnote{\href{http://www.w3.org/TR/xhtml1/}{http://www.w3.org/TR/xhtml1/}%
}
\item CSS 2.1%
\footnote{\href{http://www.w3.org/TR/CSS2/}{http://www.w3.org/TR/CSS2/}%
}
\item JavaScript je dialektem ECMASriptu. MinimÃ¡lnÃ­m implementovanÃ½m standardem
by mÄ›l bÃ½t ECMA-262, revize 3\cite{ECMA-262}.
\end{itemize}
S XHTML a CSS prohlÃ­Å¾eÄe problÃ©my nemÃ­vajÃ­. HorÅ¡Ã­ je to, ale s implementacemi
Javascriptu, kterÃ© se mezi prohlÃ­Å¾eÄi dost liÅ¡Ã­. Tento problÃ©m byl
vyÅ™eÅ¡en dÃ­ky provÃ¡zanosti CakePHP a javascriptovÃ©ho frameworku Prototype%
\footnote{AktuÃ¡lnÃ­ verzi naleznete na\href{http://www.prototypejs.org/}{http://www.prototypejs.org/}%
} a jeho rozÅ¡Ã­Å™enÃ­ Script.aculo.us%
\footnote{Knihovna se nachÃ¡zÃ­ na \href{http://script.aculo.us}{http://script.aculo.us}%
}, kterÃ© se dohromady snaÅ¾Ã­ zakrÃ½t rozdÃ­ly mezi prohlÃ­Å¾eÄi a zpÅ™Ã­jemnit
uÅ¾ivateli pracovnÃ­ prostÅ™edÃ­ pomocÃ­ vizuÃ¡lnÃ­ch efektÅ¯.

Prototype nenÃ­ jedinÃ½m Äi nejlepÅ¡Ã­m frameworkem. ExistujÃ­ i jinÃ©,
kterÃ© majÃ­ rozsÃ¡hlejÅ¡Ã­ schopnosti v oblasti pouÅ¾Ã­vanÃ­ dotazovacÃ­ho
jazyka XPath nebo tvorby GUI%
\footnote{z anglickÃ½ch slov \emph{Graphical User Interface}, uÅ¾ivatelskÃ© prostÅ™edÃ­,
jenÅ¾ ÃºmoÅ¾nuje uÅ¾ivateli ovlÃ¡dat aplikaci pomocÃ­ grafickÃ½ch ovlÃ¡dacÃ­ch
prvkÅ¯%
}. Mezi hojnÄ› vyuÅ¾Ã­vanÃ© patÅ™Ã­ JQuery, MooTools, Yahoo User Interface
Library a Dojo. Nelze Å™Ã­ct, Å¾e by jeden z nich byl o mnoho lepÅ¡Ã­,
a proto si kaÅ¾dÃ½ vÃ½vojÃ¡Å™ musÃ­ stanovit, co od frameworku oÄekÃ¡vÃ¡.
Pomoci s vÃ½bÄ›rem mÅ¯Å¾e i nÄ›kolik vÃ½konostnÃ­ch testÅ¯, jenÅ¾ lze nalÃ©st
v \cite{slicktest}.

Jak uÅ¾ bylo zmÃ­nÄ›no vÃ½Å¡e, Prototype je skvÄ›le provÃ¡zÃ¡n s CakePHP,
kterÃ½ tak programÃ¡torovi umoÅ¾Åˆuje psÃ¡t kÃ³d pouze v jednom programovacÃ­m
jazyce - PHP. KromÄ› Scipt.aculo.us, je v systÃ©mu pouÅ¾ita i knihovna
Livepipe%
\footnote{Dokumentace a staÅ¾enÃ­ knihovny na \href{http://livepipe.net}{http://livepipe.net}%
}, kterÃ¡ se zamÄ›Å™uje na tvorbu uÅ¾ivatelskÃ©ho rozhranÃ­ - zÃ¡loÅ¾ky, okna
a dalÅ¡Ã­ prvky znÃ¡mÃ© z klasickÃ½ch newebovÃ½ch aplikacÃ­.


\chapter{ProgramÃ¡torskÃ¡ dokumentace}

V nÃ¡sledujÃ­cÃ­ kapitole je popsÃ¡na zÃ¡kladnÃ­ adresÃ¡Å™ovÃ¡ struktura projektu,
propojenÃ­ databÃ¡zovÃ©ho schÃ©matu s tÅ™Ã­dami a metody pouÅ¾itÃ½ch tÅ™Ã­d.

Pro plnÃ© pochopenÃ­ fungovÃ¡nÃ­ frameworku CakePHP a kompletnÃ­ dokumentaci
vÅ¡ech metod je vhodnÃ© se nejprve nastudovat \cite{CakePHP}. DÃ¡le
jsou vysvÄ›tleny jen nejdÅ¯leÅ¾itÄ›jÅ¡Ã­ ÄÃ¡sti a zmÄ›ny v jadernÃ½ch metodÃ¡ch
frameworku.


\section{AdresÃ¡Å™ovÃ¡ struktura}

KÃ³d aplikace je logicky rozÄlenÄ›n podle pÅ¯vodu do 3 hlavnÃ­ch sloÅ¾ek.
\begin{itemize}
\item \emph{app} - vlastnÃ­ kÃ³d systÃ©mu

\begin{itemize}
\item \emph{config} - konfiguraÄnÃ­ soubory (nastavenÃ­ databÃ¡ze, pÅ™episovÃ¡nÃ­
URL a ostatnÃ­ konstanty)
\item \emph{controllers} - Å™adiÄe a komponenty
\item \emph{locale} - obsahuje podadresÃ¡Å™e s pÅ™eloÅ¾enÃ½mi Å™etÄ›zci pouÅ¾itÃ½mi
v aplikaci
\item \emph{models} - modely, doplÅˆkovÃ¡ chovÃ¡nÃ­ a definice zdrojÅ¯ dat
\item \emph{plugins} - doplÅˆky a znovupouÅ¾itelnÃ© balÃ­ky
\item \emph{tmp} - zapisovatelnÃ¡ sloÅ¾ka pro uklÃ¡dÃ¡nÃ­ doÄasnÃ½ch souborÅ¯
\item \emph{views} - Å¡ablony, elementy a prezentaÄnÃ­ data
\item \emph{webroot} - kaskÃ¡dovÃ© styly, javascriptovÃ© knihovny a obrÃ¡zky
pouÅ¾itÃ© pÅ™i prezentaci dat
\end{itemize}
\item \emph{cake} - zdrojovÃ© kÃ³dy frameworku, do kterÃ½ch by se nemÄ›lo zasahovat
\item \emph{vendors} - knihovny tÅ™etÃ­ch stran pouÅ¾itÃ© v systÃ©mu (TCPDF,
CssTidy, JsMin)
\end{itemize}
Pro pojmenovÃ¡nÃ­ souborÅ¯ ve sloÅ¾kÃ¡ch je dobrÃ© se Å™Ã­dit zavedenÃ½mi konvencemi
uvedenÃ½mi v manuÃ¡lu \cite{CakePHP}.


\section{Modely (\emph{Models})}

VÅ¡echny modely v aplikaci jsou odvozeny od tÅ™Ã­dy \emph{Object}, kterÃ¡
je zakryta tÅ™Ã­dou \emph{Overloadable}. Ta je navrÅ¾ena tak, aby zakryla
rozdÃ­ly mezi PHP verze 4 a 5. 

Modely jsou ÄÃ¡steÄnÄ› determinovÃ¡ny nÃ¡vrhem databÃ¡ze. Relace mezi jednotlivÃ½mi
modely odpovÃ­dajÃ­ relacÃ­m v databÃ¡zi a je moÅ¾nÃ© je upravovat ve vlastnostech
danÃ© tÅ™Ã­dy. ExistujÃ­ ÄtyÅ™i druhy relacÃ­, jenÅ¾ jdou v CakePHP modelovat.
Relace 1:1 (\emph{hasOne}), 1:N (\emph{hasMany}) a N:1 (\emph{belongsTo})
majÃ­ vÄ›tÅ¡inu nastavenÃ­ spoleÄnou:
\begin{description}
\item [{className}] jmÃ©no tÅ™Ã­dy asociovanÃ©ho modelu 
\item [{foreignKey}] jmÃ©no cizÃ­ho klÃ­Äe v asociovanÃ©m modelu
\item [{fields}] seznam polÃ­, jenÅ¾ majÃ­ bÃ½t naÄteny pÅ™i pouÅ¾itÃ­ danÃ© asociace
\item [{order}] ÄÃ¡st SQL dotazu slouÅ¾Ã­cÃ­ k definici poÅ™adÃ­ vÃ½sledkÅ¯
\item [{conditions}] ÄÃ¡st SQL dotazu slouÅ¾Ã­cÃ­ k filtraci nalezenÃ½ch vÃ½sledkÅ¯
\end{description}
PÅ™i modelovÃ¡nÃ­ relace M:N (\emph{hasAndBelongsToMany - HABTM}) je
potÅ™eba nadefinovat tabulku (\emph{joinTable}), pÅ™es kterou bude provÃ¡dÄ›no
spojenÃ­ nalezenÃ½ch dat, a cizÃ­ klÃ­Ä do asociovanÃ© tabulky (\emph{associationForeignKey}).

PÅ™i pouÅ¾itÃ­ ,,pekÃ¡rny'' kÃ³du jsou relace vyhledÃ¡ny automaticky podle
pravidel popsanÃ½ch v \vref{Hled=0000E1n=0000ED-relac=0000ED}.

Pro zÃ­skÃ¡nÃ­ dat se pouÅ¾Ã­vÃ¡ metoda \emph{find(\$typ, \$parametry)}
na pÅ™Ã­sluÅ¡nÃ©m modelu. PrvnÃ­ parametr urÄuje typ dotazu, kterÃ½ mÅ¯Å¾e
bÃ½t jednÃ­m z nÃ¡sledujÃ­ch:
\begin{description}
\item [{all}] najde vÅ¡echny data splÅˆujÃ­cÃ­ podmÃ­nky definovanÃ© ve druhÃ©m
parametru
\item [{first}] najde prvnÃ­ zÃ¡znam vyhovujÃ­cÃ­ podmÃ­nkÃ¡m (liÅ¡Ã­ se od pÅ™edchÃ¡zejÃ­cÃ­ho
ve struktuÅ™e vrÃ¡cenÃ©ho pole)
\item [{count}] vrÃ¡tÃ­ poÄet vyhovujÃ­cÃ­ch zÃ¡znamÅ¯
\item [{list}] vygeneruje pole s hodnotami ze sloupce tabulky definovanÃ©
v promÄ›nnÃ© \emph{\$displayField} danÃ©ho modelu indexovanÃ© standardnÄ›
primÃ¡rnÃ­m klÃ­Äem
\item [{threaded}] vygeneruje vnoÅ™enÃ© pole podle zadanÃ©ho intervalu (\emph{ltf
}- \emph{rght})%
\footnote{DetailnÃ­ popis pÅ™Ã­kladu, jak uchovÃ¡vat stromovÃ© struktury v relaÄnÃ­
mÅ¯Å¾ete nalÃ©st na \href{http://dev.mysql.com/tech-resources/articles/hierarchical-data.html}{http://dev.mysql.com/tech-resources/articles/hierarchical-data.html}.%
}
\item [{neighbors}] vrÃ¡tÃ­ poloÅ¾ku pÅ™ed (\emph{prev}) a za (\emph{next})
poloÅ¾kou, kterÃ¡ by byla nalezena pomocÃ­ \emph{find('first', \$podminky)}
\end{description}
Pole s vyhledÃ¡vacÃ­mi podmÃ­nkami mÅ¯Å¾e vypadat jako v nÃ¡sledujÃ­cÃ­m pÅ™Ã­kladu,
kde jsou uvedeny vÅ¡echny zÃ¡kladnÃ­ moÅ¾nosti. DalÅ¡Ã­ parametry mohou
bÃ½t pÅ™idÃ¡vÃ¡ny pro doplÅˆkovÃ© rozÅ¡Ã­Å™enÃ­ chovÃ¡nÃ­ jednotlivÃ½ch modelÅ¯. 

\inputencoding{latin2}
\begin{lstlisting}[basicstyle={\small},tabsize=4]
array(
	'conditions' => array('Model.field' => $thisValue), 
	//vygeneruje klauzuli WHERE Model.field = $thisValue
	'recursive' => 1, //int
	'fields' => array('Model.field1'),
	//sloupeèky v dotazu SELECT
	'order' => array('Model.created', 'Model.field3 DESC'),
	//definice klauzule ORDER BY
	'group' => array('Model.field'), 
	//sloupeèky pou¾ité v klauzuli GROUP BY
	'limit' => n, 
	//poèet záznamù na stránku
	'page' => i, //najdi i-tou stranu
	'callbacks' => true 
	//mo¾né hodnoty jsou: false, 'before', 'after' 
)
\end{lstlisting}
\inputencoding{utf8}

ZajÃ­mavÃ½m parametrem je \emph{recursive}, kterÃ½ urÄuje do jakÃ© hloubky
majÃ­ bÃ½t naÄÃ­tÃ¡na data. Pokud data z asociovanÃ½ch modelÅ¯ nejsou potÅ™eba,
je vhodnÃ© jej nastavit na \emph{-1}.

V systÃ©mu, kde je potÅ™eba vyhledÃ¡vat sdruÅ¾ovat data podle modelÅ¯,
jenÅ¾ jsou v Å™etÄ›zci asociacÃ­ dÃ¡le, bylo vÃ½chozÃ­ chovÃ¡nÃ­ parametru
nedostateÄnÃ©. NaÅ¡tÄ›stÃ­ existujÃ­ rozÅ¡iÅ™ujÃ­cÃ­ chovÃ¡nÃ­ modelu, kterÃ©
takovÃ© Äinnosti umoÅ¾ÅˆujÃ­.


\subsection{RozÅ¡Ã­Å™enÃ­ chovÃ¡nÃ­ (\emph{Behaviors})}

V zÃ¡kladnÃ­ vÃ½bavÄ› CakePHP je obsaÅ¾eno rozÅ¡Ã­Å™enÃ­ \emph{Containable},
kterÃ© ÃºmoÅ¾nuje dynamicky pÅ™idÃ¡vat asociovanÃ© modely bez omezenÃ­ hloubky
rekurze%
\footnote{Je ovÅ¡em potÅ™eba vzÃ­t na vÄ›domÃ­, Å¾e CakePHP tak vygeneruje znaÄnÃ©
mnoÅ¾stvÃ­ dotazÅ¯, kterÃ© mohou mÃ­t vliv na vÃ½kon danÃ© aplikace.%
}. Je to ale pouze ,,syntaktickÃ½ cukr'' k metodÃ¡m \emph{bindModel()}
a \emph{unbindModel()}, kterÃ© ÃºmoÅ¾nujÃ­ pÅ™idÃ¡vat a odebÃ­rat asociace
pÅ™Ã­sluÅ¡Ã­cÃ­ danÃ©mu modelu. \emph{Containtable} pÅ™idÃ¡vÃ¡ modelu metodu
\emph{contain()}, jenÅ¾ je volÃ¡na i pokud je nalezen index ,,contain''
v poli s vyhledÃ¡vacÃ­mi parametry metody \emph{find()}. Ta se postarÃ¡
o dynamickou asociaci potÅ™ebnÃ½ch modelÅ¯.

TakÃ© vÃ½Å¡e zmÃ­nÄ›nÃ© rozÅ¡Ã­Å™enÃ­ mÃ¡ urÄitÃ© nedostatky a to hlavnÄ› pokud
je potÅ™eba filtrovat data podle modelÅ¯ asociovanÃ½ch ve vÄ›tÅ¡Ã­ hloubce.
Proto je pouÅ¾itÃ© rozÅ¡Ã­Å™enÃ­ \emph{Linkable}\cite{linkable}, kterÃ©
mÃ¡ obdobnou syntaxi nastavenÃ­, ale vytvÃ¡Å™Ã­ jeden SQL dotaz za pomocÃ­
klauzujÃ­ JOIN.

Pro usnadnÄ›nÃ­ prÃ¡ce s relacemi typu M:N pÅ™es tabulku s klÃ­Äi je pouÅ¾ito
rozÅ¡Ã­Å™enÃ­ \emph{,,Extend Associations''\cite{ExtendAssoc}} . To
umoÅ¾Åˆuje jednoduchÃ© pÅ™idÃ¡nÃ­ nebo smazÃ¡nÃ­ asociacÃ­, bez ovlivnÄ›nÃ­ ostatnÃ­ch
jiÅ¾ existujÃ­cÃ­ch. K tomu slouÅ¾Ã­ novÄ› definovanÃ¡ sada metod:
\begin{itemize}
\item \emph{habtmAdd(\&\$model,~\$assoc,~\$id,~\$assoc\_ids}) - pÅ™idÃ¡
asociace k danÃ©mu zÃ¡znamu v modelu
\item \emph{habtmDelete(\&\$model,~\$assoc,~\$id,~\$assoc\_ids)} - smaÅ¾e
asociace s danou kombinacÃ­ klÃ­ÄÅ¯
\item \emph{habtmDeleteAll(\&\$model,~\$assoc,~\$id)} - smaÅ¾e vÄechny
asociace k danÃ©mu zÃ¡znamu modelu
\end{itemize}
Pro pÅ™eklady do cizÃ­ch jazykÅ¯ bylo pouÅ¾ito rozÅ¡Ã­Å™enÃ­ \emph{Translate},
kterÃ© umoÅ¾Åˆuje nadefinovat seznam sloupcÅ¯ tabulky, kterÃ© majÃ­ bÃ½t
pÅ™eklÃ¡dÃ¡ny. PÅ™eloÅ¾enÃ¡ data jsou uklÃ¡dÃ¡na v oddÄ›lenÃ© tabulce (\emph{i18n}
- lze zmÄ›nit v konfiguraci pro kaÅ¾dÃ½ model) a pÅ™i dotazu je vytoÅ™eno
spojenÃ­ s touto tabulkou pomocÃ­ sloÅ¾enÃ©ho klÃ­Äe - jmÃ©no modelu, cizÃ­
klÃ­Ä danÃ©ho modelu a jmÃ©no pÅ™eklÃ¡danÃ©ho sloupce.

A pro Ãºplnost jsou zde uvedneny zbÃ½vajÃ­cÃ­ rozÅ¡Ã­Å™enÃ­ pouÅ¾itÃ© v aplikaci,
kterÃ© zatÃ­m nejsou souÄÃ¡stÃ­ zÃ¡kladnÃ­ch knihoven frameworku.
\begin{description}
\item [{Slugable}] VytvÃ¡Å™Ã­ texty pouÅ¾itelnÃ© v URL z definovanÃ½ch sloupcÅ¯
tabulky.
\item [{Versionable}] UklÃ¡dÃ¡ aktuÃ¡lnÃ­ verzi zÃ¡znamu pÅ™ed zmÄ›nou Äi smazÃ¡nÃ­m.
\item [{Logable}] ZaznamenÃ¡vÃ¡ akce uÅ¾ivatelÅ¯.
\end{description}

\subsection{Ãšpravy zÃ¡kladnÃ­ch metod \emph{AppModel}}

JelikoÅ¾ je kontrola konzistence dat po pÅ™idÃ¡nÃ­, smazÃ¡nÃ­ a editaci
zÃ¡znamu ponechÃ¡na na databÃ¡zi, bylo potÅ™eba zajistit zpracovÃ¡nÃ­ chybovÃ½ch
hlÃ¡Å¡enÃ­ z databÃ¡ze. To se dÄ›je v metodÄ› \emph{onError()}, kterÃ¡ je
volÃ¡na pokaÅ¾dÃ©, kdyÅ¾ metoda \emph{DboSouce::execute()} vrÃ¡tÃ­ chybu.
V naÅ¡em pÅ™Ã­padÄ› je chyba zpracovÃ¡na a chybovÃ© hlÃ¡Å¡enÃ­ je uloÅ¾eno pro
pozdÄ›jÅ¡Ã­ prezentaci uÅ¾ivateli.

Pro plnou lokalizaci aplikace bylo potÅ™eba rozÅ¡Ã­Å™it metodu \emph{invalidate(\$zÃ¡znam,
\$chybovÃ©HlÃ¡Å¡enÃ­)} o pÅ™eklad chybovÃ©ho hlÃ¡Å¡enÃ­, pokud danÃ½ zÃ¡znam
neproÅ¡el validacÃ­. Lokalizaci lze rovnÄ›Å¾ provÃ¡dÄ›t pÅ™i generovÃ¡nÃ­ pohledu,
ale to se z hlediska ÃºdrÅ¾by kÃ³du nejevÃ­ jako nejvhodnÄ›jÅ¡Ã­ Å™eÅ¡enÃ­.


\section{Å˜adiÄe (\emph{Controllers})}

Å˜adiÄe jsou pouÅ¾Ã­vany ke sprÃ¡vÄ› aplikaÄnÃ­ logiky. Pro moÅ¾nost pouÅ¾Ã­vat
stejnÃ½ kus kÃ³du v rÅ¯znÃ½ch Å™adiÄÃ­ch je vhodnÃ© pouÅ¾Ã­vat komponenty.
Tyto komponenty usnadÅˆujÃ­ autentifikaci, autorizaci uÅ¾ivatelÅ¯, vyhledÃ¡vÃ¡nÃ­
v databÃ¡zi, posÃ­lÃ¡nÃ­ emailÅ¯ nebo validaci uÅ¾ivatelskÃ½ch formulÃ¡Å™Å¯.


\subsection{Komponenty}
\begin{description}
\item [{Auth/Authmd5}] StandardnÃ­ knihovna pÅ™idÃ¡vÃ¡ k heslu Å™etÄ›zec definovanÃ½
v app/config/core.php v internÃ­ promÄ›nnÃ© Security.salt. Tato vlastnost
byla v systÃ©mu na obtÃ­Å¾, hlavnÄ› kvÅ¯li pÅ™enositelnosti jiÅ¾ zadanÃ½ch
hesel v pÅ™edchozÃ­ aplikaci. Proto byla vytvoÅ™ena komponenta Authmd5,
kterÃ¡ nepÅ™idÃ¡vÃ¡ zabezpeÄovacÃ­ Å™etÄ›zec k heslu. DalÅ¡Ã­ drobnou zmÄ›nou
oproti pÅ¯vodnÃ­ komponentÄ› je automatickÃ© hashovanÃ­ hesla z formulÃ¡Å™e
i kdyÅ¾ nenÃ­ zadÃ¡no pÅ™ihlaÅ¡ovacÃ­ jmÃ©no.
\item [{P28n}] PÅ™i naÄtenÃ­ komponenty se zkontroluje zda si jiÅ¾ uÅ¾ivatel
nÄ›kdy vybral vybral jazyk, kterÃ½ byl uloÅ¾en do cookie pomocÃ­ metody
\emph{change(\$lang)}. Pokud se jazyk v cookie nenachÃ¡zÃ­ zvolÃ­ se
vÃ½chozÃ­ jazyk aplikace podle promÄ›nnÃ© \emph{HTTP\_ACCEPT\_LANGUAGE},
pokud je prohlÃ­Å¾eÄem nastavena. V opaÄnÃ©m pÅ™Ã­padÄ› je pouÅ¾it jazyk
definovanÃ½ v konstanÄ› \emph{DEFAULT\_LANGUAGE} v souboru \emph{app/config/core.php}
\cite{p28n}.
\item [{Password~Helper}] Vygeneruje ,,hezkÃ©'' a bezpeÄnÃ© heslo zadanÃ©
dÃ©lky bez opakujÃ­cÃ­ch se znakÅ¯. JednotlivÃ© znaky jsou vybÃ­rÃ¡ny z atributu\emph{
possible} danÃ© komponenty \cite{pass-gen}.
\item [{Autocomplete}] PÅ™idÃ¡vÃ¡ metodu \emph{autocomplete()}, kterÃ¡ zpracuje
zÃ­skanÃ¡ data z formulÃ¡Å™ovÃ©ho prvku s atributem name ,,\emph{data{[}Model{]}{[}poloÅ¾ka{]}}''.
NÃ¡slednÄ› vyhledÃ¡ vyhovujÃ­cÃ­ zÃ¡znamy a vygeneruje seznam s vÃ½sledky.
PÅ™idÃ¡nÃ­ doplÅˆkovÃ½ch podmÃ­nek pro vyhledÃ¡vÃ¡nÃ­ je moÅ¾nÃ© v metodÄ› \emph{beforeFilter()}
danÃ©ho Å™adiÄe nebo jeho pÅ™edka. DÄ›je se tak nastavenÃ­m atributu \emph{handles},
kde index v zadanÃ©m poli urÄuje poloÅ¾ky tabulky, kterÃ½ch se majÃ­ podmÃ­nky
tÃ½kat. NÃ¡sledujÃ­cÃ­ pÅ™Ã­klad je vybrÃ¡n z Å™adiÄe produktÅ¯, kde mÃ¡ bÃ½t
zÃ¡kaznÃ­kÅ¯m ÃºmoÅ¾nÄ›no vyhledÃ¡vat pouze v produktech, kterÃ© se jich pÅ™Ã­mo
tÃ½kajÃ­.
\end{description}
\inputencoding{latin2}
\begin{lstlisting}[basicstyle={\footnotesize\ttfamily},breaklines=true,tabsize=2]
function beforeFilter() {
	parent::beforeFilter();
	$this->Autocomplete->handles = false;
	// standardnì je doporuèeno vypnutí v¹ech políèek
	if($this->Auth->user()) {
		if (isset($this->params['prefix']) {
		// podle prefixu mù¾eme omezit práva komponentou Auth
		if ($this->params['prefix'] === 'admin') {
			$this->Autocomplete->handles = array('Product.*');
			// administratoøi mohou èíst v¹chny polo¾ky produktu
		}
		if ($this->params['prefix'] === 'customers') {
			$this->Product->Behaviors->attach('Linkable');
			// dynamické naètení chování
			$this->Autocomplete->handles = array(
				'Product.name' => array(
					'link' => array('Application'),
					'conditions' => array(
	'Application.user_id' => User::get('id'))
	// zákazníci mohou vyhledávat pouze v produktech,
	// kterıch se úèastní
			));
		}         
	}
}
\end{lstlisting}
\inputencoding{utf8}
\begin{description}
\item [{Ajaxupdate}] SlouÅ¾Ã­ pro usnadnÄ›nÃ­ editace zÃ¡znamÅ¯ pÅ™es AJAX za
podpory javascriptovÃ© knihovny \emph{control.js}, kterÃ¡ je souÄÃ¡stÃ­
balÃ­ku \emph{scriptaculous.js}.
\item [{Filter}] Komponenta pro validaci vyhledÃ¡vacÃ­ch formulÃ¡Å™Å¯ a vygenerovÃ¡nÃ­
podmÃ­nek pro vyhledÃ¡vÃ¡nÃ­.
\item [{Email}] SlouÅ¾Ã­ k odesÃ­lÃ¡nÃ­ emailÅ¯. Lze pouÅ¾Ã­vat Å¡ablony, html zprÃ¡vy
a pÅ™idÃ¡vat pÅ™Ã­lohy.
\item [{Request~Handler}] Detekuje typ poÅ¾adavku podle odeslanÃ© hlaviÄky
nebo pÅ™Ã­pony.
\end{description}

\subsection{Popis Å™adiÄÅ¯ (\emph{Controllers})}

V tÃ©to ÄÃ¡sti budou popsÃ¡ny \emph{nejdÅ¯leÅ¾itÄ›jÅ¡Ã­} ÄÃ¡sti aplikaÄnÃ­ logiky.
PÅ™i vytvÃ¡Å™enÃ­ zÃ¡kladnÃ­ kostry byla pouÅ¾ita ,,pekÃ¡rna'' kÃ³du, jejiÅ¾
vygenerovanÃ½ kÃ³d byl poslÃ©ze upraven.


\subsubsection{UÅ¾ivatelÃ©}

NejdÅ¯leÅ¾itÄ›jÅ¡Ã­mi akcemi jsou bezpochyby pÅ™ihlÃ¡Å¡enÃ­ a odhlÃ¡Å¡enÃ­ uÅ¾ivatele.
Ty jsou zajiÅ¡tÄ›ny komponentou \emph{Auth}, kterÃ¡ se nastavuje v metodÄ›
\emph{beforeFilter()} Å™adiÄe aplikace (\emph{AppController}) .
\begin{description}
\item [{login()}] Po pÅ™ihlÃ¡Å¡enÃ­ je aktualizovÃ¡na poloÅ¾ka ,,poslednÃ­ pÅ™ihlÃ¡Å¡enÃ­''
v databÃ¡zi, nastavena zprÃ¡va uÅ¾ivateli a uÅ¾ivatel je pÅ™esmÄ›rovÃ¡n na
poÅ¾adovanou nebo vÃ½chozÃ­ strÃ¡nku.
\item [{logout()}] SmaÅ¾e cookie, nastavÃ­ zprÃ¡vu o ÃºspÄ›Å¡nÃ©m odhlÃ¡Å¡enÃ­ a
pÅ™esmÄ›ruje na vÃ½chozÃ­ strÃ¡nku.
\item [{account()}] SlouÅ¾Ã­ ke zmÄ›nÄ› hesla uÅ¾ivatele. Pokud jsou poslÃ¡ny
data a hesla projdou validacÃ­, je uÅ¾ivateli nastaveno novÃ© heslo.
\item [{recover()}] UÅ¾ivatel si mÅ¯Å¾e nechat zaslat novÃ© heslo po zadÃ¡nÃ­
emailu. Je vytvoÅ™en token s platnostÃ­ 1 den. V budoucnu by bylo dobrÃ©
rozÅ¡Ã­Å™it moÅ¾nost obnovy hesla o kontrolnÃ­ otÃ¡zku.
\item [{verify(\$token)}] Zkontroluje zda se zadanÃ½ token nachÃ¡zÃ­ v databÃ¡zi
a pokud ano, zaÅ¡le uÅ¾ivateli novÄ› vygenerovanÃ© heslo.
\item [{register()}] JednoduchÃ¡ registrace uÅ¾ivatele po jejÃ­mÅ¾ dokonÄenÃ­
je uÅ¾ivateli zaslÃ¡n aktivaÄnÃ­ email.
\end{description}
VÃ½Å¡e uvedenÃ© akce jsou povoleny i nepÅ™ihlÃ¡Å¡enÃ½m uÅ¾ivatelÅ¯m pomocÃ­
metody \emph{Auth::allow(\$akce)}.
\begin{description}
\item [{admin\_account(\$id)}] UmoÅ¾nÃ­ administrÃ¡torovi zmÄ›nit heslo uÅ¾ivateli
s danÃ½m id bez znalosti starÃ©ho.
\item [{admin\_reset\_password(\$id)}] Vygeneruje uÅ¾ivateli s danÃ½m id
nÃ¡hodnÃ© heslo a zaÅ¡le ho uÅ¾ivateli na email zadanÃ½ pÅ™i registraci.
\item [{admin\_invoiceattachment()}] Jakmile jsou vyplnÄ›ny informace o
poskytovateli, zÃ¡kaznÃ­kovi a ÄasovÃ©m obdobÃ­, je vygenerovÃ¡n seznam
produktÅ¯, na kterÃ½ch se v tomto obdobÃ­ pracovalo. Provede spojenÃ­
tabulek uÅ¾ivatelÅ¯, smluv, vÃ½kazÅ¯, produktÅ¯, udÃ¡lostÃ­ a pÅ™ihlÃ¡Å¡ek danÃ©ho
zÃ¡kaznÃ­ka. Vyberou se pouze ty, kterÃ© majÃ­ zÃ¡znam v tabulce udÃ¡lostÃ­
v danÃ©m intervalu. Nakonec jsou k nalezenÃ½m zÃ¡znamÅ¯m pÅ™idÃ¡ny informace
o jednotlivÃ½ch datech a mnoÅ¾stvÃ­ vykÃ¡zanÃ½ch jednotek. Podle nastavenÃ­
zpÅ¯sobu ÃºÄtovÃ¡nÃ­ je vypoÄÃ­tÃ¡na vÃ½slednÃ¡ cena bez DPH.
\end{description}

\subsubsection{Produkty}

KromÄ› bÄ›Å¾nÃ½ch akcÃ­ pro fitrovÃ¡nÃ­, zobrazenÃ­, editovÃ¡nÃ­ a smazÃ¡nÃ­ produktu
administrÃ¡torem, jsou zde i metody pro export dat a tisk pÅ™ehledÅ¯.
\begin{description}
\item [{admin\_export()}] Vygeneruje CSV soubor s nalezenÃ½mi produkty podle
vyplnÄ›nÃ©ho filtru.
\item [{admin\_schedule()}] Pro kaÅ¾dÃ½ produkt vyhovujÃ­cÃ­ podmÃ­nkÃ¡m filtru
vyhledÃ¡ dny v tÃ½dnu, ve kterÃ½ch probÃ­hÃ¡ vÃ½uka a pÅ™idÃ¡ informaci o
ÄasovÃ©m intervalu.
\item [{admin\_schedulePdf()}] PouÅ¾ije vÃ½Å¡e uvedenou metodu k nalezenÃ­
dat. PotÃ© vygeneruje pdf soubor a nabÃ­dne jej uÅ¾ivateli ke staÅ¾enÃ­.
\end{description}

\subsubsection{Smlouvy}

Å˜adiÄ smluv definuje rÅ¯znÃ½ pÅ™Ã­stup k datÅ¯m pro administrÃ¡tora a dodavatele,
kteÅ™Ã­ mohou nahlÃ­Å¾et pouze na svÃ© smlouvy a nemohou je editovat (metody
\emph{employees\_index()}, \emph{employess\_view(\$id)}). 
\begin{description}
\item [{admin\_payment()}] Na zÃ¡kladÄ› filtru vybere odpovÃ­dajÃ­cÃ­ smlouvy
a~vygeneruje pÅ™ehled pro sestavenÃ­ vÃ½plat a kontrolu pÅ™ijatÃ½ch faktur
od dodavatelÅ¯. ZÃ¡kladnÃ­ schÃ©ma vÃ½poÄtu pro rok 2008 bylo nÃ¡sledujÃ­cÃ­:\inputencoding{latin2}
\begin{lstlisting}[basicstyle={\ttfamily},breaklines=true,tabsize=2]
if typ slu¾by == slu¾ba then
	if zpùsob platby == hotovì then
		zaokrouhli vıplatu na 50 haléøù
	endif
else if plátce danì then
		if vıplata > 5000 then
			zálohová daò := 15% z vıplaty
		else
			srá¾ková daò := 15% z vıplaty
		endif
endif
\end{lstlisting}
\inputencoding{utf8}Slabinou systÃ©mu je, Å¾e nedokÃ¡Å¾e generovat pÅ™ehledy pro odvody na
sociÃ¡lnÃ­m a zdravotnÃ­m pojiÅ¡tÄ›nÃ­ placenÃ½ch zamÄ›stnavatelem.
\end{description}

\subsubsection{PÅ™Ã­jmovÃ© doklady}

Pro zobrazenÃ­ dokladu a vygenerovÃ¡nÃ­ poloÅ¾ek k zaplacenÃ­ slouÅ¾Ã­ metoda
\emph{admin\_view(\$id)}. Pro kaÅ¾dÃ½ produkt se seÄtou jiÅ¾ zaplacenÃ©
poloÅ¾ky a celkovÃ½ poÄet poloÅ¾ek k zaplacenÃ­. RozdÃ­l tÄ›chto dvou mezivÃ½sledkÅ¯
urÄuje nedoplatek popÅ™Ã­padÄ› pÅ™eplatek na danÃ©m produktu. JelikoÅ¾ je
rozhranÃ­ pro pÅ™idÃ¡vÃ¡nÃ­ a mazÃ¡nÃ­ poloÅ¾ek z dokladu postaveno na AJAXu
jsou vytvoÅ™eny dvÄ› metody \emph{admin\_additem()} a \emph{admin\_delitem()},
kterÃ© po provedenÃ­ akce vygenerujÃ­ element s aktualizovanÃ½mi poloÅ¾kami
dokladu.


\subsubsection{UdÃ¡losti v kalendÃ¡Å™i}

Pro pÅ™ehlednÃ© zobrazenÃ­ ÃºdÃ¡lostÃ­ jsou na vÃ½bÄ›r dvÄ› moÅ¾nosti. Tou prvnÃ­
je zobrazenÃ­ vÅ¡ech udÃ¡lostÃ­ v danÃ©m mÄ›sÃ­ci v tabulce podobnÃ© kalendÃ¡Å™i.
K tomuto ÃºÄelu slouÅ¾Ã­ metoda \emph{PREFIX\_calendar()}, kterou jsou
zÃ­skÃ¡ny vÅ¡echny zÃ¡znamy vyhovujÃ­cÃ­ filtru a pro generovÃ¡nÃ­ pohledu
je pouÅ¾it pomocnÃ­k tÅ™Ã­dy \emph{CalendarHelper::calendar()}.

Druhou variantou je tÃ½dennÃ­ zobrazenÃ­ vÄetnÄ› Äasu. Data jsou nejdÅ™Ã­v
seÅ™azena a vÃ­cedennÃ­ zÃ¡znamy se rozdÄ›lÃ­ do nÄ›kolika jednodennÃ­ch (napÅ™.
udÃ¡lost 8.7.2009 16:00 - 9.7.2009 14:00 je rozdÄ›lena na 8.7.2009 16:00-24:00
a 9.7-2009 00:00-14:00). RozdÄ›lenÃ© zÃ¡znamy jsou pak vykresleny pomocÃ­
metody \emph{CalendarHelper::week()}.


\section{DoplÅˆky (Pluginy)}


\subsection{VyhledÃ¡vacÃ­ modul (\emph{Searchable})}

NejdÅ¯leÅ¾itÄ›jÅ¡Ã­m poÅ¾adavkem na tento modul je rychlost. JelikoÅ¾ byl
vybrÃ¡n databÃ¡zovÃ½ systÃ©m MySQL, kterÃ½ ve verzi 5.2 umoÅ¾Åˆuje fultextovÃ©
vyhledÃ¡nÃ¡nÃ­ pouze nad tabulkami typu MyISAM, bylo potÅ™eba zajistit,
Å¾e pÅ¯jde rychle vyhledÃ¡vat i data obsaÅ¾enÃ¡ tabulkÃ¡ch typu InnoDB.

@todo


\subsection{Komprimace skriptÅ¯ a kaskÃ¡dovÃ½ch stylÅ¯ (\emph{Asset})}


\chapter{UÅ¾ivatelskÃ¡ dokumentace}

UÅ¾ivatelskÃ¡ dokumentace si klade za cÃ­l struÄnÄ› pÅ™iblÃ­Å¾it ÄtenÃ¡Å™i
vÃ½hody informaÄnÃ­ho systÃ©mu a jeho zÃ¡kladnÃ­mi zpÅ¯soby ovlÃ¡dÃ¡nÃ­. V
jednotlivÃ½ch ÄÃ¡stech je vysvÄ›tleno, jak mÃ¡ sprÃ¡vce postupovat od ÃºvodnÃ­
instalace, pÅ™es inicializaci databÃ¡ze, uloÅ¾enÃ­ informacÃ­ o uÅ¾ivatelÃ­ch,
pÅ™idÃ¡nÃ­ produktÅ¯ aÅ¾ po tisk ÃºÄetnÃ­ch podkladÅ¯. 

DodavatelÅ¯m a zamÄ›stnancÅ¯m je nÃ¡zornÄ› pÅ™edvedeno, jak sprÃ¡vnÄ› vyplnit
mÄ›sÃ­ÄnÃ­ vÃ½kazy a jak vÃ©st evidenci dochÃ¡zky ÃºÄastnÃ­kÅ¯ kurzÅ¯. 

ZÃ¡kaznÃ­kÅ¯m je vysvÄ›tlen postup, kterÃ½m jednoduÅ¡e zjistÃ­, kolik z objednanÃ½ch
sluÅ¾eb jiÅ¾ bylo zaplaceno, zkontrolujÃ­ prÅ¯bÄ›h aktuÃ¡lnÃ­ch kurzÅ¯ Äi
poÄet pÅ™eloÅ¾enÃ½ch stran pÅ™ekladu.

Studenti si mohou zobrazit rozvrh hodin na dalÅ¡Ã­ tÃ½dny a zkontrolovat
zaznamenanou dochÃ¡zku.


\section{Instalace serveru}

Pro bÄ›h serverovÃ© aplikace je nutnÃ© mÃ­t program, kterÃ½ ÃºmoÅ¾nuje zpracovÃ¡nÃ­
zdrojovÃ½ch kÃ³dÅ¯ a prezentaci vÃ½stupu protokolem HTTP popÅ™Ã­padÄ› HTTPS.
NejznÃ¡mÄ›jÅ¡Ã­m volnÄ› dostupnÃ½m programem je Apache {[}http://httpd.apache.org/{]},
kterÃ½ ÃºmoÅ¾nuje pomocÃ­ modulÅ¯ {[}http://httpd.apache.org/modules/{]}
pÅ™idat podporu pro jazyk PHP nutnÃ½ k bÄ›hu IS.


\subsection{StaÅ¾enÃ­ a instalace Apache}

Pokud je systÃ©m instalovÃ¡n na nÄ›kterou z~modernÃ­ch linuxovÃ½ch distribucÃ­,
je doporuÄeno nejdÅ™Ã­ve prohledat jejÃ­ repozitÃ¡Å™e. Ve vÄ›tÅ¡inÄ› pÅ™Ã­padÅ¯
se zde nachÃ¡zÃ­ jiÅ¾ hotovÃ½ balÃ­k upravenÃ½ pro snadnÄ›jÅ¡Ã­ instalaci a~konfiguraci.

\inputencoding{latin2}
\begin{lstlisting}
# Debian a jeho derivace (Ubuntu, Kubuntu, ...):
apt-get install apache2
# Gentoo
emerge apache2
\end{lstlisting}
\inputencoding{utf8}

V opaÄnÃ©m pÅ™Ã­padÄ› je nutnÃ© stÃ¡hnout archÃ­v zdrojovÃ½ch kÃ³dÅ¯ nebo pÅ™edkompilovanou
ze strÃ¡nek projektu%
\footnote{\href{http://httpd.apache.org/download.cgi}{http://httpd.apache.org/download.cgi}%
} a postupovat podle \cite{apache2}.


\subsection{Konfigurace Apache}

Pro sprÃ¡vnou funkci aplikace je potÅ™eba doinstalovat, popÅ™Ã­padÄ› povolit
nÃ¡sledujÃ­cÃ­ moduly: \textit{mod\_php5}, \textit{mod\_rewrite} a \textit{mod\_ssl.}
Pro sprÃ¡vnou funkci zabezpeÄenÃ©ho pÅ™ipojenÃ­ je nutnÃ© vygenerovat certifikÃ¡ty
a upravit konfiguraci strÃ¡nek.


\subsection{StaÅ¾enÃ­ a instalace MySQL serveru\label{sub:Sta=00017Een=0000ED-a-instalace}}

uÅ¾ivatelskÃ© jmÃ©no: isadb\\
heslo: isapass


\section{UmÃ­stÄ›nÃ­ aplikace}

Pokud mÃ¡me server sprÃ¡vnÄ› nakonfigurovanÃ½, zkopÃ­rujeme sloÅ¾ku s aplikacÃ­
do adresÃ¡Å™e urÄenÃ©ho konfiguracÃ­ Apache (obvykle /var/www Äi C:\textbackslash{}\textbackslash{}Program
Files\textbackslash{}apache2\textbackslash{}www - budeme oznaÄovat
\emph{ROOT}). Pro vÄ›tÅ¡Ã­ bezpeÄnost je doporuÄeno zmÄ›nit ,,webroot''
v konfiguraci apache na sloÅ¾ku \emph{ROOT}/app/webroot. DÃ¡le je potÅ™eba
nastavit pÅ™ihlaÅ¡ovacÃ­ Ãºdaje k databÃ¡zi podle \ref{sub:Sta=00017Een=0000ED-a-instalace}pÅ™edchozÃ­
ÄÃ¡sti v souboru \emph{ROOT}/app/config/database.php .


\section{Inicializace databÃ¡ze}

V souboru \emph{ROOT}/app/config/sql/isa\_init.sql se nachÃ¡zÃ­ MySQL
5.0+ kompatibilnÃ­ skript, kterÃ½ vytvoÅ™Ã­ tabulky a naplnÃ­ je daty nutnÃ½mi
k prvnÃ­mu pÅ™ihlÃ¡Å¡enÃ­ administrÃ¡tora.


\section{UpÅ™esÅˆujÃ­cÃ­ informace}

Pro dalÅ¡Ã­ ÄtenÃ­ manuÃ¡lu je potÅ™eba upÅ™esnit nÄ›kolik dÅ¯leÅ¾itÃ½ch pojmÅ¯,
kterÃ© se budou dÃ¡le vyskytovat.
\begin{description}
\item [{SystÃ©movÃ¡~skupina}] je nutnÃ¡ pro sprÃ¡vnÃ© fungovÃ¡nÃ­ IS.
\end{description}
Tato sekce je rozdÄ›lena podle rolÃ­ definovanÃ½ch v IS.
\begin{description}
\item [{SprÃ¡vce:}] povÄ›Å™enÃ½ uÅ¾ivatel s plnÃ½mi prÃ¡vy ke vÅ¡em modulÅ¯m systÃ©mu.
\item [{Editor:}] osoba s omezenÃ½mi prÃ¡vy k editaci vybranÃ½ch modulÅ¯.
\item [{DodavatelÃ©:}] zamÄ›stnanec, brigÃ¡dnÃ­k Äi jinÃ½ subjekt vykonÃ¡vajÃ­cÃ­
zadanou prÃ¡ci.
\item [{OdbÄ›ratelÃ©:}] zÃ¡kaznÃ­ci, kteÅ™Ã­ si objednali libovolnÃ½ produkt.
\item [{PoskytovatelÃ©:}] subjekty, kterÃ© jsou vedeny ,,pod jednou stÅ™echou''
a sdÃ­lÃ­ ÄÃ¡st informacÃ­.
\item [{ÃšÄastnÃ­ci:}] studenti jednotlivÃ½ch kurzu. 
\end{description}
VÃ½Å¡e popsanÃ© role mohou bÃ½t zmÄ›nÄ›ny Äi zakÃ¡zÃ¡ny administrÃ¡torem systÃ©mu.
ÄŒtenÃ¡Å™i je doporuÄeno ÄÃ­st pouze ÄÃ¡sti, jenÅ¾ se ho tÃ½kajÃ­.
\begin{description}
\item [{PoznÃ¡mka:}] Text u odkazu na zobrazenÃ­, editaci nebo smazÃ¡nÃ­ zÃ¡znamu
mohou bÃ½t nahrazeny po Å™adÄ› obrÃ¡zky: \includegraphics[scale=0.8]{more},\includegraphics[scale=0.8]{edit}
a \includegraphics[scale=0.8]{delete}.
\end{description}

\section{SprÃ¡vce (hlavnÃ­ manaÅ¾er)}

MÃ¡ standardnÄ› nastavena veÅ¡kerÃ¡ pÅ™Ã­stupovÃ¡ prÃ¡va ke vÅ¡em modulÅ¯m systÃ©mu. 


\subsection{SprÃ¡va IS}

Tento modul obsahuje moduly pro nastavenÃ­ jednotlivÃ½ch ÄÃ¡stÃ­ systÃ©mu,
sprÃ¡vu uÅ¾ivatelÅ¯, skupin, prÃ¡v a ostatnÃ­ch ÄÃ­selnÃ­kÅ¯ (danÄ›, mÃ­stnosti,
kategorie produktÅ¯).


\subsubsection{UÅ¾ivatelÃ© (Users)\label{sub:U=00017Eivatel=0000E9-(Users)}}

Modul \noun{UÅ¾ivatelÃ©} nabÃ­zÃ­ veÅ¡kerÃ© nastavenÃ­ potÅ™ebnÃ© pro definovÃ¡nÃ­
moÅ¾nostÃ­ pÅ™i uÅ¾Ã­vÃ¡nÃ­ systÃ©mu osobami majÃ­cÃ­mi vztah k IS. DÃ¡le jsou
zde uchovÃ¡ny veÅ¡kerÃ© osobnÃ­ informace dÅ¯vÄ›rnÃ©ho charakteru.
\begin{description}
\item [{Filtr~seznam~uÅ¾ivatelÅ¯~{[}/admin/Users/index{]}:}] V hornÃ­ ÄÃ¡sti
se nachÃ¡zÃ­ odkazy na akce souvisejÃ­cÃ­ s uÅ¾ivately. Filtry pro prÃ¡ci
se seznamem uÅ¾ivatelÅ¯ jsou umÃ­stÄ›ny nad hlavnÃ­ tabulkou a v hlaviÄce
tabulky s funkcÃ­ ,,naÅ¡eptÃ¡vaÄe'' a jejich zm
\item [{PÅ™idÃ¡nÃ­~uÅ¾ivatele~{[}/admin/Users/add{]}:}] Odkaz na formulÃ¡Å™
je hlavnÃ­m menu a v ÄÃ¡stech, kterÃ© na uÅ¾ivatelÃ­ch zÃ¡visÃ­. Jedinnou
povinnou poloÅ¾kou je \emph{zobrazovanÃ© jmÃ©no}, kterÃ¡ slouÅ¾Ã­ jako popisek
ve vÅ¡ech vÃ½bÄ›rovÃ½ch filtrech. OstatnÃ­ poloÅ¾ky je moÅ¾nÃ© vyplnit aÅ¾
pÅ™i jejich potÅ™ebÄ› ve vÃ½pisu. Volba \emph{AktivnÃ­} slouÅ¾Ã­ k aktivaci
uÅ¾ivatelskÃ©ho ÃºÄtu. UÅ¾ivatel je schopen se pÅ™ihlÃ¡sit pouze pokud je
jeho ÃºÄet aktivnÃ­.
\item [{Editace~uÅ¾ivatele:}] UÅ¾ivatele lze vyhledat pÅ™es filtr seznamÅ¯
uÅ¾ivatelÅ¯ nebo pÅ™es formulÃ¡Å™ rychlÃ©ho hledÃ¡nÃ­. V prnÃ­m pÅ™Ã­padÄ› kliknÄ›te
na Vyberte odpovÃ­dajÃ­cÃ­ skupinu k editaci a pro uloÅ¾enÃ­ zmÄ›n pouÅ¾ijte
tlaÄÃ­tko \emph{UloÅ¾it}. V pÅ™Ã­padÄ› chybovÃ©ho hlÃ¡Å¡enÃ­ zkontrolujte vÅ¡echny
skupiny ÃºdajÅ¯.
\item [{ZobrazenÃ­~uÅ¾ivatele:}] @todo
\item [{NastavenÃ­~Äi~zmÄ›na~hesla:}] V profilu uÅ¾ivatele kliknÄ›te na
odkaz ZmÄ›nit heslo a vyplÅˆte novÃ© heslo do obou kolonek. SprÃ¡vce mÅ¯Å¾e
editovat hesla vÅ¡em uÅ¾ivatelÅ¯m a mÄ›l by je o tÃ©to zmÄ›nÄ› informovat
zabezpeÄenÃ½m kanÃ¡lem{[}@todo definovat zabezpeceny kanal{]}, aby se
pÅ™edeÅ¡lo zneuÅ¾itÃ­ jejich ÃºÄtu.
\end{description}

\subsubsection{Skupiny a oprÃ¡vnÄ›nÃ­}

V tomto modulu mÅ¯Å¾ete pÅ™idÃ¡vat a mazat uÅ¾ivatelskÃ© skupiny a oprÃ¡vnÄ›nÃ­.
Pro zachovÃ¡nÃ­ sprÃ¡vnÃ©ho fungovÃ¡nÃ­ systÃ©mu nemaÅ¾te tyto systÃ©movÃ© skupiny:
customers, employees, providers, students a admin.

PÅ™i implicitnÃ­ nastavenÃ­ mÃ¡ kaÅ¾dÃ¡ ze systÃ©movÃ½ch skupin prÃ¡va definovanÃ©
a pÅ™iÅ™azenÃ© oprÃ¡vnÄ›nÃ­ k prefixovanÃ½m akcÃ­m jednotlivÃ½ch modulÅ¯. Tyto
oprÃ¡vnÄ›nÃ­ jsou definovÃ¡ny tÃ­mto zpÅ¯sobem: \emph{{*}:customers\_{*},
{*}:employees\_{*}, {*}:providers\_{*}, {*}:students\_{*}, {*}:admin\_{*}}
a Å™Ã­kajÃ­, Å¾e danÃ¡ skupina mÅ¯Å¾e v libovolnÃ©m modulu spouÅ¡tÄ›t akce zaÄÃ­najÃ­cÃ­m
jejich jmÃ©nem. V pÅ™Ã­kladu byl pouÅ¾it expanznÃ­ znak ,,{*}'', kterÃ½
je moÅ¾nÃ© pouÅ¾Ã­vat k nahrazenÃ­ libovonÃ©ho poÄtu libovolnÃ½ch znakÅ¯,
a ,,:'', jenÅ¾ urÄuje hranici mezi modulem a akcÃ­ (napÅ™. oprÃ¡vnÄ›nÃ­
\emph{Users:{*}\_view} umoÅ¾nÃ­ zobrazit vÅ¡echny prefixovanÃ© akce \emph{view}
v modulu \noun{UÅ¾ivatelÃ©}).

KaÅ¾dÃ¡ skupina mÅ¯Å¾e mÅ¯Å¾e mÃ­t pÅ™iÅ™azeno vÃ­ce definovanÃ½ch oprÃ¡vnÄ›nÃ­
a je na sprÃ¡vci, jak s nimi bude zachÃ¡zet.


\subsubsection{ÄŒÃ­selnÃ­ky}

V tÃ©to ÄÃ¡sti se seznÃ¡mÃ­me se vÅ¡emi ÄÃ­selnÃ­ky, jejich funkcemi v systÃ©mu
a moÅ¾nostÃ­ editace. VÅ¡echy dÃ¡le uvedenÃ© moduly obsahujÃ­ automaticky
generovanÃ½ ÄÃ­selnÃ½ identifikÃ¡tor (dÃ¡le jen \emph{id}), kterÃ½ slouÅ¾Ã­
pro internÃ­ potÅ™eby systÃ©mu a nenÃ­ moÅ¾nÃ© ho zmÄ›nit. DÃ¡le je potÅ™eba
upozornit na fakt, Å¾e vytvoÅ™enÃ© poloÅ¾ky v ÄÃ­selnÃ­ku, kterÃ© jiÅ¾ byly
v systÃ©mu pÅ™izazeny nÄ›jakÃ½m zÃ¡znamÅ¯m, nelze vymazat. VymazÃ¡nÃ­ je umoÅ¾nÄ›no
aÅ¾ kdyÅ¾ je ÄÃ­selnÃ­k u danÃ½ch zÃ¡znamÅ¯ zmÄ›nÄ›n.
\begin{description}
\item [{Kategorie\label{kategorie}}] obsahuje nÃ¡zev, zkratku, jednoduchÃ½
slovnÃ­ popis a zaÅ¡ktÃ¡vacÃ­ polÃ­Äko urÄujÃ­cÃ­, zda se produkty v tÃ©to
kategorii povaÅ¾ujÃ­ za veÅ™ejnÃ© a mÃ¡ se zobrazovat jejich rozvh na webovÃ½ch
strÃ¡nkÃ¡ch. ÃšÄel ÄÃ­selnÃ­ku spoÄÃ­va v rozÄlenÄ›nÃ­ mnoÅ¾stvÃ­ produktÅ¯ do
skupin, podle kterÃ½ch lze vytvÃ¡Å™et tiskovÃ© sestavy (pÅ™Ã­lohy faktur,
rozvrhy, mÄ›sÃ­ÄnÃ­ pÅ™ehledy nÃ¡kladÅ¯, ...).
\item [{MÃ­sta\label{m=0000EDsta}}] obsahujÃ­ nÃ¡zev a adresu. SlouÅ¾Ã­ k odkazu
na mÃ­sto v udÃ¡lostech.
\item [{Å tÃ­tky\label{st=0000EDtky}}] obsahujÃ­ nÃ¡zev a odkaz na nadÅ™azenÃ½
Å¡tÃ­tek, pro moÅ¾nost tvorby hierarchickÃ© struktury ÄlÃ¡nkÅ¯.
\end{description}

\subsection{Produkty}

Modul \noun{Produkty} je zÃ¡vislÃ½ na sprÃ¡vnÄ› rozdÄ›lenÃ½ch uÅ¾ivatelÃ­ch
do systÃ©movÃ½ch skupin. RovnÄ›Å¾ je doporuÄeno pÅ™edvyplnit ÄÃ­selnÃ­k kategoriÃ­
produktÅ¯.


\subsubsection{VytvoÅ™enÃ­ novÃ©ho produktu (jednoduchÃ¡ verze)}

Vyberte kategorii a poskytovatele. DÃ¡le vyplÅˆte nÃ¡zev produktu a infomaci
o datu zahÃ¡jenÃ­ a pÅ™edpoklÃ¡danÃ©m Äi Å¾Ã¡danÃ©m datu ukonÄenÃ­ pracÃ­. DÃ¡le
si Å™eknÄ›me, jak se vypoÄÃ­tÃ¡ vÃ½slednÃ¡ cena (bez DPH) pro zÃ¡kaznÃ­ka.
Od toho se bude odvÃ­jet dalÅ¡Ã­ vyplÅˆovÃ¡nÃ­ formulÃ¡Å™e.

Stanovte si, jak budete danÃ½ produkt nabÃ­zet a od Äeho se odvÃ­jÃ­ nÃ¡klady.
V~pÅ™Ã­padÄ›, Å¾e se nÃ¡klady odvÃ­jÃ­ od poÄtu zÃºÄastnÄ›nÃ½ch osob zaÅ¡rtnÄ›te
moÅ¾nost \emph{PoÄÃ­tat ÃºÄastnÃ­ky}. Pokud nevÃ­te dopÅ™edu kolik hodin
bude oduÄeno Äi kolik normostran bude ÃºÄtovÃ¡no a nÃ¡klady na nÄ› nejsou
fixnÃ­, zaÅ¡krtnÄ›te moÅ¾nost \emph{PoÄÃ­tat mnoÅ¾stvÃ­}. CelkovÃ¡ cena bude
spoÄÃ­tÃ¡na takto:
\begin{itemize}
\item JednotkovÃ¡ cena je vynÃ¡sobena poÄtem ÃºÄastnÃ­kÅ¯ pokud byla odpovÃ­dajÃ­cÃ­
volba zaÅ¡krtnuta
\item MezisouÄet je vynÃ¡soben souÄtem odpracovanÃ½ch jednotek v udÃ¡lostech
ve vÃ½kazech pÅ™iÅ™azenÃ½ch v produktu pokud byla volba \emph{poÄÃ­tat
mnoÅ¾stvÃ­} zaÅ¡krtnuta.
\end{itemize}
TeÄ uÅ¾ zbÃ½vÃ¡ doplnit zbÃ½vajÃ­cÃ­ povinnÃ© poloÅ¾ky a to jednotku a jednotkovou
cenu.


\subsubsection{FiltrovÃ¡nÃ­ produktÅ¯}

Pro filtrovÃ¡nÃ­ produktÅ¯ mÅ¯Å¾ete pouÅ¾Ã­t ,,naÅ¡eptÃ¡vaÄ'' u jednotlivÃ½ch
polÃ­. VyplnÄ›nÃ­m ÄÃ¡sti hledanÃ©ho vÃ½razu, se zobrazÃ­ seznam poloÅ¾ek,
kterÃ© tento vÃ½raz obsahujÃ­ (obrÃ¡zek\vref{fig:Na=000161ept=0000E1va=00010D}).%
\begin{figure}
\noindent \begin{centering}
\includegraphics{autocomplete}
\par\end{centering}

\caption{\label{fig:Na=000161ept=0000E1va=00010D},,NaÅ¡eptÃ¡vaÄ''}

\end{figure}



\subsubsection{OdstranÄ›nÃ­ produktu}

OdstranÄ›nÃ­ produktu nenÃ­ povoleno, pokud obsahuje vÃ½kazy nebo pÅ™ihlÃ¡Å¡ky.
Nejprve je nutnÃ© zkontrolovat, Å¾e jednotlivÃ© poloÅ¾ky na vÃ½kazech nebyly
zaÃºÄtovÃ¡ny a ty pak nÃ¡slednÄ› vymazat. DalÅ¡Ã­ problÃ©m mÅ¯Å¾e nastat, pokud
jiÅ¾ byl vydÃ¡n pÅ™Ã­jmovÃ½ doklad. V tom pÅ™Ã­padÄ› z nÄ›j musÃ­te stornovat
pÅ™Ã­sluÅ¡tÃ© poloÅ¾ky vztahujÃ­cÃ­ se k danÃ©mu produktu. PÅ™i splnÄ›nÃ­ vÅ¡ech
tÄ›chto podmÃ­nek bude smazÃ¡nÃ­ umoÅ¾nÄ›no.


\subsection{VÃ½kazy}


\subsubsection{VyhledÃ¡nÃ­ a filtrovÃ¡nÃ­ vÃ½kazÅ¯}

V menu nebo produktech kliknÄ›te na \emph{Zobrazit vÃ½kazy}. V hornÃ­
tabulce je moÅ¾nÃ© zaÅ¡krtnou pouze nÄ›kterÃ© kategorie produktÅ¯, ke kterÃ½m
byly vÃ½kazy pÅ™idÃ¡ny.


\subsubsection{VytvoÅ™enÃ­~a~pÅ™iÅ™azenÃ­~vÃ½kazu~k~produktu }

VytvoÅ™enÃ­ a pÅ™iÅ™azenÃ­ vÃ½kazu k produktu provÃ¡dÄ›jte pouze pokud je
produkt, ke kterÃ©mu chcete pÅ™idat vÃ½kaz, jiÅ¾ vytvoÅ™en. 

V menu kliknÄ›te na poloÅ¾ku \emph{PÅ™idat vÃ½kaz} a vyplÅˆte nÃ¡slednÃ½
formulÃ¡Å™. U dodavatele se rozliÅ¡uje se i typ smlouvy uvedenÃ½ v zÃ¡vorce.
Sazba a jednotka jsou rovnÄ›Å¾ povinnÃ© poloÅ¾ky.

DalÅ¡Ã­ moÅ¾nostÃ­, jak pÅ™iÅ™adit novÃ½ vÃ½kaz, je pÅ™es modul \noun{Produkty}
(nebo pÅ™es ,,rychlÃ© hledÃ¡nÃ­''), kde lze snadno vyhledat danÃ½ produkt.
Zobrazte si detaily nalezenÃ©ho produktu a ve skupinÄ› \emph{PÅ™iÅ™azenÃ©
vÃ½kazy} kliknÄ›te na odkaz \emph{PÅ™idat vÃ½kaz}.


\subsubsection{PÅ™idÃ¡nÃ­ udÃ¡losti k vÃ½kazu}

Vyhledejte a zobrazte vÃ½kaz.


\subsection{Tipy na urychlenÃ­ prÃ¡ce}

ZvlÃ¡Å¡tnÃ­ formulÃ¡Å™ na pÅ™idÃ¡nÃ­ produktu spolu se zÃ¡kaznÃ­kem i dodavatelem
umoÅ¾nÃ­ rychlejÅ¡Ã­ zadÃ¡vÃ¡nÃ­ vÄ›tÅ¡Ã­ho mnoÅ¾stvÃ­ novÃ½ch produktÅ¯.


\section{Dodavatel}

Dodavatel mÃ¡ pÅ™Ã­stup, ke vÅ¡em produktÅ¯m, kde mÄ›l pÅ™iÅ™azen alespoÅˆ
jeden vÃ½kaz.

zadÃ¡vÃ¡nÃ­ vÃ½kazu,

evidence dochÃ¡zky do kurzÅ¯


\chapter{ExistujÃ­cÃ­ implementace}

ExistujicÃ­ implementace lze rozdÄ›lit na nÄ›kolik skupin. Å½Ã¡dnÃ¡ vÅ¡ak
nepokrÃ½vÃ¡ veÅ¡kerÃ© poÅ¾adavky v plnÃ©m rozsahu vzhledem ke specifickÃ½m
poÅ¾adavkÅ¯m na zpÅ¯sob vedenÃ­ evidence a ÃºÄtovÃ¡nÃ­ sluÅ¾eb. Oblastmi,
kde by vyuÅ¾itÃ­ existujÃ­cÃ­ch systÃ©mu pÅ™ipadalo v Ãºvahu jsou sprÃ¡va
obsahu pro prezentaci na Internetu a podpora on-line vzdÄ›lÃ¡vÃ¡nÃ­. PrvnÃ­
skupina systÃ©mÅ¯ je oznaÄovÃ¡na anglickou zkratkou CMS%
\footnote{\emph{Content Management System} - systÃ©m pro sprÃ¡vu obsahu%
} nebo WCMS a lze ji rozdÄ›lit do podskupin podle zpÅ¯sobu, jakÃ½m prezentujÃ­
uloÅ¾enÃ¡ data.
\begin{description}
\item [{Offline~zpracovÃ¡nÃ­}] Server vygeneruje statickÃ© HTML pÅ™ed samotnou
publikacÃ­. Proto takovÃ© systÃ©my nepoÅ™ebujÃ­, aby server aplikoval Å¡ablony
na data pÅ™i kaÅ¾dÃ©m poÅ¾adavku. VÃ½hody jsou zjevnÃ© pro vytÃ­Å¾enÃ© CMS
pouÅ¾Ã­vanÃ© pÅ™evÃ¡Å¾nÄ› pro ÄtenÃ­ dat. Naopak pÅ™i ÄastÃ½ch zmÄ›nÃ¡ch dat mohou
bÃ½t tyto systÃ©my pomalÃ© nebo neaktuÃ¡lnÃ­, proto je nutnÃ© si jejich
nasazenÃ­ Å™Ã¡dnÄ› rozmyslet. PÅ™Ã­kladem takovÃ©ho systÃ©mu je napÅ™Ã­klad
Vignette CMS.
\item [{Online~zpracovÃ¡nÃ­}] Server generuje prezentaÄnÃ­ data aÅ¾ na zÃ¡kladÄ›
poÅ¾adavkÅ¯ klienta. To znamenÃ¡, Å¾e server mÃ¡ daleko vÃ­ce prÃ¡ce. Proto
je vhodnÃ©, aby vygenerovanÃ¡ data uloÅ¾il do vyrovnÃ¡vacÃ­ pamÄ›ti a pÅ™i
dalÅ¡Ã­m stejnÃ©m dotazu vrÃ¡til poÅ¾adovanÃ¡ data pÅ™Ã­mo z nÃ­. Mezi nejznÃ¡mÄ›jÅ¡Ã­
open source systÃ©my patÅ™Ã­ Joomla, Drupal, WordPress, TangoCMS, DotNetNuke
a Zope. PokroÄilÃ© systÃ©my umoÅ¾ÅˆujÃ­ i Ãºpravy zÃ¡kladnÃ­ch Å¡ablon, bez
zÃ¡sahu do zdrojovÃ½ch kÃ³du pomocÃ­ nÃ¡strojÅ¯ WYSIWYG%
\footnote{Akronym vzniklÃ½ z anglickÃ© vÄ›ty ,,What You See Is What You Get, oznaÄuje
zpÅ¯sob editace, pÅ™i kterÃ©m je dokument na obrazovce totoÅ¾nÃ½ s vÃ½slednou
verzÃ­\cite{wysiwyg}.%
}.
\item [{HybridnÃ­}] Jak jiÅ¾ nÃ¡zev napovÃ­dÃ¡, tyto systÃ©my kombinujÃ­ oba pÅ™edchozÃ­
pÅ™Ã­stupy. PÅ™Ã­kladem takovÃ©ho systÃ©mu je Blosxom, kterÃ½ se doÄkal mnoha
implementacÃ­ v rÅ¯znÃ½ch programovacÃ­ch jazycÃ­ch.
\end{description}

\section{CMS}

SystÃ©mu pro sprÃ¡vu obsahu existuje celÃ¡ Å™ada. Zde si struÄnÄ› pÅ™edstavÃ­me
nejznÃ¡mÄ›jÅ¡Ã­ trojici open source sprÃ¡vcÅ¯ webovÃ©ho obsahu napsanÃ½ch
v PHP. CelkovÄ› se systÃ©my moc neodliÅ¡ujÃ­ a vÅ¡echny majÃ­ silnou komunitu,
kterÃ¡ se starÃ¡ o vÃ½voj a rozÅ¡Ã­Å™enÃ­.

Je moÅ¾nÃ©, Å¾e pÅ™i dalÅ¡Ã­m vÃ½voji informaÄnÃ­ho systÃ©mu, bude nÄ›kterÃ½
z tÄ›chto sprÃ¡vcÅ¯ nahradÃ­ primitivnÃ­ publikaÄnÃ­ systÃ©m, jenÅ¾ byl v
systÃ©mu implementovÃ¡n.


\subsection{Joomla!}

SystÃ©m Joomla! je vyvÃ­jen od roku 2005 a vznikl odÅ¡tÄ›penÃ­m ÄÃ¡sti vÃ½vojÃ¡Å™Å¯
od projektu Mamboo. Joomla ve verzi 1.5 a vyÅ¡Å¡Ã­ nabÃ­zÃ­ kompletnÃ­ lokalizaci,
blogy, fÃ³ra, hlasovÃ¡nÃ­, kalendÃ¡Å™, indexaci strÃ¡nek, RSS kanÃ¡ly a rÅ¯znÃ¡
tÃ©mata.

Pro Joomlu je napsÃ¡no pÅ™es 3000 open source doplÅˆkÅ¯ a existujÃ­ i komerÄnÃ­
doplÅˆky napÅ™Ã­klad pro e-learning%
\footnote{\href{http://www.joomlalms.com/}{http://www.joomlalms.com/}%
}. Snadno lze vytvoÅ™it takÃ© internetovÃ© obchody, rezervaÄnÃ­ systÃ©my
a dalÅ¡Ã­ vlastnÃ­ aplikace dÃ­ky snadno rozÅ¡Ã­Å™itelnÃ© \emph{MVC} architektuÅ™e.

V neprospÄ›ch Joomly nahrÃ¡vÃ¡ mÃ¡lo strukturovanÃ© rozdÄ›lenÃ­ prÃ¡v uÅ¾ivatelÅ¯
k jednotlivÃ½m ÄlÃ¡nkÅ¯m a obsahu, coÅ¾ se mÃ¡ ale s verzÃ­ 1.7 zmÄ›nit.

%
\begin{figure}[!h]
\centering{}\includegraphics[width=1\textwidth]{joomla}\caption{Joomla! - administrÃ¡torskÃ© rozhranÃ­}

\end{figure}



\subsection{Drupal}

Drupal se stal open source projektem v roce 2001. NabÃ­zÃ­ propracovanÃ©
rozhranÃ­ pro sprÃ¡vu uÅ¾ivatelÅ¯, statistiku pÅ™Ã­stupÅ¯, blogy, fÃ³ra a
dalÅ¡Ã­ moduly vÄetnÄ› pÅ™ekladÅ¯ do mnoha jazykÅ¯. V systÃ©mu je dbÃ¡no hlavnÄ›
na bezpeÄnost. Proto mohou bÃ½t administrÃ¡toÅ™i automaticky upozornÄ›ni
na aktualizace jak jÃ¡dra aplikace, tak pÅ™idanÃ½ch modulÅ¯. NavÃ­c lze
pÅ™Ã­stup do systÃ©mu jednoduÅ¡e omezit podle IP adresy.

NejzajÃ­mavÄ›jÅ¡Ã­m rozÅ¡Ã­Å™enÃ­m s ohledem na cÃ­l tÃ©to prÃ¡ce je DrupalEd.
UmoÅ¾nuje tvorbu a sprÃ¡vu vÃ½ukovÃ½ch materiÃ¡lÅ¯, rozdÄ›lenÃ­ uÅ¾ivatelÅ¯
do skupin (tÅ™Ã­d) s moÅ¾nostÃ­ nastavenÃ­ pÅ™Ã­stupovÃ½ch prÃ¡v k jednotlivÃ½ch
strÃ¡nkÃ¡m.

ObÄas je ale Drupalu vyÄÃ­tano, Å¾e je oproti Joomle, v nÄ›kterÃ½ch nasazenÃ­ch
pomalejÅ¡Ã­. PÅ™esto se jednÃ¡ o velmi dobrÃ½ produkt vhodnÃ½ i pro vÄ›tÅ¡Ã­
projekty, kterÃ½ s pÅ™ichÃ¡zejÃ­cÃ­ verzÃ­ 7 tyto nedostatky postupnÄ› odstraÅˆuje.%
\begin{figure}[p]
\centering{}\includegraphics[width=1\textwidth]{drupal}\caption{Drupal - nastavenÃ­ rolÃ­ v systÃ©mu}

\end{figure}



\subsection{Wordpress}

Wordpress je propracovanÃ½m publikaÄnÃ­m nÃ¡strojem, jehoÅ¾ rozhranÃ­ je
velice intuitivnÃ­ a pÅ™ehlednÃ©. Funkcionalitu lze rozÅ¡Ã­Å™it pomocÃ­ pluginÅ¯
a na postrannÃ­ panel lze pÅ™idÃ¡vat widgety%
\footnote{prvek na strÃ¡nce zobrazujÃ­cÃ­ doplÅˆkovÃ© informace%
}, kterÃ© lze v administrÃ¡torskÃ©m prostÅ™edÃ­ nastavit \emph{drag-and-drop}%
\footnote{zpÅ¯sob prÃ¡ce s elementy, kterÃ© lze pÅ™esouvat mezi jednotlivÃ½mi aplikacemi
Äi jejich ÄÃ¡stmi%
} akcemi.

Na velice dobrÃ© Ãºrovni je podpora tÅ™Ã­dÄ›nÃ­ ÄlÃ¡nkÅ¯ pomocÃ­ kategoriÃ­
a Å¡tÃ­tkÅ¯, kde je takÃ© umoÅ¾nÄ›no vytvoÅ™enÃ­ trvalÃ©ho odkazu na ÄlÃ¡nek
pro pÅ™Ã­pad zmÄ›ny zaÅ™azenÃ­ do kategoriÃ­. K ÄlÃ¡nkÅ¯m lze pÅ™idÃ¡vat fotogalerie,
odkazy i videa. S verzÃ­ 2.7 rovnÄ›Å¾ pÅ™ibyla moÅ¾nost stahovanÃ­ aktualizacÃ­
a pluginÅ¯ pÅ™es administrÃ¡torskÃ© rozhranÃ­.

Tento nÃ¡stroj se zatÃ­m jevÃ­ jako vhodnÃ¡ alternativa k pÅ™edeÅ¡lÃ½m dvÄ›ma
komplexnÃ­m sprÃ¡vcÅ¯m, pro jednoduchÃ© publikovÃ¡nÃ­ s malÃ½mi nÃ¡roky na
studium administrÃ¡torskÃ©ho prostÅ™edÃ­.%
\begin{figure}
\centering{}\includegraphics[width=1\textwidth]{wordpress}\caption{Wordpress - sprÃ¡va widgetÅ¯}

\end{figure}



\section{E-Learning}

Samotnou kategorii pÅ™edstavujÃ­ rÅ¯znÃ© specializovanÃ© systÃ©my pro e-learning,
evidenci kurzÅ¯ a prodej produktÅ¯. Pro tyto systÃ©my se nejÄasteji uÅ¾Ã­vajÃ­
tyto nÃ¡zvy:
\begin{itemize}
\item Course~Management~System~(CMS%
\footnote{Zkratka je v tomto pÅ™Ã­padÄ› shodnÃ¡ se systÃ©my pro sprÃ¡vu obsahu, kterÃ¡
bude dÃ¡le v textu upÅ™ednotÅˆovÃ¡na.%
}) - systÃ©m pro sprÃ¡vu kurzÅ¯
\item Learning Management System (LMS) - systÃ©m pro Å™Ã­zenÃ­ vÃ½uky
\item Virtual Learning Enviroment (VLE) - virtuÃ¡lnÃ­ vÃ½ukovÃ© prostÅ™edÃ­
\end{itemize}
V poslednÃ­ch letech zaÅ¾Ã­vajÃ­ tyto systÃ©my bouÅ™livÃ½ vÃ½voj. VznikajÃ­
buÄ jako naprosto novÃ© systÃ©my, nebo jako rozÅ¡Ã­Å™enÃ­ do stÃ¡vajÃ­cÃ­ch
CMS. 

DÅ¯leÅ¾itÃ½m faktorem pro prÃ¡ci s e-learningovÃ½mi systÃ©mi je dodrÅ¾ovÃ¡nÃ­
standardÅ¯ tak, aby bylo moÅ¾nÃ© rychle a snadno zaÄlenit jiÅ¾ existujÃ­cÃ­
vÃ½ukovÃ½ materiÃ¡l, kterÃ½ mohl vzniknout jiÅ¾ pÅ™ed samotnÃ½m nasazenÃ­m
systÃ©mu. Mezi tyto standardy patÅ™Ã­ SCORM%
\footnote{\emph{Shareable Content Object Reference Model @todo}%
}. JednÃ¡ se o soubor specifikacÃ­, jenÅ¾ by mÄ›l danÃ½ systÃ©m podporovat,
aby v nÄ›m bylo moÅ¾nÃ© provozovat libovolnÃ½ kompatibilnÃ­ vÃ½ukovÃ½ obsah.

PÅ™i vÃ½voji informaÄnÃ­ho systÃ©mu byla tÃ©to ÄÃ¡sti vÄ›novanÃ¡ nejmenÅ¡Ã­
pozornost z dÅ¯vodÅ¯ existence kvalitnÃ­ch open source Å™eÅ¡enÃ­. Implementace
jednoduchÃ©ho testovÃ¡nÃ­ slovnÃ­ zÃ¡soby se nemÅ¯Å¾e s nÃ¡sledujÃ­cÃ­mi produkty
rovnat.


\subsection{Moodle}

Open source implementace e-learningovÃ½ch systÃ©mu jsou jiÅ¾ dnes hojnÄ›
vyuÅ¾Ã­vÃ¡ny. PÅ™Ã­kladem je \emph{Moodle}, kterÃ½ je rozÅ¡Ã­Å™en v mnoha zemÃ­ch
vÄetnÄ› ÄŒeskÃ© republiky a je vyuÅ¾Ã­vÃ¡n i na nÄ›kolika naÅ¡ich univerzitÃ¡ch,
napÅ™Ã­klad: UK , ÄŒVUT a ÄŒZU. Podle oficiÃ¡lnÃ­ch strÃ¡nek\cite{Moodle.cz}
umoÅ¾Åˆuje Äi podporuje snadnou publikaci studijnÃ­ch materiÃ¡lÅ¯, zaklÃ¡dÃ¡nÃ­
diskusnÃ­ch fÃ³r, sbÄ›r a hodnocenÃ­ elektronicky odevzdÃ¡vanÃ½ch ÃºkolÅ¯,
tvorbu online testÅ¯ a Å™adu dalÅ¡Ã­ch ÄinnostÃ­ slouÅ¾Ã­cÃ­ch pro podporu
vÃ½uky.%
\begin{figure}
\centering{}\includegraphics[width=1\textwidth]{moodle}\caption{Moodle - rozhranÃ­ pro uÄitele}

\end{figure}



\subsection{ATutor}

ATutor je navrÅ¾en s maximÃ¡lnÃ­m ohledem na pÅ™Ã­stupnost dle standardu
W3C WCAG 1.0. PÅ™i sprÃ¡vÄ› vÃ½ukovÃ©ho obsahu se mÅ¯Å¾ete spolehnou na kompatibilitu
s SCORM 1.2, pokroÄilou sprÃ¡vu prÃ¡v uÅ¾ivatelÅ¯ a kurzÅ¯. Lze v nÄ›m vytvÃ¡Å™et
blogy, fÃ³ra, testy a~vÃ©st evidenci o studijnÃ­ch vÃ½sledcÃ­ch.

SystÃ©m je snadno pÅ™izpÅ¯sobitelnÃ½ pomocÃ­ tÃ©mat a vÃ½hodou je moÅ¾nost
instalovat aktualizace a~opravy pÅ™Ã­mo z~webovÃ©ho prohlÃ­Å¾eÄe.%
\begin{figure}
\centering{}\includegraphics[width=1\textwidth]{atutor-patcher}\caption{ATutor - instalÃ¡tor aktualizacÃ­ a oprav}

\end{figure}



\subsection{Claroline}

Claroline mÃ¡ jednoduchÃ© a pÅ™ehlednÃ© rozhranÃ­. Studenti mohou vyuÅ¾Ã­vat
chat, diskuznÃ­ fÃ³ra a wiki. UÄitelÃ© majÃ­ moÅ¾nost vytvÃ¡Å™et Ãºkoly nebo
cviÄenÃ­ a zobrazit si jejich statistiky. 

DÃ¡le systÃ©m umoÅ¾nuje import kurzÅ¯ ve formÃ¡tu SCORM 1.2 a nastavenÃ­
pÅ™Ã­stupu k~jednotlivÃ½m strÃ¡nkÃ¡ch podle pÅ™Ã­sluÅ¡noti ke skupinÃ¡m.%
\begin{figure}
\centering{}\includegraphics[width=1\textwidth]{claroline}\caption{Claroline - rozhranÃ­ pro vedoucÃ­ho kurzu}

\end{figure}



\subsection{eFront}

EFront je vysoce propracovanÃ½ systÃ©m postavenÃ½ na technologii AJAX
s~atraktivnÃ­m designem. SamozÅ™ejmostÃ­ je podpora vÃ­cejazykovÃ¡ podpora
a~SCORM. Pro vÄ›tÅ¡Ã­ firmy mÅ¯Å¾e bÃ½t pÅ™Ã­nosem spoluprÃ¡ce s LDAP.

VÃ½Äet vÅ¡ech funkcÃ­ by byl velmi obsÃ¡hlÃ½, proto jsou zde uvedeny pouze
nejzajÃ­mavÄ›jÅ¡Ã­:
\begin{itemize}
\item sprÃ¡va uÅ¾ivatelÅ¯, lekcÃ­, kurzÅ¯ a kategoriÃ­
\item sprÃ¡vce souborÅ¯ a digitÃ¡lnÃ­ knihovny
\item tvorba testÅ¯
\item fÃ³ra, chat, kalendÃ¡Å™
\item pokrokovÃ© stopovÃ¡nÃ­ (informace o pokroku uÅ¾ivatele v lekcÃ­ch), historie
akcÃ­
\item tvorba vlastnÃ­ch certifikÃ¡tÅ¯
\item platebnÃ­ nÃ¡stroj - Paypal%
\begin{figure}[H]
\begin{centering}
\includegraphics[width=1\textwidth]{efront}\caption{eFront - ÃºvodnÃ­ administrÃ¡torskÃ¡ obrazovka}
. Velkou 
\par\end{centering}


\end{figure}

\end{itemize}

\chapter{ZÃ¡vÄ›r}

ImplementovanÃ½ systÃ©m po nÄ›kolika mÄ›sÃ­cÃ­ch ostrÃ©ho provozu mnohonÃ¡sobnÄ›
zkrÃ¡til dobu potÅ™ebnou k pÅ™Ã­pravÄ› vÃ½plat a kontrole faktur. DoÅ¡lo
ke zefektivnÄ›nÃ­ a zrychlenÃ­ prÃ¡ce pÅ™i vyÅ™izovÃ¡nÃ­ zakÃ¡zek. Byly odstranÄ›ny
duplicitnÃ­ Äinnosti a v neposlednÃ­ Å™adÄ› pÅ™ispÄ›l k tlaku na dodavatele,
aby svou Äinnost vykazovali vÄas a pÅ™esnÄ›.

UkÃ¡zalo se, Å¾e existuje mnoho kvalitnÃ­ch open source nÃ¡strojÅ¯, frameworkÅ¯
i jejich doplÅˆkÅ¯, kterÃ© usnadily a urychlily vÃ½voj systÃ©mu. DalÅ¡Ã­
rozvoj systÃ©mu by mÄ›l smÄ›Å™ovat k implementaci nÄ›kterÃ©ho ze sprÃ¡vcÅ¯
webovÃ©ho obsahu a nÃ¡stroje pro podporu vÃ½uky popsanÃ½ch v pÅ™edchÃ¡zejÃ­cÃ­
kapitole. ZavedenÃ­ informaÄnÃ­ho systÃ©mu do praxe poukÃ¡zalo rovnÄ›Å¾
i na nÄ›kterÃ© nedostatky v jeho implementaci i pouÅ¾itÃ½ch nÃ¡strojÃ­ch. 

Na vÃ½voj systÃ©mu je nutnÃ© jeÅ¡tÄ› dÃ¡le pracovat a pÅ™izpÅ¯sobovat ho aktuÃ¡lnÃ­m
trendÅ¯m v oblasti komunikace. RovnÄ›Å¾ vÃ½voj pouÅ¾itÃ½ch frameworkÅ¯ pÅ™inÃ¡Å¡Ã­
k menÅ¡Ã­ Äi vÄ›tÅ¡Ã­ zmÄ›ny, kterÃ© promÃ­tajÃ­ do funkcionality, vÃ½konu a
bezpeÄnosti aplikace.
\begin{thebibliography}{21}
\bibitem{informaÄnÃ­ systÃ©my}\href{http://www.informacny-system.sk}{http://www.informacny-system.sk}

\bibitem{wikipedia}Wikipedia: \emph{InformaÄnÃ­ systÃ©m}, \\
\href{http://cs.wikipedia.org/wiki/InformaÄnÃ­_systÃ©m}{http://cs.wikipedia.org/wiki/InformaÄnÃ­\_{}systÃ©m}

\bibitem{soukupova 2004}Dana SoukupovÃ¡: \emph{Algoritmy logickÃ©ho
nÃ¡vrhu relaÄnÃ­ databÃ¡ze}, 2004

\bibitem{wysiwyg}Wikipedia: WYSIWYG, ÄŒervenec 2009\\
\href{http://cs.wikipedia.org/wiki/WYSIWYG}{http://cs.wikipedia.org/wiki/WYSIWYG}

\bibitem{root-testy}Petr DanÄ›k: \emph{VelkÃ½ test PHP frameworkÅ¯},
ÄŒervenec 2008\\
\href{http://www.root.cz/clanky/velky-test-php-frameworku-2008/}{http://www.root.cz/clanky/velky-test-php-frameworku-2008/}

\bibitem{slicktest}\emph{Speed/validity selectors test for frameworks},
2007\\
\href{http://mootools.net/slickspeed/}{http://mootools.net/slickspeed/}

\bibitem{Moodle.cz}Moodle: ÃºvodnÃ­ strÃ¡nka\\
\href{http://moodle.cz/}{http://moodle.cz/}

\bibitem{CakePHP}Cake Software Foundation: \emph{The Cookbook}\\
\emph{\href{http://book.cakephp.org/}{http://book.cakephp.org/}}

\bibitem{CakePHP-MVC}Cake Software Foundation: \emph{PorozumÄ›nÃ­ Model-Pohled-Controller}\\
\href{http://book.cakephp.org/cz/view/10/Understanding-Model-View-Controller}{http://book.cakephp.org/cz/view/10/Understanding-Model-View-Controller}

\bibitem{MVC}Wikipedia: \emph{Model-view-controller}\\
\href{http://en.wikipedia.org/wiki/Model-view-controller}{http://en.wikipedia.org/wiki/Model-view-controller}

\bibitem{RFC1738}Berners-Lee, Masinter \& McCahill: Uniform Resource
Locators (URL), \emph{RFC1738}, Prosinec 1994\\
\href{http://www.ietf.org/rfc/rfc1738.txt}{http://www.ietf.org/rfc/rfc1738.txt}

\bibitem{ORM}Wikipedia: \emph{Object-relational mapping}\\
\emph{\href{http://en.wikipedia.org/wiki/O-RM}{http://en.wikipedia.org/wiki/O-RM}}

\bibitem{i18n}\emph{I18n - Internacionalizace}\\
\href{http://kore.fi.muni.cz:5080/wiki/index.php/I18n_-_Internacionalizace}{http://kore.fi.muni.cz:5080/wiki/index.php/I18n\_{}-\_{}Internacionalizace}

\bibitem{l10n}\emph{PV168/Lokalizace a internacionalizace}\\
\href{http://kore.fi.muni.cz:5080/wiki/index.php/PV168/Lokalizace_a_internacionalizace}{http://kore.fi.muni.cz:5080/wiki/index.php/PV168/Lokalizace\_{}a\_{}internacionalizace}

\bibitem{p28n}Jason Chow: \emph{P28n, the top to bottom persistent
internationalization tutorial}\\
http://bakery.cakephp.org/articles/view/\\
p28n-the-top-to-bottom-persistent-internationalization-tutorial

\bibitem{pass-gen}\emph{Random password generator component for CakePHP},
ÄŒerven 2008\\
http://www.solitechgmbh.com/2008/06/11/\\
random-password-generator-component-for-cakephp/

\bibitem{linkable}Rafael Bandeira: \emph{Linkable Behavior. Taking
it easy in your DB}, Listopad 2008\\
http://blog.rafaelbandeira3.com/2008/11/16/\\
linkable-behavior-taking-it-easy-in-your-db/

\bibitem{ExtendAssoc}Brandon Parise: \emph{HABTM Add \& Delete Behavior},
KvÄ›ten 2007\\
\href{http://bakery.cakephp.org/articles/view/add-delete-habtm-behavior}{http://bakery.cakephp.org/articles/view/add-delete-habtm-behavior}

\bibitem{apache2}\emph{Apache HTTP Server Version 2.0 Documentation}\\
\href{http://httpd.apache.org/docs/2.0/}{http://httpd.apache.org/docs/2.0/}

\bibitem{MySQL}\href{http://www.mysql.com/}{http://www.mysql.com/}

\bibitem{ECMA-262}\href{http://www.ecma-international.org/publications/standards/Ecma-262.htm}{http://www.ecma-international.org/publications/standards/Ecma-262.htm}

\end{thebibliography}
\appendix

\chapter{Obsah pÅ™iloÅ¾enÃ©ho CD}
\begin{description}
\item [{BakalÃ¡Å™kÃ¡~prÃ¡ce}] tisknutelnÃ½ PDF soubor s textem tÃ©to prÃ¡ce.
\end{description}

\end{document}
